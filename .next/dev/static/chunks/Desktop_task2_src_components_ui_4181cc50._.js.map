{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/loading-button.tsx"],"sourcesContent":["'use client'\n\nimport { cn } from '@/lib/utils'\nimport { LoadingSpinner } from '../loading-states'\n\ninterface LoadingButtonProps {\n  children: React.ReactNode\n  loading?: boolean\n  disabled?: boolean\n  loadingText?: string\n  variant?: 'primary' | 'secondary' | 'danger' | 'outline'\n  size?: 'sm' | 'md' | 'lg'\n  className?: string\n  onClick?: () => void\n  type?: 'button' | 'submit' | 'reset'\n  fullWidth?: boolean\n}\n\nexport default function LoadingButton({\n  children,\n  loading = false,\n  disabled = false,\n  loadingText,\n  variant = 'primary',\n  size = 'md',\n  className,\n  onClick,\n  type = 'button',\n  fullWidth = false\n}: LoadingButtonProps) {\n  const isDisabled = disabled || loading\n\n  const baseClasses = \"inline-flex items-center justify-center font-semibold border-2 transition-colors duration-300 cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2\"\n  \n  const variantClasses = {\n    primary: \"bg-[#5046E5] text-white border-[#5046E5] hover:bg-transparent hover:text-[#5046E5] focus:ring-[#5046E5]\",\n    secondary: \"bg-gray-600 text-white border-gray-600 hover:bg-transparent hover:text-gray-600 focus:ring-gray-600\",\n    danger: \"bg-red-600 text-white border-red-600 hover:bg-transparent hover:text-red-600 focus:ring-red-600\",\n    outline: \"bg-transparent text-[#5046E5] border-[#5046E5] hover:bg-[#5046E5] hover:text-white focus:ring-[#5046E5]\"\n  }\n  \n  const sizeClasses = {\n    sm: \"px-4 py-2 text-sm rounded-md\",\n    md: \"px-6 py-3 text-base rounded-lg\",\n    lg: \"px-8 py-4 text-lg rounded-lg\"\n  }\n  \n  const disabledClasses = isDisabled \n    ? \"bg-gray-300 text-gray-500 border-gray-300 cursor-not-allowed hover:bg-gray-300 hover:text-gray-500\" \n    : \"\"\n\n  return (\n    <button\n      type={type}\n      onClick={onClick}\n      disabled={isDisabled}\n      className={cn(\n        baseClasses,\n        variantClasses[variant],\n        sizeClasses[size],\n        disabledClasses,\n        fullWidth && \"w-full\",\n        className\n      )}\n      aria-disabled={isDisabled}\n    >\n      {loading && (\n        <LoadingSpinner size=\"sm\" className=\"mr-2\" />\n      )}\n      {loading ? (loadingText || 'Loading...') : children}\n    </button>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAkBe,SAAS,cAAc,EACpC,QAAQ,EACR,UAAU,KAAK,EACf,WAAW,KAAK,EAChB,WAAW,EACX,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,SAAS,EACT,OAAO,EACP,OAAO,QAAQ,EACf,YAAY,KAAK,EACE;IACnB,MAAM,aAAa,YAAY;IAE/B,MAAM,cAAc;IAEpB,MAAM,iBAAiB;QACrB,SAAS;QACT,WAAW;QACX,QAAQ;QACR,SAAS;IACX;IAEA,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,kBAAkB,aACpB,uGACA;IAEJ,qBACE,iNAAC;QACC,MAAM;QACN,SAAS;QACT,UAAU;QACV,WAAW,IAAA,gJAAE,EACX,aACA,cAAc,CAAC,QAAQ,EACvB,WAAW,CAAC,KAAK,EACjB,iBACA,aAAa,UACb;QAEF,iBAAe;;YAEd,yBACC,iNAAC,gLAAc;gBAAC,MAAK;gBAAK,WAAU;;;;;;YAErC,UAAW,eAAe,eAAgB;;;;;;;AAGjD;KAtDwB"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/global-notification.tsx"],"sourcesContent":["'use client'\n\nimport { AlertCircle } from 'lucide-react'\nimport { create } from 'zustand'\n\ninterface NotificationState {\n  message: string\n  type: 'success' | 'error' | 'warning' | 'info'\n  isVisible: boolean\n  showNotification: (message: string, type?: 'success' | 'error' | 'warning' | 'info', duration?: number) => void\n  hideNotification: () => void\n}\n\nexport const useNotificationStore = create<NotificationState>((set) => ({\n  message: '',\n  type: 'info',\n  isVisible: false,\n  showNotification: (message, type = 'info', duration?: number) => {\n    set({ message, type, isVisible: true })\n    // Auto hide after duration (default: 10 seconds, error: 15 seconds)\n    const hideDelay = duration ?? (type === 'error' ? 15000 : 10000)\n    setTimeout(() => {\n      set({ isVisible: false })\n    }, hideDelay)\n  },\n  hideNotification: () => set({ isVisible: false })\n}))\n\nexport default function GlobalNotification() {\n  const { message, type, isVisible, hideNotification } = useNotificationStore()\n\n  if (!isVisible) return null\n\n  const getIcon = () => {\n    switch (type)\n    {\n      case 'success':\n        return (\n          <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n          </svg>\n        )\n      case 'error':\n        return (\n          <AlertCircle className=\"w-5 h-5 text-red-500 flex-shrink-0\" />\n        )\n      case 'warning':\n        return (\n          <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fillRule=\"evenodd\" d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n          </svg>\n        )\n      default:\n        return (\n          <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n          </svg>\n        )\n    }\n  }\n\n  const getBackgroundColor = () => {\n    switch (type)\n    {\n      case 'success':\n        return 'bg-green-50 border-green-200 text-green-800'\n      case 'error':\n        return 'bg-red-50 border-red-200 text-red-800'\n      case 'warning':\n        return 'bg-yellow-50 border-yellow-200 text-yellow-800'\n      default:\n        return 'bg-blue-50 border-blue-200 text-blue-800'\n    }\n  }\n\n  return (\n    <div className=\"px-2\">\n    <div className=\"fixed top-4 md:right-4 right-0 z-[9999] md:max-w-sm max-w-full w-full\">\n      <div className={`flex items-start p-4 border rounded-lg shadow-lg ${getBackgroundColor()}`}>\n        <div className=\"flex-shrink-0 mr-3\">\n          {getIcon()}\n        </div>\n        <div className=\"flex-1\">\n          <p className=\"text-sm font-medium\">{message}</p>\n        </div>\n        <button\n          onClick={hideNotification}\n          className=\"flex-shrink-0 ml-3 text-gray-400 hover:text-gray-600\"\n        >\n          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAaO,MAAM,uBAAuB,IAAA,yKAAM,EAAoB,CAAC,MAAQ,CAAC;QACtE,SAAS;QACT,MAAM;QACN,WAAW;QACX,kBAAkB,CAAC,SAAS,OAAO,MAAM,EAAE;YACzC,IAAI;gBAAE;gBAAS;gBAAM,WAAW;YAAK;YACrC,oEAAoE;YACpE,MAAM,YAAY,YAAY,CAAC,SAAS,UAAU,QAAQ,KAAK;YAC/D,WAAW;gBACT,IAAI;oBAAE,WAAW;gBAAM;YACzB,GAAG;QACL;QACA,kBAAkB,IAAM,IAAI;gBAAE,WAAW;YAAM;IACjD,CAAC;AAEc,SAAS;;IACtB,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,gBAAgB,EAAE,GAAG;IAEvD,IAAI,CAAC,WAAW,OAAO;IAEvB,MAAM,UAAU;QACd,OAAQ;YAEN,KAAK;gBACH,qBACE,iNAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAe,SAAQ;8BACnD,cAAA,iNAAC;wBAAK,UAAS;wBAAU,GAAE;wBAAwI,UAAS;;;;;;;;;;;YAGlL,KAAK;gBACH,qBACE,iNAAC,0PAAW;oBAAC,WAAU;;;;;;YAE3B,KAAK;gBACH,qBACE,iNAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAe,SAAQ;8BACnD,cAAA,iNAAC;wBAAK,UAAS;wBAAU,GAAE;wBAAoN,UAAS;;;;;;;;;;;YAG9P;gBACE,qBACE,iNAAC;oBAAI,WAAU;oBAAU,MAAK;oBAAe,SAAQ;8BACnD,cAAA,iNAAC;wBAAK,UAAS;wBAAU,GAAE;wBAAmI,UAAS;;;;;;;;;;;QAG/K;IACF;IAEA,MAAM,qBAAqB;QACzB,OAAQ;YAEN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,iNAAC;QAAI,WAAU;kBACf,cAAA,iNAAC;YAAI,WAAU;sBACb,cAAA,iNAAC;gBAAI,WAAW,CAAC,iDAAiD,EAAE,sBAAsB;;kCACxF,iNAAC;wBAAI,WAAU;kCACZ;;;;;;kCAEH,iNAAC;wBAAI,WAAU;kCACb,cAAA,iNAAC;4BAAE,WAAU;sCAAuB;;;;;;;;;;;kCAEtC,iNAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,iNAAC;4BAAI,WAAU;4BAAU,MAAK;4BAAe,SAAQ;sCACnD,cAAA,iNAAC;gCAAK,UAAS;gCAAU,GAAE;gCAAqM,UAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOrP;GArEwB;;QACiC;;;KADjC"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/signup-modal.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect, useCallback } from 'react'\nimport { Eye, EyeOff, AlertCircle, CheckCircle } from 'lucide-react'\n\nimport { validatePassword, getPasswordStrength, getPasswordStrengthColor, getPasswordStrengthBgColor } from '@/lib/password-validation'\nimport { useAppDispatch } from '@/store/hooks'\nimport { setUser } from '@/store/slices/userSlice'\nimport { validateAndHandleToken } from '@/lib/jwt-client'\nimport { apiService } from '@/lib/api-service'\nimport LoadingButton from './loading-button'\nimport { useModalScrollLock } from '@/hooks/useModalScrollLock'\nimport { useNotificationStore } from './global-notification'\n\n// Google OAuth TypeScript declarations\ndeclare global {\n  interface Window {\n    google: {\n      accounts: {\n        oauth2: {\n          initTokenClient: (config: {\n            client_id: string\n            scope: string\n            callback: (response: { access_token?: string; error?: string }) => void\n          }) => {\n            requestAccessToken: () => void\n          }\n        }\n      }\n    }\n  }\n}\n\ninterface SignupModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onOpenSignin?: () => void\n  onRegistrationSuccess?: (email: string) => void\n}\n\ninterface FormData {\n  firstName: string\n  lastName: string\n  email: string\n  phone: string\n  password: string\n  confirmPassword: string\n}\n\ninterface FormErrors {\n  firstName: string\n  lastName: string\n  email: string\n  phone: string\n  password: string\n  confirmPassword: string\n  general?: string\n}\n\ninterface PasswordStrength {\n  score: number\n  feedback: string[]\n}\n\n\n\nexport default function SignupModal({ isOpen, onClose, onOpenSignin, onRegistrationSuccess }: SignupModalProps) {\n  const dispatch = useAppDispatch()\n  const { showNotification } = useNotificationStore()\n  \n  // Use the custom scroll lock hook\n  useModalScrollLock(isOpen)\n\n  const [formData, setFormData] = useState<FormData>({\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n    password: '',\n    confirmPassword: ''\n  })\n  const [errors, setErrors] = useState<FormErrors>({\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n    password: '',\n    confirmPassword: ''\n  })\n  const [showPassword, setShowPassword] = useState(false)\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [showSuccess, setShowSuccess] = useState(false)\n  const [passwordStrength, setPasswordStrength] = useState<PasswordStrength>({ score: 0, feedback: [] })\n  const [isGoogleLoading, setIsGoogleLoading] = useState(false)\n\n  const googleTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n  // Refs for focus management\n  const modalRef = useRef<HTMLDivElement>(null)\n  const firstInputRef = useRef<HTMLInputElement>(null)\n  const errorAnnouncementRef = useRef<HTMLDivElement>(null)\n\n  // Password strength checker using centralized validation\n  const checkPasswordStrength = (password: string): PasswordStrength => {\n    const result = validatePassword(password)\n    return {\n      score: result.score,\n      feedback: result.feedback\n    }\n  }\n\n  // Phone number is now optional and accepts any format\n\n  // Simple input sanitization\n  const enhancedSanitizeInput = (value: string): string => {\n    return value.trim();\n  }\n\n\n  // Legacy rate limiting check (now using RateLimiter class)\n  // const checkRateLimit = (): boolean => {\n  //   const now = Date.now()\n  //   const timeSinceLastSubmission = now - lastSubmissionTime\n\n  //   if (timeSinceLastSubmission < 2000) { // 2 seconds cooldown\n  //     return false\n  //   }\n\n  //   if (submissionCount >= 5 && timeSinceLastSubmission < 60000) { // 5 attempts per minute\n  //     return false\n  //   }\n\n  //   return true\n  // }\n\n\n  const handleInputChange = (field: keyof FormData, value: string) => {\n    let processedValue = value\n\n    // Apply field-specific processing with enhanced security\n    if (field === 'phone') {\n      // For phone, only allow digits and spaces\n      processedValue = value.replace(/[^0-9\\s]/g, '')\n    } else if (field === 'firstName' || field === 'lastName') {\n      // For names, allow any characters including spaces - no filtering\n      processedValue = value\n    } else {\n      processedValue = enhancedSanitizeInput(value)\n    }\n\n    setFormData(prev => ({\n      ...prev,\n      [field]: processedValue\n    }))\n\n    // Real-time password strength check (keep this for better UX)\n    if (field === 'password')\n    {\n      setPasswordStrength(checkPasswordStrength(processedValue))\n    }\n\n    // Clear error when user starts typing (keep this for better UX)\n    if (errors[field])\n    {\n      setErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }))\n    }\n  }\n\n  // Remove blur validation - validation only happens on submit\n  const handleInputBlur = () => {\n    // No validation on blur - only on submit\n  }\n\n  const validateForm = () => {\n    const newErrors = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: '',\n      password: '',\n      confirmPassword: ''\n    }\n\n    // Validate each field and collect errors\n    Object.entries(formData).forEach(([key, value]) => {\n      const field = key as keyof FormData\n      switch (field)\n      {\n        case 'firstName':\n          if (!value.trim())\n          {\n            newErrors.firstName = 'First Name is required'\n          }\n          break\n        case 'lastName':\n          if (!value.trim())\n          {\n            newErrors.lastName = 'Last Name is required'\n          }\n          break\n        case 'email':\n          if (!value.trim())\n          {\n            newErrors.email = 'Email is required'\n          } else if (!value.includes('@'))\n          {\n            newErrors.email = 'Email must contain @ symbol'\n          } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value))\n          {\n            newErrors.email = 'Please enter a valid email address'\n          }\n          break\n        case 'phone':\n          if (value.trim() && !/^[0-9]+$/.test(value.replace(/\\s+/g, '')))\n          {\n            newErrors.phone = 'Phone number can only contain digits'\n          }\n          break\n        case 'password':\n          if (!value.trim())\n          {\n            newErrors.password = 'Password is required'\n          } else\n          {\n            const passwordResult = validatePassword(value)\n            if (!passwordResult.isValid)\n            {\n              newErrors.password = passwordResult.errors[0] || 'Password does not meet requirements'\n            }\n          }\n          break\n        case 'confirmPassword':\n          if (!value.trim())\n          {\n            newErrors.confirmPassword = 'Confirm Password is required'\n          } else if (value !== formData.password)\n          {\n            newErrors.confirmPassword = 'Passwords do not match'\n          }\n          break\n      }\n    })\n\n    // Set the errors\n    setErrors(newErrors)\n\n    // Return true if no errors, false if there are errors\n    return !Object.values(newErrors).some(error => error !== '')\n  }\n\n  const handleSignup = async () => {\n    // Simple rate limiting check\n    const now = Date.now();\n    const lastAttempt = localStorage.getItem('lastSignupAttempt') || '0';\n    const attemptCount = parseInt(localStorage.getItem('signupAttemptCount') || '0');\n\n    if (now - parseInt(lastAttempt) < 60000 && attemptCount >= 5)\n    {\n      showNotification('Too many signup attempts. Please wait 1 minute before trying again.', 'error');\n      return;\n    }\n\n\n    if (!validateForm())\n    {\n      // Announce errors to screen readers\n      if (errorAnnouncementRef.current)\n      {\n        errorAnnouncementRef.current.textContent = 'Form has validation errors. Please check all fields.'\n      }\n      showNotification('Please fix the validation errors before submitting.', 'error')\n      return\n    }\n\n    setIsSubmitting(true)\n\n    try\n    {\n      // Call the registration API using new Express backend with global loading\n      const response = await apiService.registerWithGlobalLoading({\n        firstName: formData.firstName,\n        lastName: formData.lastName,\n        email: formData.email,\n        phone: formData.phone,\n        password: formData.password\n      })\n\n      const data = response\n\n      if (data.success)\n      {\n        // Clear saved form data from localStorage after successful registration\n        localStorage.removeItem('signupFormData')\n\n        // Update rate limiting\n        localStorage.setItem('lastSignupAttempt', now.toString());\n        localStorage.setItem('signupAttemptCount', '0');\n\n        // Show success message\n        showNotification('Account created successfully! Please check your email for verification.', 'success')\n\n        // Call the success callback with email\n        onRegistrationSuccess?.(formData.email)\n\n        // Close the signup modal immediately after successful registration\n        handleSuccessfulClose()\n\n      } else\n      {\n        // Increment rate limiting counter\n        const newCount = attemptCount + 1;\n        localStorage.setItem('signupAttemptCount', newCount.toString());\n\n        // Handle specific error cases\n        if (data.message.includes('already exists'))\n        {\n          showNotification('An account with this email already exists. Please sign in instead.', 'error')\n        } else\n        {\n          showNotification(data.message || 'Registration failed. Please try again.', 'error')\n        }\n      }\n\n    } catch (error)\n    {\n      const errorMessage = error instanceof Error ? error.message : String(error)\n      showNotification(`${errorMessage}`, 'error')\n    } finally\n    {\n      setIsSubmitting(false)\n    }\n  }\n\n  const handleGoogleSignup = async () => {\n    setIsGoogleLoading(true)\n    \n    try\n    {\n      // Initialize Google OAuth\n      if (typeof window !== 'undefined' && window.google)\n      {\n        // Use Google Identity Services\n        const client = window.google.accounts.oauth2.initTokenClient({\n          client_id: process.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID || '',\n          scope: 'openid email profile',\n          callback: async (response: { access_token?: string; error?: string }) => {\n            try {\n              if (response.access_token)\n              {\n                await handleGoogleToken(response.access_token)\n              } else if (response.error)\n              {\n                showNotification(`Google authentication failed: ${response.error}`, 'error')\n              } else\n              {\n                showNotification('Google authentication was cancelled', 'error')\n              }\n            } catch (error) {\n              const errorMessage = error instanceof Error ? error.message : String(error)\n              showNotification(`Google signup error: ${errorMessage}`, 'error')\n            } finally {\n              if (googleTimeoutRef.current) {\n                clearTimeout(googleTimeoutRef.current)\n                googleTimeoutRef.current = null\n              }\n              // Only reset loading state if handleGoogleToken wasn't called\n              if (!response.access_token) {\n                setIsGoogleLoading(false)\n              }\n            }\n          },\n        })\n\n        client.requestAccessToken()\n        \n        // Set a timeout to reset loading state if callback doesn't fire\n        googleTimeoutRef.current = setTimeout(() => {\n          setIsGoogleLoading(false)\n          showNotification('Google authentication timed out. Please try again.', 'error')\n          googleTimeoutRef.current = null\n        }, 30000) // 30 second timeout\n      } else\n      {\n        // Fallback to traditional OAuth flow\n        const authUrl = `https://accounts.google.com/o/oauth2/auth?` +\n          `client_id=${process.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID || ''}&` +\n          `redirect_uri=${encodeURIComponent(`${window.location.origin}/auth/google/callback`)}&` +\n          `scope=${encodeURIComponent('openid email profile')}&` +\n          `response_type=code&` +\n          `access_type=offline`\n\n        window.location.href = authUrl\n      }\n    } catch (error)\n    {\n      const errorMessage = error instanceof Error ? error.message : String(error)\n      showNotification(`Google signup error: ${errorMessage}`, 'error')\n      setIsGoogleLoading(false)\n    }\n  }\n\n  const handleGoogleToken = async (accessToken: string) => {\n    try\n    {\n      // Get user info from Google\n      const userInfoResponse = await fetch('https://www.googleapis.com/oauth2/v2/userinfo', {\n        headers: {\n          'Authorization': `Bearer ${accessToken}`,\n        },\n      })\n\n      if (!userInfoResponse.ok)\n      {\n        throw new Error('Failed to get user info from Google')\n      }\n\n      const userInfo = await userInfoResponse.json()\n\n      // Call your backend API with Google user data using apiService\n      const response = await apiService.googleLogin({\n        googleId: userInfo.id,\n        email: userInfo.email,\n        firstName: userInfo.given_name || '',\n        lastName: userInfo.family_name || ''\n      })\n\n      const data = response\n\n      if (data.success && data.data)\n      {\n        // Validate JWT token before storing\n        const accessToken = data.data.accessToken;\n        if (!validateAndHandleToken(accessToken))\n        {\n          showNotification('Invalid token received. Please try again.', 'error');\n          return;\n        }\n\n        // Store the access token\n        localStorage.setItem('accessToken', accessToken)\n\n        // Dispatch Redux action to set user data\n        dispatch(setUser({\n          user: {\n            id: data.data.user.id,\n            email: data.data.user.email,\n            firstName: data.data.user.firstName,\n            lastName: data.data.user.lastName,\n            phone: data.data.user.phone || '',\n            isEmailVerified: data.data.user.isEmailVerified,\n            googleId: undefined,\n            createdAt: new Date().toISOString(),\n            updatedAt: new Date().toISOString()\n          },\n          accessToken: accessToken\n        }))\n\n        // Check pending workflows after socket connection is established\n        if (data.data?.user?.id) {\n          const userId = data.data.user.id\n          // The unified socket system will automatically check pending workflows\n          // No need for manual event listeners or fallbacks\n          console.log('ðŸ”Œ Pending workflows will be checked automatically by unified socket system')\n        }\n\n        // Clear saved form data from localStorage after successful registration\n        localStorage.removeItem('signupFormData')\n\n        setFormData({\n          firstName: '',\n          lastName: '',\n          email: '',\n          phone: '',\n          password: '',\n          confirmPassword: ''\n        })\n        setErrors({\n          firstName: '',\n          lastName: '',\n          email: '',\n          phone: '',\n          password: '',\n          confirmPassword: ''\n        })\n\n        // Show success message\n        const welcomeMessage = data.data.isNewUser\n          ? `Welcome to EdgeAi, ${data.data.user.firstName}! Your account has been created successfully.`\n          : `Welcome back to EdgeAi, ${data.data.user.firstName}!`\n        showNotification(welcomeMessage, 'success')\n\n        // Close modal immediately after successful registration\n        handleSuccessfulClose()\n      } else\n      {\n        showNotification(data.message || 'Google signup failed. Please try again.', 'error')\n      }\n    } catch (error)\n    {\n      const errorMessage = error instanceof Error ? error.message : String(error)\n      showNotification(`Google token handling error: ${errorMessage}`, 'error')\n    } finally\n    {\n      if (googleTimeoutRef.current) {\n        clearTimeout(googleTimeoutRef.current)\n        googleTimeoutRef.current = null\n      }\n      // Always reset loading state\n      setIsGoogleLoading(false)\n    }\n  }\n\n  const handleClose = useCallback(() => {\n    if (googleTimeoutRef.current) {\n      clearTimeout(googleTimeoutRef.current)\n      googleTimeoutRef.current = null\n    }\n\n    setFormData({\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: '',\n      password: '',\n      confirmPassword: ''\n    })\n    setErrors({\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: '',\n      password: '',\n      confirmPassword: ''\n    })\n    setShowSuccess(false)\n    setIsSubmitting(false)\n    setPasswordStrength({ score: 0, feedback: [] })\n    setShowPassword(false)\n    setShowConfirmPassword(false)\n    setIsGoogleLoading(false)\n    onClose()\n  }, [onClose])\n\n  const handleSuccessfulClose = useCallback(() => {\n    // Clear Google OAuth timeout if exists\n    if (googleTimeoutRef.current) {\n      clearTimeout(googleTimeoutRef.current)\n      googleTimeoutRef.current = null\n    }\n\n    setFormData({\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: '',\n      password: '',\n      confirmPassword: ''\n    })\n    setErrors({\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: '',\n      password: '',\n      confirmPassword: ''\n    })\n    setShowSuccess(false)\n    setIsSubmitting(false)\n    setPasswordStrength({ score: 0, feedback: [] })\n    setShowPassword(false)\n    setShowConfirmPassword(false)\n    setIsGoogleLoading(false)\n    onClose()\n  }, [onClose])\n\n  // Focus management and accessibility\n  useEffect(() => {\n    if (isOpen)\n    {\n      // Focus first input when modal opens\n      setTimeout(() => {\n        firstInputRef.current?.focus()\n      }, 100)\n\n      // Trap focus within modal\n      const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key === 'Escape')\n        {\n          handleClose()\n        }\n\n        if (e.key === 'Tab' && modalRef.current)\n        {\n          const focusableElements = modalRef.current.querySelectorAll(\n            'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n          )\n          const firstElement = focusableElements[0] as HTMLElement\n          const lastElement = focusableElements[focusableElements.length - 1] as HTMLElement\n\n          if (e.shiftKey)\n          {\n            if (document.activeElement === firstElement)\n            {\n              e.preventDefault()\n              lastElement.focus()\n            }\n          } else\n          {\n            if (document.activeElement === lastElement)\n            {\n              e.preventDefault()\n              firstElement.focus()\n            }\n          }\n        }\n      }\n\n      document.addEventListener('keydown', handleKeyDown)\n      return () => {\n        document.removeEventListener('keydown', handleKeyDown)\n      }\n    }\n  }, [isOpen, handleClose])\n\n  // Load saved form data on mount and clear errors when modal opens\n  useEffect(() => {\n    if (isOpen)\n    {\n      // Clear all error states and form data when modal opens\n      setFormData({\n        firstName: '',\n        lastName: '',\n        email: '',\n        phone: '',\n        password: '',\n        confirmPassword: ''\n      })\n      setErrors({\n        firstName: '',\n        lastName: '',\n        email: '',\n        phone: '',\n        password: '',\n        confirmPassword: ''\n      })\n      setPasswordStrength({ score: 0, feedback: [] })\n      setIsSubmitting(false)\n      setShowPassword(false)\n      setShowConfirmPassword(false)\n      setIsGoogleLoading(false)\n      \n      if (googleTimeoutRef.current) {\n        clearTimeout(googleTimeoutRef.current)\n        googleTimeoutRef.current = null\n      }\n    } else\n    {\n      // Load saved form data when modal is closed (only if there's saved data)\n      const savedData = localStorage.getItem('signupFormData')\n      if (savedData)\n      {\n        try\n        {\n          const parsedData = JSON.parse(savedData)\n          setFormData(prev => ({ ...prev, ...parsedData }))\n        } catch (error)\n        {\n          const errorMessage = error instanceof Error ? error.message : String(error)\n          showNotification(`${errorMessage}`, 'error')\n        }\n      }\n    }\n  }, [isOpen, showNotification])\n\n  // Load Google OAuth script\n  useEffect(() => {\n    if (typeof window !== 'undefined' && !window.google)\n    {\n      const script = document.createElement('script')\n      script.src = 'https://accounts.google.com/gsi/client'\n      script.async = true\n      script.defer = true\n      document.head.appendChild(script)\n    }\n  }, [])\n\n  if (!isOpen) return null\n\n  return (\n    <>\n      <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n        <div\n          ref={modalRef}\n          className=\"bg-white rounded-[12px] xl:h-fit h-full md:px-[55px] px-4 pt-10 pb-10 max-w-[820px] w-full max-h-[726px] flex flex-col relative\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"signup-modal-title\"\n          aria-describedby=\"signup-modal-description\"\n        >\n          {/* Screen reader announcements */}\n          <div\n            ref={errorAnnouncementRef}\n            className=\"sr-only\"\n            aria-live=\"polite\"\n            aria-atomic=\"true\"\n          />\n          <button\n            onClick={handleClose}\n            className=\"cursor-pointer md:ml-4 md:absolute md:top-[30px] md:right-[30px] absolute top-[20px] right-[20px]\"\n            aria-label=\"Close signup modal\"\n          >\n            <svg width=\"24\" height=\"24\" className=\"md:w-6 md:h-6 w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M22.5 1.5L1.5 22.5M1.5 1.5L22.5 22.5\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n            </svg>\n          </button>\n\n          {/* Success Message */}\n          {showSuccess && (\n            <div className=\"absolute inset-0 bg-white rounded-[12px] flex items-center justify-center z-10\">\n              <div className=\"text-center\">\n                <CheckCircle className=\"w-16 h-16 text-green-500 mx-auto mb-4\" />\n                <h3 className=\"text-2xl font-semibold text-gray-800 mb-2\">Account Created Successfully!</h3>\n                <p className=\"text-gray-600\">Welcome to EdgeAi. You can now start creating amazing videos.</p>\n              </div>\n            </div>\n          )}\n\n          {/* Modal Header */}\n          <div className=\"flex items-center justify-between flex-shrink-0\">\n            <div className=\"flex-1\">\n              <h3 id=\"signup-modal-title\" className=\"md:text-[48px] text-[25px] font-semibold text-[#282828] text-center\">\n                Welcome to <span className=\"text-[#5046E5]\">EdgeAi</span>\n              </h3>\n              <p id=\"signup-modal-description\" className=\"text-[#667085] text-[16px] text-center mt-2\">\n                Please enter your details to create your <br className=\"hidden md:block\" /> account and make videos seamlessly.\n              </p>\n            </div>\n          </div>\n\n          {/* Modal Content */}\n          <div className=\"pt-7 overflow-y-auto flex-1 px-2\">\n            {/* General Error Message */}\n            {errors.general && (\n              <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2\">\n                <AlertCircle className=\"w-5 h-5 text-red-500 flex-shrink-0\" />\n                <p className=\"text-red-700 text-sm\">{errors.general}</p>\n              </div>\n            )}\n\n            <form onSubmit={(e) => { e.preventDefault(); handleSignup(); }}>\n\n              {/* Form Fields - Two Columns */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 mb-4\">\n                {/* First Name */}\n                <div className=\"w-full\">\n                  <label htmlFor=\"firstName\" className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n                    First Name\n                  </label>\n                  <input\n                    ref={firstInputRef}\n                    id=\"firstName\"\n                    type=\"text\"\n                    value={formData.firstName}\n                    onChange={(e) => handleInputChange('firstName', e.target.value)}\n                    onBlur={handleInputBlur}\n                    placeholder=\"Enter First Name\"\n                    aria-describedby={errors.firstName ? 'firstName-error' : undefined}\n                    aria-invalid={!!errors.firstName}\n                    className={`w-full px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white ${errors.firstName ? 'ring-2 ring-red-500' : ''\n                      }`}\n                  />\n                  {errors.firstName && (\n                    <p id=\"firstName-error\" className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {errors.firstName}\n                    </p>\n                  )}\n                </div>\n\n                {/* Last Name */}\n                <div className=\"w-full\">\n                  <label htmlFor=\"lastName\" className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n                    Last Name\n                  </label>\n                  <input\n                    id=\"lastName\"\n                    type=\"text\"\n                    value={formData.lastName}\n                    onChange={(e) => handleInputChange('lastName', e.target.value)}\n                    onBlur={handleInputBlur}\n                    placeholder=\"Enter Last Name\"\n                    aria-describedby={errors.lastName ? 'lastName-error' : undefined}\n                    aria-invalid={!!errors.lastName}\n                    className={`w-full px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white ${errors.lastName ? 'ring-2 ring-red-500' : ''\n                      }`}\n                  />\n                  {errors.lastName && (\n                    <p id=\"lastName-error\" className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {errors.lastName}\n                    </p>\n                  )}\n                </div>\n\n                {/* Email */}\n                <div className=\"w-full\">\n                  <label htmlFor=\"email\" className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n                    Email\n                  </label>\n                  <input\n                    id=\"email\"\n                    type=\"email\"\n                    value={formData.email}\n                    onChange={(e) => handleInputChange('email', e.target.value)}\n                    onBlur={handleInputBlur}\n                    placeholder=\"Enter Email\"\n                    aria-describedby={errors.email ? 'email-error' : undefined}\n                    aria-invalid={!!errors.email}\n                    className={`w-full px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white ${errors.email ? 'ring-2 ring-red-500' : ''\n                      }`}\n                  />\n                  {errors.email && (\n                    <p id=\"email-error\" className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {errors.email}\n                    </p>\n                  )}\n                </div>\n\n                {/* Phone */}\n                <div className=\"w-full\">\n                  <label htmlFor=\"phone\" className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n                    Phone\n                  </label>\n                  <input\n                    id=\"phone\"\n                    type=\"tel\"\n                    value={formData.phone}\n                    onChange={(e) => handleInputChange('phone', e.target.value)}\n                    onBlur={handleInputBlur}\n                    placeholder=\"Enter Phone Number\"\n                    aria-describedby={errors.phone ? 'phone-error' : undefined}\n                    aria-invalid={!!errors.phone}\n                    className={`w-full px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white ${errors.phone ? 'ring-2 ring-red-500' : ''\n                      }`}\n                  />\n                  {errors.phone && (\n                    <p id=\"phone-error\" className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {errors.phone}\n                    </p>\n                  )}\n                </div>\n\n                {/* Password */}\n                <div className=\"w-full relative\">\n                  <label htmlFor=\"password\" className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n                    Password\n                  </label>\n                  <div className=\"relative\">\n                    <input\n                      id=\"password\"\n                      type={showPassword ? 'text' : 'password'}\n                      value={formData.password}\n                      autoComplete=\"off\"\n                      onChange={(e) => handleInputChange('password', e.target.value)}\n                      onBlur={handleInputBlur}\n                      placeholder=\"**********\"\n                      aria-describedby={errors.password ? 'password-error' : 'password-strength'}\n                      aria-invalid={!!errors.password}\n                      className={`w-full px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white pr-12 ${errors.password ? 'ring-2 ring-red-500' : ''\n                        }`}\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowPassword(!showPassword)}\n                      className=\"absolute cursor-pointer right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\"\n                      aria-label={showPassword ? 'Hide password' : 'Show password'}\n                    >\n                      {showPassword ? <EyeOff className=\"w-5 h-5 text-[#98A2B3]\" /> : <Eye className=\"w-5 h-5 text-[#98A2B3]\" />}\n                    </button>\n                  </div>\n\n                  {/* Password Strength Indicator */}\n                  {formData.password && (\n                    <div id=\"password-strength\" className=\"mt-2\">\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <span className=\"text-sm text-gray-600\">Password strength:</span>\n                        <div className=\"flex gap-1\">\n                          {[1, 2, 3, 4, 5].map((level) => {\n                            const strength = getPasswordStrength(passwordStrength.score)\n                            return (\n                              <div\n                                key={level}\n                                className={`w-2 h-2 rounded-full ${level <= passwordStrength.score\n                                  ? getPasswordStrengthBgColor(strength)\n                                  : 'bg-gray-300'\n                                  }`}\n                              />\n                            )\n                          })}\n                        </div>\n                        <span className={`text-xs font-medium ${getPasswordStrengthColor(getPasswordStrength(passwordStrength.score))}`}>\n                          {getPasswordStrength(passwordStrength.score).replace('-', ' ')}\n                        </span>\n                      </div>\n                      {passwordStrength.feedback.length > 0 && (\n                        <ul className=\"text-xs text-gray-600 space-y-1\">\n                          {passwordStrength.feedback.map((feedback, index) => (\n                            <li key={index} className=\"flex items-center gap-1\">\n                              <span className=\"w-1 h-1 bg-gray-400 rounded-full\" />\n                              {feedback}\n                            </li>\n                          ))}\n                        </ul>\n                      )}\n                    </div>\n                  )}\n\n                  {errors.password && (\n                    <p id=\"password-error\" className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {errors.password}\n                    </p>\n                  )}\n                </div>\n\n                {/* Confirm Password */}\n                <div className=\"w-full relative\">\n                  <label className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n                    Confirm Password\n                  </label>\n                  <div className=\"relative\">\n                    <input\n                      type={showConfirmPassword ? 'text' : 'password'}\n                      value={formData.confirmPassword}\n                      onChange={(e) => handleInputChange('confirmPassword', e.target.value)}\n                      onBlur={handleInputBlur}\n                      autoComplete=\"off\"\n                      placeholder=\"**********\"\n                      className={`w-full px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white pr-12 ${errors.confirmPassword ? 'ring-2 ring-red-500' : ''\n                        }`}\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                      className=\"absolute cursor-pointer right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\"\n                    >\n                      {showConfirmPassword ? <EyeOff className=\"w-5 h-5 text-[#98A2B3]\" /> : <Eye className=\"w-5 h-5 text-[#98A2B3]\" />}\n                    </button>\n                  </div>\n                  {errors.confirmPassword && (\n                    <p className=\"text-red-500 text-sm mt-1\">{errors.confirmPassword}</p>\n                  )}\n                </div>\n              </div>\n\n              {/* Sign Up Button */}\n              <LoadingButton\n                type=\"submit\"\n                loading={isSubmitting}\n                disabled={isSubmitting}\n                loadingText=\"Creating Account...\"\n                variant=\"primary\"\n                size=\"lg\"\n                fullWidth\n                className=\"mb-6 py-[11.4px] px-6 rounded-full text-[20px]\"\n              >\n                Sign Up\n              </LoadingButton>\n\n              {/* Google Sign Up Button */}\n              <button\n                type=\"button\"\n                onClick={handleGoogleSignup}\n                disabled={isGoogleLoading}\n                className={`w-[220px] mx-auto bg-white text-[#344054] py-[9.2px] px-2 rounded-full font-normal text-[16px] border border-[#D0D5DD] hover:bg-[#D0D5DD] transition-colors duration-300 cursor-pointer flex items-center justify-center gap-x-3 ${isGoogleLoading ? 'opacity-50 cursor-not-allowed' : ''}`}\n              >\n                {isGoogleLoading ? (\n                  <>\n                    <div className=\"w-5 h-5 border-2 border-gray-300 border-t-[#5046E5] rounded-full animate-spin\" />\n                    Signing up...\n                  </>\n                ) : (\n                  <>\n                    <svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                      <g clipPath=\"url(#clip0_7697_226)\">\n                        <path d=\"M24.2663 12.2764C24.2663 11.4607 24.2001 10.6406 24.059 9.83807H12.7402V14.4591H19.222C18.953 15.9494 18.0888 17.2678 16.8233 18.1056V21.1039H20.6903C22.9611 19.0139 24.2663 15.9274 24.2663 12.2764Z\" fill=\"#4285F4\" />\n                        <path d=\"M12.7401 24.0008C15.9766 24.0008 18.7059 22.9382 20.6945 21.1039L16.8276 18.1055C15.7517 18.8375 14.3627 19.252 12.7445 19.252C9.61388 19.252 6.95946 17.1399 6.00705 14.3003H2.0166V17.3912C4.05371 21.4434 8.2029 24.0008 12.7401 24.0008Z\" fill=\"#34A853\" />\n                        <path d=\"M6.00277 14.3003C5.50011 12.8099 5.50011 11.1961 6.00277 9.70575V6.61481H2.01674C0.314734 10.0056 0.314734 14.0004 2.01674 17.3912L6.00277 14.3003Z\" fill=\"#FBBC04\" />\n                        <path d=\"M12.7401 4.74966C14.4509 4.7232 16.1044 5.36697 17.3434 6.54867L20.7695 3.12262C18.6001 1.0855 15.7208 -0.034466 12.7401 0.000808666C8.2029 0.000808666 4.05371 2.55822 2.0166 6.61481L6.00264 9.70575C6.95064 6.86173 9.60947 4.74966 12.7401 4.74966Z\" fill=\"#EA4335\" />\n                      </g>\n                      <defs>\n                        <clipPath id=\"clip0_7697_226\">\n                          <rect width=\"24\" height=\"24\" fill=\"white\" transform=\"translate(0.5)\" />\n                        </clipPath>\n                      </defs>\n                    </svg>\n                    Sign up with Google\n                  </>\n                )}\n              </button>\n\n              {/* Footer Link */}\n              <div className=\"text-center mt-6\">\n                <p className=\"text-[#101828] text-base font-normal\">\n                  Already have an account?{' '}\n                  <button\n                    type=\"button\"\n                    className=\"text-[#5046E5] text-[14px] font-semibold hover:underline cursor-pointer\"\n                    onClick={() => {\n                      // Close signup modal and open signin modal\n                      onClose()\n                      onOpenSignin?.()\n                    }}\n                  >\n                    Sign In\n                  </button>\n                </p>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1664, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/signin-modal.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect, useCallback } from 'react'\nimport { Eye, EyeOff, AlertCircle, CheckCircle } from 'lucide-react'\n\nimport { isPasswordValidForLogin } from '@/lib/password-validation'\nimport { useAppDispatch } from '@/store/hooks'\nimport { setUser } from '@/store/slices/userSlice'\nimport { validateAndHandleToken } from '@/lib/jwt-client'\nimport { apiService } from '@/lib/api-service'\nimport LoadingButton from './loading-button'\nimport { useModalScrollLock } from '@/hooks/useModalScrollLock'\nimport { useNotificationStore } from './global-notification'\n\n// Google OAuth TypeScript declarations\ndeclare global {\n  interface Window {\n    google: {\n      accounts: {\n        oauth2: {\n          initTokenClient: (config: {\n            client_id: string\n            scope: string\n            callback: (response: { access_token?: string; error?: string }) => void\n          }) => {\n            requestAccessToken: () => void\n          }\n        }\n      }\n    }\n  }\n}\n\ninterface SigninModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onOpenSignup?: () => void\n  onOpenForgotPassword?: () => void\n}\n\ninterface FormData {\n  email: string\n  password: string\n}\n\ninterface FormErrors {\n  email: string\n  password: string\n  general?: string\n}\n\ninterface EmailVerificationStatus {\n  isVerified: boolean\n  email: string\n}\n\n// Google OAuth Configuration\nconst GOOGLE_CLIENT_ID = process.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID || ''\nconst GOOGLE_REDIRECT_URI = typeof window !== 'undefined' ? `${window.location.origin}/auth/google/callback` : ''\n\nexport default function SigninModal({ isOpen, onClose, onOpenSignup, onOpenForgotPassword }: SigninModalProps) {\n  const dispatch = useAppDispatch()\n  const { showNotification } = useNotificationStore()\n  \n  // Use the custom scroll lock hook\n  useModalScrollLock(isOpen)\n\n  const [formData, setFormData] = useState<FormData>({\n    email: '',\n    password: ''\n  })\n  const [errors, setErrors] = useState<FormErrors>({\n    email: '',\n    password: ''\n  })\n  const [showPassword, setShowPassword] = useState(false)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [showSuccess, setShowSuccess] = useState(false)\n  const [rememberMe, setRememberMe] = useState(false)\n  const [isGoogleLoading, setIsGoogleLoading] = useState(false)\n  const [emailVerificationStatus, setEmailVerificationStatus] = useState<EmailVerificationStatus | null>(null)\n  const [showVerificationMessage, setShowVerificationMessage] = useState(false)\n  const [isResendingVerification, setIsResendingVerification] = useState(false)\n\n  // Ref to track Google OAuth timeout\n  const googleTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n\n  // Refs for focus management\n  const modalRef = useRef<HTMLDivElement>(null)\n  const firstInputRef = useRef<HTMLInputElement>(null)\n  const errorAnnouncementRef = useRef<HTMLDivElement>(null)\n\n\n  const handleInputChange = (field: keyof FormData, value: string) => {\n    // Simple input sanitization\n    const sanitizedValue = value.trim();\n\n    setFormData(prev => ({\n      ...prev,\n      [field]: sanitizedValue\n    }))\n\n    // Clear error when user starts typing (keep this for better UX)\n    if (errors[field])\n    {\n      setErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }))\n    }\n  }\n\n  // Remove blur validation - validation only happens on submit\n  const handleInputBlur = () => {\n    // No validation on blur - only on submit\n  }\n\n  const validateForm = () => {\n    const newErrors = {\n      email: '',\n      password: ''\n    }\n\n    // Validate each field and collect errors\n    Object.entries(formData).forEach(([key, value]) => {\n      const field = key as keyof FormData\n      switch (field)\n      {\n        case 'email':\n          if (!value.trim())\n          {\n            newErrors.email = 'Email is required'\n          } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value))\n          {\n            newErrors.email = 'Please enter a valid email address'\n          }\n          break\n        case 'password':\n          if (!value.trim())\n          {\n            newErrors.password = 'Password is required'\n          } else if (!isPasswordValidForLogin(value))\n          {\n            newErrors.password = 'Please enter a valid password'\n          }\n          break\n      }\n    })\n\n    // Set the errors\n    setErrors(newErrors)\n\n    // Return true if no errors, false if there are errors\n    return !Object.values(newErrors).some(error => error !== '')\n  }\n\n  const handleSignin = async () => {\n    // Simple rate limiting check\n    const now = Date.now();\n    const lastAttempt = localStorage.getItem('lastSigninAttempt') || '0';\n    const attemptCount = parseInt(localStorage.getItem('signinAttemptCount') || '0');\n\n    if (now - parseInt(lastAttempt) < 60000 && attemptCount >= 5)\n    {\n      showNotification('Too many signin attempts. Please wait 1 minute before trying again.', 'error');\n      return;\n    }\n\n\n    if (!validateForm())\n    {\n      // Announce errors to screen readers\n      if (errorAnnouncementRef.current)\n      {\n        errorAnnouncementRef.current.textContent = 'Form has validation errors. Please check all fields.'\n      }\n      showNotification('Please fix the validation errors before submitting.', 'error')\n      return\n    }\n\n    setIsSubmitting(true)\n\n    try\n    {\n      // First, check if user exists and email verification status \n      const checkResponse = await apiService.checkEmail(formData.email)\n      const checkData = checkResponse\n\n      if (checkData.success && checkData.data && checkData.data.exists)\n      {\n        // User exists, now check email verification status\n        const verificationResponse = await apiService.checkEmailVerification(formData.email)\n        const verificationData = verificationResponse\n\n        if (verificationData.success && verificationData.data && !verificationData.data.isVerified)\n        {\n          // Email not verified, show verification message\n          setEmailVerificationStatus({\n            isVerified: false,\n            email: formData.email\n          })\n          setShowVerificationMessage(true)\n          setIsSubmitting(false)\n          return\n        }\n      }\n\n      // Call the login API using new Express backend with global loading\n      const response = await apiService.loginWithGlobalLoading({\n        email: formData.email,\n        password: formData.password,\n      })\n\n      const data = response\n\n      if (data.success && data.data)\n      {\n        // Validate JWT token before storing\n        const accessToken = data.data.accessToken;\n        if (!validateAndHandleToken(accessToken))\n        {\n          showNotification('Invalid token received. Please try again.', 'error');\n          return;\n        }\n\n        // Store the access token\n        localStorage.setItem('accessToken', accessToken)\n\n        // Dispatch Redux action to set user data\n        dispatch(setUser({\n          user: {\n            id: data.data.user.id,\n            email: data.data.user.email,\n            firstName: data.data.user.firstName,\n            lastName: data.data.user.lastName,\n            phone: data.data.user.phone || '',\n            isEmailVerified: data.data.user.isEmailVerified,\n            googleId: data.data.user.googleId,\n            createdAt: new Date().toISOString(),\n            updatedAt: new Date().toISOString()\n          },\n          accessToken: accessToken\n        }))\n\n        // Check pending workflows after socket connection is established\n        if (data.data?.user?.id) {\n          const userId = data.data.user.id\n          const handleSocketConnected = () => {\n            console.log('ðŸ”Œ Socket connected event received after login, checking pending workflows')\n            apiService.checkPendingWorkflows(userId)\n              .catch(error => {\n                console.error('Failed to check pending workflows after login socket connection:', error);\n                // Don't show error to user as this is background operation\n              });\n            // Remove the event listener after first use\n            window.removeEventListener('socket-connected', handleSocketConnected as EventListener)\n          }\n\n          // Listen for socket connection event\n          window.addEventListener('socket-connected', handleSocketConnected as EventListener)\n          \n          // Fallback: Check pending workflows after a delay if socket doesn't connect\n          setTimeout(() => {\n            console.log('ðŸ”Œ Fallback: Checking pending workflows after login delay')\n            apiService.checkPendingWorkflows(userId)\n              .catch(error => {\n                console.error('Failed to check pending workflows after login fallback delay:', error);\n                // Don't show error to user as this is background operation\n              });\n            // Remove the event listener if fallback is used\n            window.removeEventListener('socket-connected', handleSocketConnected as EventListener)\n          }, 2000)\n        }\n\n        // Update rate limiting\n        localStorage.setItem('lastSigninAttempt', now.toString());\n        localStorage.setItem('signinAttemptCount', '0');\n\n        // Show success message\n        const welcomeMessage = data.data.user\n          ? `Login successful! Welcome back, ${data.data.user.firstName} ${data.data.user.lastName}!`\n          : 'Login successful! Welcome back to EdgeAi.'\n        showNotification(welcomeMessage, 'success')\n\n        // Save email if \"remember me\" is checked\n        if (rememberMe)\n        {\n          localStorage.setItem('signinEmail', formData.email)\n        } else\n        {\n          localStorage.removeItem('signinEmail')\n        }\n\n        // Close modal immediately after successful login\n        handleSuccessfulClose()\n      } else\n      {\n        // Check if the error is due to email verification\n        if (data.data && (data.data as any).requiresVerification)\n        {\n          setEmailVerificationStatus({\n            isVerified: false,\n            email: formData.email\n          })\n          setShowVerificationMessage(true)\n        } else\n        {\n          // Increment rate limiting counter\n          const newCount = attemptCount + 1;\n          localStorage.setItem('signinAttemptCount', newCount.toString());\n          showNotification(data.message || 'Login failed. Please try again.', 'error')\n        }\n      }\n\n    } catch (error)\n    {\n      const errorMessage = error instanceof Error ? error.message : String(error)\n      showNotification(`${errorMessage}`, 'error')\n    } finally\n    {\n      setIsSubmitting(false)\n    }\n  }\n\n  const handleGoogleSignin = async () => {\n    setIsGoogleLoading(true)\n\n    try\n    {\n      // Initialize Google OAuth\n      if (typeof window !== 'undefined' && window.google)\n      {\n        // Use Google Identity Services\n        const client = window.google.accounts.oauth2.initTokenClient({\n          client_id: GOOGLE_CLIENT_ID,\n          scope: 'openid email profile',\n          callback: async (response: { access_token?: string; error?: string }) => {\n            try {\n              if (response.access_token)\n              {\n                await handleGoogleToken(response.access_token)\n              } else if (response.error)\n              {\n                showNotification(`Google authentication failed: ${response.error}`, 'error')\n              } else\n              {\n                showNotification('Google authentication was cancelled', 'error')\n              }\n            } catch (error) {\n              const errorMessage = error instanceof Error ? error.message : String(error)\n              showNotification(`Google signin error: ${errorMessage}`, 'error')\n            } finally {\n              // Only reset loading state if handleGoogleToken wasn't called\n              if (!response.access_token) {\n                setIsGoogleLoading(false)\n              }\n            }\n          },\n        })\n\n        client.requestAccessToken()\n        \n        // Set a timeout to reset loading state if callback doesn't fire\n        setTimeout(() => {\n          if (isGoogleLoading) {\n            setIsGoogleLoading(false)\n            showNotification('Google authentication timed out. Please try again.', 'error')\n          }\n        }, 30000) // 30 second timeout\n      } else\n      {\n        // Fallback to traditional OAuth flow\n        const authUrl = `https://accounts.google.com/o/oauth2/auth?` +\n          `client_id=${GOOGLE_CLIENT_ID}&` +\n          `redirect_uri=${encodeURIComponent(GOOGLE_REDIRECT_URI)}&` +\n          `scope=${encodeURIComponent('openid email profile')}&` +\n          `response_type=code&` +\n          `access_type=offline`\n\n        window.location.href = authUrl\n      }\n    } catch (error)\n    {\n      const errorMessage = error instanceof Error ? error.message : String(error)\n      showNotification(`Google signin error: ${errorMessage}`, 'error')\n      setIsGoogleLoading(false)\n    }\n  }\n\n  const handleGoogleToken = async (accessToken: string) => {\n    try\n    {\n      // Get user info from Google\n      const userInfoResponse = await fetch('https://www.googleapis.com/oauth2/v2/userinfo', {\n        headers: {\n          'Authorization': `Bearer ${accessToken}`,\n        },\n      })\n\n      if (!userInfoResponse.ok)\n      {\n        throw new Error('Failed to get user info from Google')\n      }\n\n      const userInfo = await userInfoResponse.json()\n\n      // Call your backend API with Google user data using new Express backend\n      const response = await apiService.googleLogin({\n        googleId: userInfo.id,\n        email: userInfo.email,\n        firstName: userInfo.given_name || userInfo.firstName || '',\n        lastName: userInfo.family_name || userInfo.lastName || ''\n      })\n      const data = response\n\n      if (data.success && data.data)\n      {\n        // Store the access token\n        localStorage.setItem('accessToken', data.data.accessToken)\n\n        // Dispatch Redux action to set user data\n        dispatch(setUser({\n          user: {\n            id: data.data.user.id,\n            email: data.data.user.email,\n            firstName: data.data.user.firstName,\n            lastName: data.data.user.lastName,\n            phone: data.data.user.phone || '',\n            isEmailVerified: data.data.user.isEmailVerified,\n            googleId: data.data.user.googleId,\n            createdAt: new Date().toISOString(),\n            updatedAt: new Date().toISOString()\n          },\n          accessToken: data.data.accessToken\n        }))\n\n        // Check pending workflows after socket connection is established\n        if (data.data?.user?.id) {\n          const userId = data.data.user.id\n          const handleSocketConnected = () => {\n            console.log('ðŸ”Œ Socket connected event received after Google signin, checking pending workflows')\n            apiService.checkPendingWorkflows(userId)\n              .catch(error => {\n                console.error('Failed to check pending workflows after Google signin socket connection:', error);\n                // Don't show error to user as this is background operation\n              });\n            // Remove the event listener after first use\n            window.removeEventListener('socket-connected', handleSocketConnected as EventListener)\n          }\n\n          // Listen for socket connection event\n          window.addEventListener('socket-connected', handleSocketConnected as EventListener)\n          \n          // Fallback: Check pending workflows after a delay if socket doesn't connect\n          setTimeout(() => {\n            console.log('ðŸ”Œ Fallback: Checking pending workflows after Google signin delay')\n            apiService.checkPendingWorkflows(userId)\n              .catch(error => {\n                console.error('Failed to check pending workflows after Google signin fallback delay:', error);\n                // Don't show error to user as this is background operation\n              });\n            // Remove the event listener if fallback is used\n            window.removeEventListener('socket-connected', handleSocketConnected as EventListener)\n          }, 2000)\n        }\n\n        // Show success message\n        const welcomeMessage = data.data.user\n          ? `Welcome back to EdgeAi, ${data.data.user.firstName} ${data.data.user.lastName}!`\n          : 'Welcome to EdgeAi!'\n        showNotification(welcomeMessage, 'success')\n\n        // Close modal immediately after successful login\n        handleSuccessfulClose()\n      } else\n      {\n        // Check if the error is due to email verification\n        if (data.data && (data.data as any).requiresVerification)\n        {\n          setEmailVerificationStatus({\n            isVerified: false,\n            email: (data.data as any).email || userInfo.email\n          })\n          setShowVerificationMessage(true)\n        } else\n        {\n          showNotification(data.message || 'Google login failed. Please try again.', 'error')\n        }\n      }\n    } catch (error)\n    {\n      const errorMessage = error instanceof Error ? error.message : String(error)\n      showNotification(`Google token handling error: ${errorMessage}`, 'error')\n    } finally\n    {\n      // Always reset loading state\n      setIsGoogleLoading(false)\n    }\n  }\n\n  const handleForgotPassword = () => {\n    onClose()\n    onOpenForgotPassword?.()\n  }\n\n  const handleResendVerification = async () => {\n    if (!emailVerificationStatus || isResendingVerification) return\n\n    setIsResendingVerification(true)\n\n    try\n    {\n      const response = await apiService.resendVerification(emailVerificationStatus.email)\n      const data = response\n\n      if (data.success)\n      {\n        showNotification('Verification email sent successfully! Please check your inbox.', 'success')\n        setShowVerificationMessage(false)\n        setEmailVerificationStatus(null)\n      } else\n      {\n        showNotification(data.message || 'Failed to send verification email. Please try again.', 'error')\n      }\n    } catch (error)\n    {\n      const errorMessage = error instanceof Error ? error.message : String(error)\n      showNotification(`Error sending verification email: ${errorMessage}`, 'error')\n    } finally\n    {\n      setIsResendingVerification(false)\n    }\n  }\n\n  const handleCloseVerificationMessage = () => {\n    setShowVerificationMessage(false)\n    setEmailVerificationStatus(null)\n    setIsResendingVerification(false)\n  }\n\n  const handleClose = useCallback(() => {\n    // Clear Google OAuth timeout if exists\n    if (googleTimeoutRef.current)\n    {\n      clearTimeout(googleTimeoutRef.current)\n      googleTimeoutRef.current = null\n    }\n\n    setFormData({\n      email: '',\n      password: ''\n    })\n    setErrors({\n      email: '',\n      password: ''\n    })\n    setShowSuccess(false)\n    setIsSubmitting(false)\n    setRememberMe(false)\n    setIsGoogleLoading(false)\n    setEmailVerificationStatus(null)\n    setShowVerificationMessage(false)\n    setIsResendingVerification(false)\n    setShowPassword(false)\n    onClose()\n  }, [onClose])\n\n  const handleSuccessfulClose = useCallback(() => {\n    // Clear Google OAuth timeout if exists\n    if (googleTimeoutRef.current)\n    {\n      clearTimeout(googleTimeoutRef.current)\n      googleTimeoutRef.current = null\n    }\n\n    setFormData({\n      email: '',\n      password: ''\n    })\n    setErrors({\n      email: '',\n      password: ''\n    })\n    setShowSuccess(false)\n    setIsSubmitting(false)\n    setRememberMe(false)\n    setIsGoogleLoading(false)\n    setEmailVerificationStatus(null)\n    setShowVerificationMessage(false)\n    setIsResendingVerification(false)\n    setShowPassword(false)\n    onClose()\n  }, [onClose])\n\n  // Focus management and accessibility\n  useEffect(() => {\n    if (isOpen)\n    {\n      // Focus first input when modal opens\n      setTimeout(() => {\n        firstInputRef.current?.focus()\n      }, 100)\n\n      // Trap focus within modal\n      const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key === 'Escape')\n        {\n          handleClose()\n        }\n\n        if (e.key === 'Tab' && modalRef.current)\n        {\n          const focusableElements = modalRef.current.querySelectorAll(\n            'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n          )\n          const firstElement = focusableElements[0] as HTMLElement\n          const lastElement = focusableElements[focusableElements.length - 1] as HTMLElement\n\n          if (e.shiftKey)\n          {\n            if (document.activeElement === firstElement)\n            {\n              e.preventDefault()\n              lastElement.focus()\n            }\n          } else\n          {\n            if (document.activeElement === lastElement)\n            {\n              e.preventDefault()\n              firstElement.focus()\n            }\n          }\n        }\n      }\n\n      document.addEventListener('keydown', handleKeyDown)\n      return () => {\n        document.removeEventListener('keydown', handleKeyDown)\n      }\n    }\n  }, [isOpen, handleClose])\n\n  // Load saved email on mount and clear errors when modal opens\n  useEffect(() => {\n    if (isOpen)\n    {\n      // Load saved email when modal opens\n      const savedEmail = localStorage.getItem('signinEmail')\n      if (savedEmail)\n      {\n        setFormData({\n          email: savedEmail,\n          password: ''\n        })\n        setRememberMe(true)\n      } else\n      {\n        // Clear form data and error states when modal opens (only if no saved email)\n        setFormData({\n          email: '',\n          password: ''\n        })\n        setRememberMe(false)\n      }\n      \n      setErrors({\n        email: '',\n        password: ''\n      })\n      setEmailVerificationStatus(null)\n      setShowVerificationMessage(false)\n      setIsResendingVerification(false)\n      setIsGoogleLoading(false)\n      setShowPassword(false)\n\n      // Clear any existing timeout\n      if (googleTimeoutRef.current)\n      {\n        clearTimeout(googleTimeoutRef.current)\n        googleTimeoutRef.current = null\n      }\n    }\n  }, [isOpen])\n\n  // Load Google OAuth script\n  useEffect(() => {\n    if (typeof window !== 'undefined' && !window.google)\n    {\n      const script = document.createElement('script')\n      script.src = 'https://accounts.google.com/gsi/client'\n      script.async = true\n      script.defer = true\n      document.head.appendChild(script)\n    }\n  }, [])\n\n  if (!isOpen) return null\n\n  return (\n    <>\n      <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n        <div\n          ref={modalRef}\n          className=\"bg-white rounded-[12px] xl:h-fit h-full md:px-[55px] px-4 pt-10 pb-10 max-w-[820px] w-full md:max-h-[615px] max-h-[700px] flex flex-col relative\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"signin-modal-title\"\n          aria-describedby=\"signin-modal-description\"\n        >\n          {/* Screen reader announcements */}\n          <div\n            ref={errorAnnouncementRef}\n            className=\"sr-only\"\n            aria-live=\"polite\"\n            aria-atomic=\"true\"\n          />\n          <button\n            onClick={handleClose}\n            className=\"cursor-pointer ml-4 absolute md:top-[30px] md:right-[30px] top-[20px] right-[20px]\"\n            aria-label=\"Close signin modal\"\n          >\n            <svg width=\"24\" height=\"24\" className=\"md:w-6 md:h-6 w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M22.5 1.5L1.5 22.5M1.5 1.5L22.5 22.5\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n            </svg>\n          </button>\n\n          {/* Success Message */}\n          {showSuccess && (\n            <div className=\"absolute inset-0 bg-white rounded-[12px] flex items-center justify-center z-10\">\n              <div className=\"text-center\">\n                <CheckCircle className=\"w-16 h-16 text-green-500 mx-auto mb-4\" />\n                <h3 className=\"text-2xl font-semibold text-gray-800 mb-2\">Login Successful!</h3>\n                <p className=\"text-gray-600\">\n                  Welcome back to EdgeAi. You can now start creating amazing videos.\n                </p>\n              </div>\n            </div>\n          )}\n\n          {/* Modal Header */}\n          <div className=\"flex items-center justify-between flex-shrink-0\">\n            <div className=\"flex-1\">\n              <h3 id=\"signin-modal-title\" className=\"md:text-[48px] text-[25px] font-semibold text-[#282828] text-center\">\n                Welcome Back to <span className=\"text-[#5046E5]\">EdgeAi</span>\n              </h3>\n              <p id=\"signin-modal-description\" className=\"text-[#667085] text-[16px] text-center mt-2\">\n                Please enter your credentials to access your <br className='hidden md:block' /> account and create videos seamlessly.\n              </p>\n            </div>\n          </div>\n\n          {/* Modal Content */}\n          <div className=\"pt-7 overflow-y-auto flex-1 px-2\">\n            {/* General Error Message */}\n            {errors.general && (\n              <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2\">\n                <AlertCircle className=\"w-5 h-5 text-red-500 flex-shrink-0\" />\n                <p className=\"text-red-700 text-sm\">{errors.general}</p>\n              </div>\n            )}\n\n            {/* Email Verification Message */}\n            {showVerificationMessage && emailVerificationStatus && (\n              <div className=\"mb-4 p-4 bg-orange-50 border border-orange-200 rounded-lg\">\n                <div className=\"flex items-start gap-3\">\n                  <AlertCircle className=\"w-5 h-5 text-orange-500 flex-shrink-0 mt-0.5\" />\n                  <div className=\"flex-1\">\n                    <h4 className=\"text-orange-800 font-medium mb-1\">Email Verification Required</h4>\n                    <p className=\"text-orange-700 text-sm mb-3\">\n                      Please verify your email address before logging in. Check your inbox for the verification link.\n                    </p>\n                    <div className=\"flex flex-col sm:flex-row gap-2\">\n                      <button\n                        onClick={handleResendVerification}\n                        disabled={isResendingVerification}\n                        className={`text-sm font-medium underline flex items-center gap-2 ${\n                          isResendingVerification \n                            ? 'text-orange-400 cursor-not-allowed' \n                            : 'text-orange-600 hover:text-orange-800'\n                        }`}\n                      >\n                        {isResendingVerification && (\n                          <div className=\"w-4 h-4 border-2 border-orange-300 border-t-orange-600 rounded-full animate-spin\" />\n                        )}\n                        {isResendingVerification ? 'Sending...' : 'Resend verification email'}\n                      </button>\n                      <button\n                        onClick={handleCloseVerificationMessage}\n                        disabled={isResendingVerification}\n                        className={`text-sm font-medium underline ${\n                          isResendingVerification \n                            ? 'text-orange-400 cursor-not-allowed' \n                            : 'text-orange-600 hover:text-orange-800'\n                        }`}\n                      >\n                        Close\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            <form onSubmit={(e) => { e.preventDefault(); handleSignin(); }}>\n\n              {/* Form Fields */}\n              <div className=\"space-y-4 grid grid-cols-1 md:grid-cols-2 gap-4 items-baseline\">\n                {/* Email */}\n                <div className=\"w-full mb-[10px]\">\n                  <label htmlFor=\"email\" className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n                    Email\n                  </label>\n                  <input\n                    ref={firstInputRef}\n                    id=\"email\"\n                    type=\"email\"\n                    value={formData.email}\n                    onChange={(e) => handleInputChange('email', e.target.value)}\n                    onBlur={handleInputBlur}\n                    placeholder=\"Enter Email\"\n                    aria-describedby={errors.email ? 'email-error' : undefined}\n                    aria-invalid={!!errors.email}\n                    className={`w-full px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white ${errors.email ? 'ring-2 ring-red-500' : ''\n                      }`}\n                  />\n                  {errors.email && (\n                    <p id=\"email-error\" className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {errors.email}\n                    </p>\n                  )}\n                </div>\n\n                {/* Password */}\n                <div className=\"w-full relative\">\n                  <label htmlFor=\"password\" className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n                    Password\n                  </label>\n                  <div className=\"relative\">\n                    <input\n                      id=\"password\"\n                      type={showPassword ? 'text' : 'password'}\n                      value={formData.password}\n                      onChange={(e) => handleInputChange('password', e.target.value)}\n                      onBlur={handleInputBlur}\n                      autoComplete=\"off\"\n                      placeholder=\"**********\"\n                      aria-describedby={errors.password ? 'password-error' : undefined}\n                      aria-invalid={!!errors.password}\n                      className={`w-full px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white pr-12 ${errors.password ? 'ring-2 ring-red-500' : ''\n                        }`}\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowPassword(!showPassword)}\n                      className=\"absolute cursor-pointer right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\"\n                      aria-label={showPassword ? 'Hide password' : 'Show password'}\n                    >\n                      {showPassword ? <EyeOff className=\"w-5 h-5 text-[#98A2B3]\" /> : <Eye className=\"w-5 h-5 text-[#98A2B3]\" />}\n                    </button>\n                  </div>\n                  {errors.password && (\n                    <p id=\"password-error\" className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {errors.password}\n                    </p>\n                  )}\n                </div>\n              </div>\n\n              {/* Remember Me and Forgot Password */}\n              <div className=\"flex items-center justify-between mb-6 mt-3\">\n                <label className=\"flex items-center gap-2 cursor-pointer\">\n                  <div className=\"relative\">\n                    <input\n                      type=\"checkbox\"\n                      checked={rememberMe}\n                      onChange={(e) => setRememberMe(e.target.checked)}\n                      className=\"sr-only\"\n                    />\n                    <div className={`w-[16px] h-[16px] border rounded-[6px] transition-all duration-200 ${rememberMe\n                      ? 'bg-[#5046E5] border-[#5046E5]'\n                      : 'bg-transparent border-[#D0D5DD]'\n                      }`}>\n                      {rememberMe && (\n                        <svg\n                          className=\"w-3 h-3 text-white absolute top-0.5 left-0.5\"\n                          fill=\"currentColor\"\n                          viewBox=\"0 0 20 20\"\n                        >\n                          <path\n                            fillRule=\"evenodd\"\n                            d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\n                            clipRule=\"evenodd\"\n                          />\n                        </svg>\n                      )}\n                    </div>\n                  </div>\n                  <span className=\"text-[#5F5F5F] text-base\">Remember me</span>\n                </label>\n                <button\n                  type=\"button\"\n                  onClick={handleForgotPassword}\n                  className=\"text-[#577FB9] text-sm font-semibold hover:underline cursor-pointer\"\n                >\n                  Forgot password?\n                </button>\n              </div>\n\n              {/* Sign In Button */}\n              <LoadingButton\n                type=\"submit\"\n                loading={isSubmitting}\n                disabled={isSubmitting}\n                loadingText=\"Signing In...\"\n                variant=\"primary\"\n                size=\"lg\"\n                fullWidth\n                className=\"mb-6 py-[11.4px] px-6 rounded-full text-[20px]\"\n              >\n                Log in\n              </LoadingButton>\n\n              {/* Google Sign In Button */}\n              <button\n                type=\"button\"\n                onClick={handleGoogleSignin}\n                disabled={isGoogleLoading}\n                className={`w-[220px] mx-auto bg-white text-[#344054] py-[9.2px] px-2 rounded-full font-normal text-[16px] border border-[#D0D5DD] transition-colors duration-300 cursor-pointer flex items-center justify-center gap-x-3 ${isGoogleLoading ? 'opacity-50 cursor-not-allowed' : ''}`}\n              >\n                {isGoogleLoading ? (\n                  <>\n                    <div className=\"w-5 h-5 border-2 border-gray-300 border-t-[#5046E5] rounded-full animate-spin\" />\n                    Signing in...\n                  </>\n                ) : (\n                  <>\n                    <svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                      <g clipPath=\"url(#clip0_7697_226)\">\n                        <path d=\"M24.2663 12.2764C24.2663 11.4607 24.2001 10.6406 24.059 9.83807H12.7402V14.4591H19.222C18.953 15.9494 18.0888 17.2678 16.8233 18.1056V21.1039H20.6903C22.9611 19.0139 24.2663 15.9274 24.2663 12.2764Z\" fill=\"#4285F4\" />\n                        <path d=\"M12.7401 24.0008C15.9766 24.0008 18.7059 22.9382 20.6945 21.1039L16.8276 18.1055C15.7517 18.8375 14.3627 19.252 12.7445 19.252C9.61388 19.252 6.95946 17.1399 6.00705 14.3003H2.0166V17.3912C4.05371 21.4434 8.2029 24.0008 12.7401 24.0008Z\" fill=\"#34A853\" />\n                        <path d=\"M6.00277 14.3003C5.50011 12.8099 5.50011 11.1961 6.00277 9.70575V6.61481H2.01674C0.314734 10.0056 0.314734 14.0004 2.01674 17.3912L6.00277 14.3003Z\" fill=\"#FBBC04\" />\n                        <path d=\"M12.7401 4.74966C14.4509 4.7232 16.1044 5.36697 17.3434 6.54867L20.7695 3.12262C18.6001 1.0855 15.7208 -0.034466 12.7401 0.000808666C8.2029 0.000808666 4.05371 2.55822 2.0166 6.61481L6.00264 9.70575C6.95064 6.86173 9.60947 4.74966 12.7401 4.74966Z\" fill=\"#EA4335\" />\n                      </g>\n                      <defs>\n                        <clipPath id=\"clip0_7697_226\">\n                          <rect width=\"24\" height=\"24\" fill=\"white\" transform=\"translate(0.5)\" />\n                        </clipPath>\n                      </defs>\n                    </svg>\n                    Sign in with Google\n                  </>\n                )}\n              </button>\n\n              {/* Footer Link */}\n              <div className=\"text-center mt-6\">\n                <p className=\"text-[#101828] text-base font-normal\">\n                  No account yet?{' '}\n                  <button\n                    type=\"button\"\n                    className=\"text-[#5046E5] text-[14px] font-semibold hover:underline cursor-pointer\"\n                    onClick={() => {\n                      // Close signin modal and open signup modal\n                      onClose()\n                      onOpenSignup?.()\n                    }}\n                  >\n                    Sign up\n                  </button>\n                </p>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2905, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/forgot-password-modal.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect, useCallback } from 'react'\nimport { AlertCircle, CheckCircle } from 'lucide-react'\nimport { apiService } from '@/lib/api-service'\nimport { useModalScrollLock } from '@/hooks/useModalScrollLock'\n\n\ninterface ForgotPasswordModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onOpenSignin?: () => void\n}\n\ninterface FormData {\n  email: string\n}\n\ninterface FormErrors {\n  email: string\n  general?: string\n}\n\nexport default function ForgotPasswordModal({ isOpen, onClose, onOpenSignin }: ForgotPasswordModalProps) {\n  // Use the custom scroll lock hook\n  useModalScrollLock(isOpen)\n  \n  const [formData, setFormData] = useState<FormData>({\n    email: ''\n  })\n  const [errors, setErrors] = useState<FormErrors>({\n    email: ''\n  })\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [showSuccess, setShowSuccess] = useState(false)\n\n  // Toast state\n  const [showToast, setShowToast] = useState(false)\n  const [toastMessage, setToastMessage] = useState('')\n  const [toastType, setToastType] = useState<'success' | 'error'>('success')\n\n  useEffect(() => {\n    if (isOpen)\n    {\n      // Reset form when modal opens\n      setFormData({ email: '' })\n      setErrors({ email: '' })\n      setShowSuccess(false)\n    }\n  }, [isOpen])\n\n  // Refs for focus management\n  const modalRef = useRef<HTMLDivElement>(null)\n  const firstInputRef = useRef<HTMLInputElement>(null)\n  const errorAnnouncementRef = useRef<HTMLDivElement>(null)\n\n  // Show toast function\n  const showToastMessage = (message: string, type: 'success' | 'error' = 'success') => {\n    setToastMessage(message)\n    setToastType(type)\n    setShowToast(true)\n\n    // Auto hide toast after 5 seconds\n    setTimeout(() => {\n      setShowToast(false)\n    }, 5000)\n  }\n\n  const handleInputChange = (field: keyof FormData, value: string) => {\n    // Simple input sanitization\n    const sanitizedValue = value.trim();\n\n    setFormData(prev => ({\n      ...prev,\n      [field]: sanitizedValue\n    }))\n\n    // Clear error when user starts typing\n    if (errors[field])\n    {\n      setErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }))\n    }\n  }\n\n  const validateForm = () => {\n    const newErrors = {\n      email: ''\n    }\n\n    // Validate email\n    if (!formData.email.trim())\n    {\n      newErrors.email = 'Email is required'\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email))\n    {\n      newErrors.email = 'Please enter a valid email address'\n    }\n\n    // Set the errors\n    setErrors(newErrors)\n\n    // Return true if no errors, false if there are errors\n    return !Object.values(newErrors).some(error => error !== '')\n  }\n\n  const handleSubmit = async () => {\n    // Enhanced rate limiting check\n    // const clientId = `forgot_password_${formData.email || 'anonymous'}`\n    // if (rateLimiter.current.isRateLimited(clientId)) {\n    //   const remaining = rateLimiter.current.getRemainingAttempts(clientId)\n    //   const errorMessage = remaining === 0 \n    //     ? 'Too many password reset attempts. Please wait 5 minutes before trying again.'\n    //     : `Please wait before trying again. ${remaining} attempts remaining.`\n\n    //   showToastMessage(errorMessage, 'error')\n    //   return\n    // }\n\n\n    if (!validateForm())\n    {\n      // Announce errors to screen readers\n      if (errorAnnouncementRef.current)\n      {\n        errorAnnouncementRef.current.textContent = 'Form has validation errors. Please check all fields.'\n      }\n      showToastMessage('Please fix the validation errors before submitting.', 'error')\n      return\n    }\n\n    setIsSubmitting(true)\n\n    try\n    {\n      const response = await apiService.forgotPassword(formData.email)\n\n      if (response.success)\n      {\n        setShowSuccess(true)\n        showToastMessage('Password reset email sent successfully! Please check your inbox.', 'success')\n      } else\n      {\n        showToastMessage(response.message || 'Failed to send reset email. Please try again.', 'error')\n      }\n\n    } catch (error)\n    {\n      console.error('Forgot password error:', error)\n      showToastMessage('Something went wrong. Please try again.', 'error')\n    } finally\n    {\n      setIsSubmitting(false)\n    }\n  }\n\n  const handleClose = useCallback(() => {\n    setFormData({ email: '' })\n    setErrors({ email: '' })\n    setShowSuccess(false)\n    setShowToast(false)\n    onClose()\n  }, [onClose])\n\n  const handleBackToSignin = () => {\n    handleClose()\n    if (onOpenSignin)\n    {\n      onOpenSignin()\n    }\n  }\n\n  // Focus management and accessibility\n  useEffect(() => {\n    if (isOpen)\n    {\n      // Focus first input when modal opens\n      setTimeout(() => {\n        firstInputRef.current?.focus()\n      }, 100)\n\n      // Trap focus within modal\n      const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key === 'Escape')\n        {\n          handleClose()\n        }\n\n        if (e.key === 'Tab' && modalRef.current)\n        {\n          const focusableElements = modalRef.current.querySelectorAll(\n            'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n          )\n          const firstElement = focusableElements[0] as HTMLElement\n          const lastElement = focusableElements[focusableElements.length - 1] as HTMLElement\n\n          if (e.shiftKey)\n          {\n            if (document.activeElement === firstElement)\n            {\n              e.preventDefault()\n              lastElement.focus()\n            }\n          } else\n          {\n            if (document.activeElement === lastElement)\n            {\n              e.preventDefault()\n              firstElement.focus()\n            }\n          }\n        }\n      }\n\n      document.addEventListener('keydown', handleKeyDown)\n      return () => {\n        document.removeEventListener('keydown', handleKeyDown)\n      }\n    }\n  }, [isOpen, handleClose])\n\n  if (!isOpen) return null\n\n  return (\n    <>\n      {/* Toast Notification */}\n      {showToast && (\n        <div className=\"fixed top-4 right-4 z-[60] animate-in slide-in-from-right-2\">\n          <div className={`px-4 py-3 rounded-lg shadow-lg max-w-sm ${toastType === 'success'\n            ? 'bg-green-500 text-white'\n            : 'bg-red-500 text-white'\n            }`}>\n            <div className=\"flex items-center gap-2\">\n              {toastType === 'success' ? (\n                <CheckCircle className=\"w-5 h-5\" />\n              ) : (\n                <AlertCircle className=\"w-5 h-5\" />\n              )}\n              <p className=\"text-sm font-medium\">{toastMessage}</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n        <div\n          ref={modalRef}\n          className=\"bg-white rounded-[12px] xl:h-fit h-full md:px-[55px] px-4 pt-10 pb-10 max-w-[820px] w-full md:max-h-[615px] max-h-[700px] flex flex-col relative\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"forgot-password-modal-title\"\n          aria-describedby=\"forgot-password-modal-description\"\n        >\n          {/* Screen reader announcements */}\n          <div\n            ref={errorAnnouncementRef}\n            className=\"sr-only\"\n            aria-live=\"polite\"\n            aria-atomic=\"true\"\n          />\n\n          <button\n            onClick={handleClose}\n            className=\"cursor-pointer ml-4 absolute top-[30px] right-[30px]\"\n            aria-label=\"Close forgot password modal\"\n          >\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M22.5 1.5L1.5 22.5M1.5 1.5L22.5 22.5\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n            </svg>\n          </button>\n\n          {/* Success Message */}\n          {showSuccess && (\n            <div className=\"absolute inset-0 bg-white px-4 rounded-[12px] flex items-center justify-center z-10\">\n              <div className=\"text-center\">\n                <CheckCircle className=\"w-16 h-16 text-green-500 mx-auto mb-4\" />\n                <h3 className=\"text-2xl font-semibold text-gray-800 mb-2\">Email Sent Successfully!</h3>\n                <p className=\"text-gray-600 mb-4\">\n                  If an account with <strong>{formData.email}</strong> exists, we&apos;ve sent instructions to reset your password.\n                </p>\n                <p className=\"text-sm text-gray-500 mb-6\">\n                  If you haven&apos;t received the email, please check your spam folder.\n                </p>\n                <div className=\"space-y-3\">\n                  <button\n                    onClick={() => {\n                      setShowSuccess(false)\n                      setFormData({ email: '' })\n                    }}\n                    className=\"w-full py-[11.4px] px-6 rounded-full font-semibold text-[20px] border-2 bg-[#5046E5] text-white border-[#5046E5] hover:bg-transparent hover:text-[#5046E5] transition-colors duration-300 cursor-pointer\"\n                  >\n                    Send Another Email\n                  </button>\n                  <button\n                    onClick={handleBackToSignin}\n                    className=\"w-full py-[11.4px] px-6 rounded-full font-semibold text-[20px] border-2 border-[#5046E5] text-[#5046E5] hover:bg-[#5046E5] hover:text-white transition-colors duration-300 cursor-pointer\"\n                  >\n                    Back to Sign In\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Modal Header */}\n          <div className=\"flex items-center justify-between flex-shrink-0\">\n            <div className=\"flex-1\">\n              <h3 id=\"forgot-password-modal-title\" className=\"md:text-[48px] text-[25px] font-semibold text-[#282828] text-center\">\n                Forgot Your <span className=\"text-[#5046E5]\">Password?</span>\n              </h3>\n              <p id=\"forgot-password-modal-description\" className=\"text-[#667085] text-[16px] text-center mt-2\">\n                No worries! Enter your email address and we&apos;ll send you <br /> a link to reset your password.\n              </p>\n            </div>\n          </div>\n\n          {/* Modal Content */}\n          <div className=\"pt-7 overflow-y-auto flex-1 px-2\">\n            {/* General Error Message */}\n            {errors.general && (\n              <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2\">\n                <AlertCircle className=\"w-5 h-5 text-red-500 flex-shrink-0\" />\n                <p className=\"text-red-700 text-sm\">{errors.general}</p>\n              </div>\n            )}\n\n            <form onSubmit={(e) => { e.preventDefault(); handleSubmit(); }}>\n\n              {/* Form Fields */}\n              <div className=\"space-y-4\">\n                {/* Email */}\n                <div className=\"w-full mb-[10px]\">\n                  <label htmlFor=\"email\" className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n                    Email Address\n                  </label>\n                  <input\n                    ref={firstInputRef}\n                    id=\"email\"\n                    type=\"email\"\n                    value={formData.email}\n                    onChange={(e) => handleInputChange('email', e.target.value)}\n                    placeholder=\"Enter your email address\"\n                    aria-describedby={errors.email ? 'email-error' : undefined}\n                    aria-invalid={!!errors.email}\n                    className={`w-full px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white ${errors.email ? 'ring-2 ring-red-500' : ''\n                      }`}\n                  />\n                  {errors.email && (\n                    <p id=\"email-error\" className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {errors.email}\n                    </p>\n                  )}\n                </div>\n              </div>\n\n              {/* Submit Button */}\n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className={`w-full py-[11.4px] px-6 rounded-full font-semibold text-[20px] border-2 transition-colors duration-300 cursor-pointer mb-6 flex items-center justify-center gap-2 ${isSubmitting\n                  ? 'bg-gray-300 text-gray-500 border-gray-300 cursor-not-allowed'\n                  : 'bg-[#5046E5] text-white border-[#5046E5] hover:bg-transparent hover:text-[#5046E5]'\n                  }`}\n                aria-describedby={isSubmitting ? 'submitting-status' : undefined}\n              >\n                {isSubmitting ? (\n                  <>\n                    <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                    Sending Reset Link...\n                  </>\n                ) : (\n                  'Send Reset Link'\n                )}\n              </button>\n\n              {isSubmitting && (\n                <div id=\"submitting-status\" className=\"sr-only\" aria-live=\"polite\">\n                  Sending reset link, please wait...\n                </div>\n              )}\n\n              {/* Back to Sign In Link */}\n              <div className=\"text-center mt-6\">\n                <p className=\"text-[#101828] text-base font-normal\">\n                  Remember your password?{' '}\n                  <button\n                    type=\"button\"\n                    className=\"text-[#5046E5] text-[14px] font-semibold hover:underline cursor-pointer\"\n                    onClick={handleBackToSignin}\n                  >\n                    Back to Sign In\n                  </button>\n                </p>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;;;AALA;;;;;AAuBe,SAAS,oBAAoB,EAAE,MAAM,EAAE,OAAO,EAAE,YAAY,EAA4B;;IACrG,kCAAkC;IAClC,IAAA,+KAAkB,EAAC;IAEnB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6LAAQ,EAAW;QACjD,OAAO;IACT;IACA,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,6LAAQ,EAAa;QAC/C,OAAO;IACT;IACA,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,6LAAQ,EAAC;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,6LAAQ,EAAC;IAE/C,cAAc;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,6LAAQ,EAAC;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,6LAAQ,EAAC;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,6LAAQ,EAAsB;IAEhE,IAAA,8LAAS;yCAAC;YACR,IAAI,QACJ;gBACE,8BAA8B;gBAC9B,YAAY;oBAAE,OAAO;gBAAG;gBACxB,UAAU;oBAAE,OAAO;gBAAG;gBACtB,eAAe;YACjB;QACF;wCAAG;QAAC;KAAO;IAEX,4BAA4B;IAC5B,MAAM,WAAW,IAAA,2LAAM,EAAiB;IACxC,MAAM,gBAAgB,IAAA,2LAAM,EAAmB;IAC/C,MAAM,uBAAuB,IAAA,2LAAM,EAAiB;IAEpD,sBAAsB;IACtB,MAAM,mBAAmB,CAAC,SAAiB,OAA4B,SAAS;QAC9E,gBAAgB;QAChB,aAAa;QACb,aAAa;QAEb,kCAAkC;QAClC,WAAW;YACT,aAAa;QACf,GAAG;IACL;IAEA,MAAM,oBAAoB,CAAC,OAAuB;QAChD,4BAA4B;QAC5B,MAAM,iBAAiB,MAAM,IAAI;QAEjC,YAAY,CAAA,OAAQ,CAAC;gBACnB,GAAG,IAAI;gBACP,CAAC,MAAM,EAAE;YACX,CAAC;QAED,sCAAsC;QACtC,IAAI,MAAM,CAAC,MAAM,EACjB;YACE,UAAU,CAAA,OAAQ,CAAC;oBACjB,GAAG,IAAI;oBACP,CAAC,MAAM,EAAE;gBACX,CAAC;QACH;IACF;IAEA,MAAM,eAAe;QACnB,MAAM,YAAY;YAChB,OAAO;QACT;QAEA,iBAAiB;QACjB,IAAI,CAAC,SAAS,KAAK,CAAC,IAAI,IACxB;YACE,UAAU,KAAK,GAAG;QACpB,OAAO,IAAI,CAAC,6BAA6B,IAAI,CAAC,SAAS,KAAK,GAC5D;YACE,UAAU,KAAK,GAAG;QACpB;QAEA,iBAAiB;QACjB,UAAU;QAEV,sDAAsD;QACtD,OAAO,CAAC,OAAO,MAAM,CAAC,WAAW,IAAI,CAAC,CAAA,QAAS,UAAU;IAC3D;IAEA,MAAM,eAAe;QACnB,+BAA+B;QAC/B,sEAAsE;QACtE,qDAAqD;QACrD,yEAAyE;QACzE,0CAA0C;QAC1C,uFAAuF;QACvF,4EAA4E;QAE5E,4CAA4C;QAC5C,WAAW;QACX,IAAI;QAGJ,IAAI,CAAC,gBACL;YACE,oCAAoC;YACpC,IAAI,qBAAqB,OAAO,EAChC;gBACE,qBAAqB,OAAO,CAAC,WAAW,GAAG;YAC7C;YACA,iBAAiB,uDAAuD;YACxE;QACF;QAEA,gBAAgB;QAEhB,IACA;YACE,MAAM,WAAW,MAAM,iKAAU,CAAC,cAAc,CAAC,SAAS,KAAK;YAE/D,IAAI,SAAS,OAAO,EACpB;gBACE,eAAe;gBACf,iBAAiB,oEAAoE;YACvF,OACA;gBACE,iBAAiB,SAAS,OAAO,IAAI,iDAAiD;YACxF;QAEF,EAAE,OAAO,OACT;YACE,QAAQ,KAAK,CAAC,0BAA0B;YACxC,iBAAiB,2CAA2C;QAC9D,SACA;YACE,gBAAgB;QAClB;IACF;IAEA,MAAM,cAAc,IAAA,gMAAW;wDAAC;YAC9B,YAAY;gBAAE,OAAO;YAAG;YACxB,UAAU;gBAAE,OAAO;YAAG;YACtB,eAAe;YACf,aAAa;YACb;QACF;uDAAG;QAAC;KAAQ;IAEZ,MAAM,qBAAqB;QACzB;QACA,IAAI,cACJ;YACE;QACF;IACF;IAEA,qCAAqC;IACrC,IAAA,8LAAS;yCAAC;YACR,IAAI,QACJ;gBACE,qCAAqC;gBACrC;qDAAW;wBACT,cAAc,OAAO,EAAE;oBACzB;oDAAG;gBAEH,0BAA0B;gBAC1B,MAAM;mEAAgB,CAAC;wBACrB,IAAI,EAAE,GAAG,KAAK,UACd;4BACE;wBACF;wBAEA,IAAI,EAAE,GAAG,KAAK,SAAS,SAAS,OAAO,EACvC;4BACE,MAAM,oBAAoB,SAAS,OAAO,CAAC,gBAAgB,CACzD;4BAEF,MAAM,eAAe,iBAAiB,CAAC,EAAE;4BACzC,MAAM,cAAc,iBAAiB,CAAC,kBAAkB,MAAM,GAAG,EAAE;4BAEnE,IAAI,EAAE,QAAQ,EACd;gCACE,IAAI,SAAS,aAAa,KAAK,cAC/B;oCACE,EAAE,cAAc;oCAChB,YAAY,KAAK;gCACnB;4BACF,OACA;gCACE,IAAI,SAAS,aAAa,KAAK,aAC/B;oCACE,EAAE,cAAc;oCAChB,aAAa,KAAK;gCACpB;4BACF;wBACF;oBACF;;gBAEA,SAAS,gBAAgB,CAAC,WAAW;gBACrC;qDAAO;wBACL,SAAS,mBAAmB,CAAC,WAAW;oBAC1C;;YACF;QACF;wCAAG;QAAC;QAAQ;KAAY;IAExB,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE;;YAEG,2BACC,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAI,WAAW,CAAC,wCAAwC,EAAE,cAAc,YACrE,4BACA,yBACA;8BACF,cAAA,iNAAC;wBAAI,WAAU;;4BACZ,cAAc,0BACb,iNAAC,iQAAW;gCAAC,WAAU;;;;;qDAEvB,iNAAC,0PAAW;gCAAC,WAAU;;;;;;0CAEzB,iNAAC;gCAAE,WAAU;0CAAuB;;;;;;;;;;;;;;;;;;;;;;0BAM5C,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBACC,KAAK;oBACL,WAAU;oBACV,MAAK;oBACL,cAAW;oBACX,mBAAgB;oBAChB,oBAAiB;;sCAGjB,iNAAC;4BACC,KAAK;4BACL,WAAU;4BACV,aAAU;4BACV,eAAY;;;;;;sCAGd,iNAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,iNAAC;gCAAI,OAAM;gCAAK,QAAO;gCAAK,SAAQ;gCAAY,MAAK;gCAAO,OAAM;0CAChE,cAAA,iNAAC;oCAAK,GAAE;oCAAuC,QAAO;oCAAQ,aAAY;oCAAM,eAAc;oCAAQ,gBAAe;;;;;;;;;;;;;;;;wBAKxH,6BACC,iNAAC;4BAAI,WAAU;sCACb,cAAA,iNAAC;gCAAI,WAAU;;kDACb,iNAAC,iQAAW;wCAAC,WAAU;;;;;;kDACvB,iNAAC;wCAAG,WAAU;kDAA4C;;;;;;kDAC1D,iNAAC;wCAAE,WAAU;;4CAAqB;0DACb,iNAAC;0DAAQ,SAAS,KAAK;;;;;;4CAAU;;;;;;;kDAEtD,iNAAC;wCAAE,WAAU;kDAA6B;;;;;;kDAG1C,iNAAC;wCAAI,WAAU;;0DACb,iNAAC;gDACC,SAAS;oDACP,eAAe;oDACf,YAAY;wDAAE,OAAO;oDAAG;gDAC1B;gDACA,WAAU;0DACX;;;;;;0DAGD,iNAAC;gDACC,SAAS;gDACT,WAAU;0DACX;;;;;;;;;;;;;;;;;;;;;;;sCAST,iNAAC;4BAAI,WAAU;sCACb,cAAA,iNAAC;gCAAI,WAAU;;kDACb,iNAAC;wCAAG,IAAG;wCAA8B,WAAU;;4CAAsE;0DACvG,iNAAC;gDAAK,WAAU;0DAAiB;;;;;;;;;;;;kDAE/C,iNAAC;wCAAE,IAAG;wCAAoC,WAAU;;4CAA8C;0DACnC,iNAAC;;;;;4CAAK;;;;;;;;;;;;;;;;;;sCAMzE,iNAAC;4BAAI,WAAU;;gCAEZ,OAAO,OAAO,kBACb,iNAAC;oCAAI,WAAU;;sDACb,iNAAC,0PAAW;4CAAC,WAAU;;;;;;sDACvB,iNAAC;4CAAE,WAAU;sDAAwB,OAAO,OAAO;;;;;;;;;;;;8CAIvD,iNAAC;oCAAK,UAAU,CAAC;wCAAQ,EAAE,cAAc;wCAAI;oCAAgB;;sDAG3D,iNAAC;4CAAI,WAAU;sDAEb,cAAA,iNAAC;gDAAI,WAAU;;kEACb,iNAAC;wDAAM,SAAQ;wDAAQ,WAAU;kEAAkD;;;;;;kEAGnF,iNAAC;wDACC,KAAK;wDACL,IAAG;wDACH,MAAK;wDACL,OAAO,SAAS,KAAK;wDACrB,UAAU,CAAC,IAAM,kBAAkB,SAAS,EAAE,MAAM,CAAC,KAAK;wDAC1D,aAAY;wDACZ,oBAAkB,OAAO,KAAK,GAAG,gBAAgB;wDACjD,gBAAc,CAAC,CAAC,OAAO,KAAK;wDAC5B,WAAW,CAAC,+JAA+J,EAAE,OAAO,KAAK,GAAG,wBAAwB,IAChN;;;;;;oDAEL,OAAO,KAAK,kBACX,iNAAC;wDAAE,IAAG;wDAAc,WAAU;;0EAC5B,iNAAC,0PAAW;gEAAC,WAAU;;;;;;4DACtB,OAAO,KAAK;;;;;;;;;;;;;;;;;;sDAOrB,iNAAC;4CACC,MAAK;4CACL,UAAU;4CACV,WAAW,CAAC,kKAAkK,EAAE,eAC5K,iEACA,sFACA;4CACJ,oBAAkB,eAAe,sBAAsB;sDAEtD,6BACC;;kEACE,iNAAC;wDAAI,WAAU;;;;;;oDAAiF;;+DAIlG;;;;;;wCAIH,8BACC,iNAAC;4CAAI,IAAG;4CAAoB,WAAU;4CAAU,aAAU;sDAAS;;;;;;sDAMrE,iNAAC;4CAAI,WAAU;sDACb,cAAA,iNAAC;gDAAE,WAAU;;oDAAuC;oDAC1B;kEACxB,iNAAC;wDACC,MAAK;wDACL,WAAU;wDACV,SAAS;kEACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWnB;GA5XwB;;QAEtB,+KAAkB;;;KAFI"}},
    {"offset": {"line": 3531, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/email-verification-modal.tsx"],"sourcesContent":["'use client'\n\nimport { useRef, useEffect, useCallback } from 'react'\nimport { CheckCircle, Mail } from 'lucide-react'\nimport Link from 'next/link'\nimport { useModalScrollLock } from '@/hooks/useModalScrollLock'\n\ninterface EmailVerificationModalProps {\n  isOpen: boolean\n  onClose: () => void\n  email: string\n}\n\nexport default function EmailVerificationModal({ isOpen, onClose, email }: EmailVerificationModalProps) {\n  // Use the custom scroll lock hook\n  useModalScrollLock(isOpen)\n  \n  // Refs for focus management\n  const modalRef = useRef<HTMLDivElement>(null)\n\n  const handleClose = useCallback(() => {\n    onClose()\n  }, [onClose])\n\n  // Focus management and accessibility\n  useEffect(() => {\n    if (isOpen) {\n      // Trap focus within modal\n      const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key === 'Escape') {\n          handleClose()\n        }\n        \n        if (e.key === 'Tab' && modalRef.current) {\n          const focusableElements = modalRef.current.querySelectorAll(\n            'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n          )\n          const firstElement = focusableElements[0] as HTMLElement\n          const lastElement = focusableElements[focusableElements.length - 1] as HTMLElement\n\n          if (e.shiftKey) {\n            if (document.activeElement === firstElement) {\n              e.preventDefault()\n              lastElement.focus()\n            }\n          } else {\n            if (document.activeElement === lastElement) {\n              e.preventDefault()\n              firstElement.focus()\n            }\n          }\n        }\n      }\n\n      document.addEventListener('keydown', handleKeyDown)\n      return () => {\n        document.removeEventListener('keydown', handleKeyDown)\n      }\n    }\n  }, [isOpen, handleClose])\n\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n      <div \n        ref={modalRef}\n        className=\"bg-white rounded-[12px] h-full md:px-[55px] px-4 pt-10 pb-10 max-w-[820px] w-full max-h-[726px] flex flex-col relative\"\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby=\"email-verification-modal-title\"\n        aria-describedby=\"email-verification-modal-description\"\n      >\n        <button\n          onClick={handleClose}\n          className=\"cursor-pointer md:ml-4 md:absolute md:top-[30px] md:right-[30px] absolute top-[20px] right-[20px]\"\n          aria-label=\"Close email verification modal\"\n        >\n          <svg width=\"24\" height=\"24\" className=\"md:w-6 md:h-6 w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M22.5 1.5L1.5 22.5M1.5 1.5L22.5 22.5\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          </svg>\n        </button>\n\n        {/* Modal Header */}\n        <div className=\"flex items-center justify-center flex-shrink-0 mb-8\">\n          <div className=\"flex-1 text-center\">\n            <h3 id=\"email-verification-modal-title\" className=\"md:text-[48px] text-[25px] font-semibold text-[#282828]\">\n              Check Your <span className=\"text-[#5046E5]\">Email</span>\n            </h3>\n            <p id=\"email-verification-modal-description\" className=\"text-[#667085] text-[16px] mt-2\">\n              We&apos;ve sent a verification link to your email address\n            </p>\n          </div>\n        </div>\n\n        {/* Modal Content */}\n        <div className=\"flex-1 flex flex-col items-center justify-center text-center px-2\">\n          {/* Success Icon */}\n          <div className=\"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mb-8\">\n            <CheckCircle className=\"w-12 h-12 text-green-600\" />\n          </div>\n\n          {/* Main Message */}\n          <div className=\"max-w-md mb-8\">\n            <h4 className=\"text-2xl font-semibold text-[#282828] mb-4\">\n              Account Created Successfully!\n            </h4>\n            <p className=\"text-[#667085] text-[16px] leading-relaxed mb-6\">\n              Welcome to <Link href={\"/\"} className=\"text-[#5046E5] font-semibold hover:underline\">EdgeAi</Link>! We&apos;ve sent a verification email to:\n            </p>\n            \n            {/* Email Display */}\n            <div className=\"bg-[#F8F9FA] border border-[#E9ECEF] rounded-lg p-4 mb-6\">\n              <div className=\"flex items-center justify-center gap-2\">\n                <Mail className=\"w-5 h-5 text-[#5046E5]\" />\n                <span className=\"text-[#282828] font-medium\">{email}</span>\n              </div>\n            </div>\n\n            <p className=\"text-[#667085] text-[16px] leading-relaxed\">\n              Please check your email and click the verification link to complete your registration and start creating amazing videos.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;;;AALA;;;;;AAae,SAAS,uBAAuB,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAA+B;;IACpG,kCAAkC;IAClC,IAAA,+KAAkB,EAAC;IAEnB,4BAA4B;IAC5B,MAAM,WAAW,IAAA,2LAAM,EAAiB;IAExC,MAAM,cAAc,IAAA,gMAAW;2DAAC;YAC9B;QACF;0DAAG;QAAC;KAAQ;IAEZ,qCAAqC;IACrC,IAAA,8LAAS;4CAAC;YACR,IAAI,QAAQ;gBACV,0BAA0B;gBAC1B,MAAM;sEAAgB,CAAC;wBACrB,IAAI,EAAE,GAAG,KAAK,UAAU;4BACtB;wBACF;wBAEA,IAAI,EAAE,GAAG,KAAK,SAAS,SAAS,OAAO,EAAE;4BACvC,MAAM,oBAAoB,SAAS,OAAO,CAAC,gBAAgB,CACzD;4BAEF,MAAM,eAAe,iBAAiB,CAAC,EAAE;4BACzC,MAAM,cAAc,iBAAiB,CAAC,kBAAkB,MAAM,GAAG,EAAE;4BAEnE,IAAI,EAAE,QAAQ,EAAE;gCACd,IAAI,SAAS,aAAa,KAAK,cAAc;oCAC3C,EAAE,cAAc;oCAChB,YAAY,KAAK;gCACnB;4BACF,OAAO;gCACL,IAAI,SAAS,aAAa,KAAK,aAAa;oCAC1C,EAAE,cAAc;oCAChB,aAAa,KAAK;gCACpB;4BACF;wBACF;oBACF;;gBAEA,SAAS,gBAAgB,CAAC,WAAW;gBACrC;wDAAO;wBACL,SAAS,mBAAmB,CAAC,WAAW;oBAC1C;;YACF;QACF;2CAAG;QAAC;QAAQ;KAAY;IAExB,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,iNAAC;QAAI,WAAU;kBACb,cAAA,iNAAC;YACC,KAAK;YACL,WAAU;YACV,MAAK;YACL,cAAW;YACX,mBAAgB;YAChB,oBAAiB;;8BAEjB,iNAAC;oBACC,SAAS;oBACT,WAAU;oBACV,cAAW;8BAEX,cAAA,iNAAC;wBAAI,OAAM;wBAAK,QAAO;wBAAK,WAAU;wBAAwB,SAAQ;wBAAY,MAAK;wBAAO,OAAM;kCAClG,cAAA,iNAAC;4BAAK,GAAE;4BAAuC,QAAO;4BAAQ,aAAY;4BAAM,eAAc;4BAAQ,gBAAe;;;;;;;;;;;;;;;;8BAKzH,iNAAC;oBAAI,WAAU;8BACb,cAAA,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCAAG,IAAG;gCAAiC,WAAU;;oCAA0D;kDAC/F,iNAAC;wCAAK,WAAU;kDAAiB;;;;;;;;;;;;0CAE9C,iNAAC;gCAAE,IAAG;gCAAuC,WAAU;0CAAkC;;;;;;;;;;;;;;;;;8BAO7F,iNAAC;oBAAI,WAAU;;sCAEb,iNAAC;4BAAI,WAAU;sCACb,cAAA,iNAAC,iQAAW;gCAAC,WAAU;;;;;;;;;;;sCAIzB,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;oCAAG,WAAU;8CAA6C;;;;;;8CAG3D,iNAAC;oCAAE,WAAU;;wCAAkD;sDAClD,iNAAC,8LAAI;4CAAC,MAAM;4CAAK,WAAU;sDAA+C;;;;;;wCAAa;;;;;;;8CAIpG,iNAAC;oCAAI,WAAU;8CACb,cAAA,iNAAC;wCAAI,WAAU;;0DACb,iNAAC,iOAAI;gDAAC,WAAU;;;;;;0DAChB,iNAAC;gDAAK,WAAU;0DAA8B;;;;;;;;;;;;;;;;;8CAIlD,iNAAC;oCAAE,WAAU;8CAA6C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQtE;GAlHwB;;QAEtB,+KAAkB;;;KAFI"}},
    {"offset": {"line": 3814, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/profile-dropdown.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport { useAppSelector, useAppDispatch } from '@/store/hooks'\nimport { clearUser, setLoading } from '@/store/slices/userSlice'\nimport { useRouter } from 'next/navigation'\nimport { cn } from '@/lib/utils'\nimport Link from 'next/link'\nimport { apiService } from '@/lib/api-service'\n\ninterface ProfileDropdownProps {\n  isMobile?: boolean\n  onClose?: () => void\n}\n\nexport default function ProfileDropdown({ isMobile = false, onClose }: ProfileDropdownProps) {\n  const { user: currentUser } = useAppSelector((state) => state.user)\n  const dispatch = useAppDispatch()\n  const router = useRouter()\n  const [isOpen, setIsOpen] = useState(false)\n\n  const dropdownRef = useRef<HTMLDivElement>(null)\n  const buttonRef = useRef<HTMLButtonElement>(null)\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(event.target as Node) &&\n        buttonRef.current &&\n        !buttonRef.current.contains(event.target as Node)\n      )\n      {\n        setIsOpen(false)\n      }\n    }\n\n    if (isOpen)\n    {\n      document.addEventListener('mousedown', handleClickOutside)\n      return () => document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [isOpen])\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isOpen)\n      {\n        setIsOpen(false)\n        buttonRef.current?.focus()\n      }\n    }\n\n    if (isOpen)\n    {\n      document.addEventListener('keydown', handleEscape)\n      return () => document.removeEventListener('keydown', handleEscape)\n    }\n  }, [isOpen])\n\n  const handleLogout = async () => {\n    try\n    {\n      // Set loading state to show loader during logout\n      dispatch(setLoading(true))\n\n      // Close dropdown first\n      setIsOpen(false)\n      if (onClose) onClose()\n\n      // Call logout API to invalidate token on server\n      try\n      {\n        await apiService.logout()\n      } catch (error)\n      {\n        // Log error but don't prevent logout from proceeding\n        // API logout failed, but we'll still clear local data\n      }\n\n      // Clear user data from Redux store\n      dispatch(clearUser())\n\n      // Redirect to home page\n      router.push('/')\n    } catch (error)\n    {\n      // Even if API call fails, clear local data\n      dispatch(clearUser())\n      router.push('/')\n    } finally\n    {\n      // Set loading to false after a short delay to ensure smooth transition\n      setTimeout(() => {\n        dispatch(setLoading(false))\n      }, 500)\n    }\n  }\n\n  const toggleDropdown = () => {\n    setIsOpen(!isOpen)\n  }\n\n  if (!currentUser) return null\n\n  // Show loading state if user data is still being fetched\n  if (currentUser.id === 'temp' || currentUser.firstName === 'Loading...')\n  {\n    return (\n      <div className={cn(\n        \"flex items-center space-x-2 px-3 py-2 rounded-full\",\n        isMobile ? \"w-full justify-center\" : \"\"\n      )}>\n        <div className=\"w-8 h-8 bg-gray-200 rounded-full animate-pulse\"></div>\n        {isMobile && (\n          <div className=\"w-20 h-4 bg-gray-200 rounded animate-pulse\"></div>\n        )}\n      </div>\n    )\n  }\n\n  const menuItems = [\n    {\n      label: 'Account',\n      href: '/account',\n      isLogout: false\n    },\n    {\n      label: 'My Videos',\n      href: '/create-video',\n      isLogout: false\n    },\n    {\n      label: 'Schedule Post',\n      href: '/scheduled-post',\n      isLogout: false\n    },\n    {\n      label: 'Report Analytics',\n      href: '/report-analytics',\n      isLogout: false\n    },\n    {\n      label: 'Logout',\n      href: '#',\n      isLogout: true\n    }\n  ]\n\n  return (\n    <div className={cn(\"relative\", isMobile ? \"w-full\" : \"\")}>\n      {/* Profile Button */}\n      <button\n        ref={buttonRef}\n        onClick={toggleDropdown}\n        className={cn(\n          \"flex items-center justify-center w-[200px] cursor-pointer gap-2 px-2 py-[7.4px] rounded-full border-2 border-[#5F5F5F] transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5046E5] focus-visible:ring-offset-2\",\n          isMobile\n            ? \"w-full justify-between bg-gray-100 hover:bg-gray-200 px-4 py-3\"\n            : \"hover:bg-gray-100 border-2 border-[#5F5F5F] hover:border-gray-300\"\n        )}\n        aria-label={`Profile menu for ${currentUser.firstName} ${currentUser.lastName}`}\n        aria-expanded={isOpen}\n        aria-haspopup=\"true\"\n      >\n\n        {/* Name (desktop) or full info (mobile) */}\n        <div className={cn(\"flex items-center gap-x-3\", isMobile ? \"flex-1\" : \"\")}>\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M12 12C10.9 12 9.95833 11.6083 9.175 10.825C8.39167 10.0417 8 9.1 8 8C8 6.9 8.39167 5.95833 9.175 5.175C9.95833 4.39167 10.9 4 12 4C13.1 4 14.0417 4.39167 14.825 5.175C15.6083 5.95833 16 6.9 16 8C16 9.1 15.6083 10.0417 14.825 10.825C14.0417 11.6083 13.1 12 12 12ZM4 20V17.2C4 16.6333 4.146 16.1127 4.438 15.638C4.73 15.1633 5.11733 14.8007 5.6 14.55C6.63333 14.0333 7.68333 13.646 8.75 13.388C9.81667 13.13 10.9 13.0007 12 13C13.1 12.9993 14.1833 13.1287 15.25 13.388C16.3167 13.6473 17.3667 14.0347 18.4 14.55C18.8833 14.8 19.271 15.1627 19.563 15.638C19.855 16.1133 20.0007 16.634 20 17.2V20H4Z\" fill=\"#5F5F5F\" />\n          </svg>\n          <span className={cn(\n            \"font-medium text-[#5F5F5F]\",\n            isMobile ? \"text-[20px]\" : \"text-[20px]\"\n          )}>\n            {isMobile\n              ? `${currentUser.firstName} ${currentUser.lastName}`\n              : currentUser.firstName\n            }\n          </span>\n          <svg width=\"18\" height=\"9\" className={cn(\n            \"transition-transform duration-200\",\n            isOpen ? \"rotate-180\" : \"\"\n          )} viewBox=\"0 0 18 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M0 0L9 9L18 0H0Z\" fill=\"#5F5F5F\" />\n          </svg>\n\n        </div>\n      </button>\n\n      {/* Dropdown Menu */}\n      {isOpen && (\n        <div\n          ref={dropdownRef}\n          className={cn(\n            \"absolute z-[9999] bg-white rounded-[12px] shadow-xl border border-gray-200 p-2 min-w-[200px]\",\n            isMobile\n              ? \"top-full left-0 right-0 mt-2\"\n              : \"top-full right-0 mt-2\"\n          )}\n          role=\"menu\"\n          aria-label=\"Profile menu\"\n          style={{\n            boxShadow: '0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)'\n          }}\n        >\n\n          {/* Menu Items */}\n          <div className=\"\">\n            {menuItems.map((item) => {\n              if (item.isLogout)\n              {\n                // Render logout as a button styled as a link with border above\n                return (\n                  <div key={item.label}>\n                    <div className=\"border-b border-[#A0A3BD] mx-2 my-2\"></div>\n                    <button\n                      onClick={(e) => {\n                        e.preventDefault()\n                        handleLogout()\n                      }}\n                      className={cn(\n                        \"w-full flex items-center cursor-pointer gap-3 rounded-[8px] px-4 py-3 text-[16px] font-medium transition-colors duration-150 focus:outline-none focus:bg-gray-100 text-left\",\n                        \"text-[#374151] hover:bg-gray-100 hover:text-[#111827]\"\n                      )}\n                      role=\"menuitem\"\n                    >\n                      <span>{item.label}</span>\n                    </button>\n                  </div>\n                )\n              }\n\n              // Render navigation items as Links\n              return (\n                <Link\n                  key={item.label}\n                  href={item.href}\n                  onClick={() => {\n                    setIsOpen(false)\n                    if (onClose) onClose()\n                    // window.location.href = item.href\n                  }}\n                  className={cn(\n                    \"w-full flex items-center cursor-pointer gap-3 rounded-[8px] px-4 py-3 text-[16px] font-medium transition-colors duration-150 focus:outline-none focus:bg-gray-100\",\n                    \"text-[#374151] hover:bg-gray-100 hover:text-[#111827]\"\n                  )}\n                  role=\"menuitem\"\n                >\n                  <span>{item.label}</span>\n                </Link>\n              )\n            })}\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4149, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/processing-toast.tsx"],"sourcesContent":["'use client'\n\nimport type { ProcessingToast } from '@/hooks/useProcessingToasts'\nimport { motion } from 'framer-motion'\nimport { Clock, Minimize2 } from 'lucide-react'\n\ninterface ProcessingToastProps {\n  toast: ProcessingToast\n  onMinimize: (id: string) => void\n}\n\nexport default function ProcessingToast({ toast, onMinimize }: ProcessingToastProps) {\n  // Don't render if minimized\n  if (toast.minimized) {\n    return null\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: -20, scale: 0.95 }}\n      animate={{ opacity: 1, y: 0, scale: 1 }}\n      exit={{ opacity: 0, y: 20, scale: 0.95 }}\n      transition={{ duration: 0.3, ease: \"easeInOut\" }}\n      className=\"border rounded-lg shadow-lg p-4 transition-all duration-300 border-blue-200/60 bg-blue-50/70 backdrop-blur-sm\"\n    >\n      {/* Header */}\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className=\"flex-1\">\n          <div className=\"flex items-center gap-2 mb-1\">\n            <Clock className=\"w-5 h-5 text-blue-500\" />\n            <h4 className=\"font-semibold text-gray-800 text-sm\">\n              Processing Video\n            </h4>\n          </div>\n          \n          <p className=\"text-xs text-gray-600 ml-7 font-medium\">\n            {toast.title}\n          </p>\n          <p className=\"text-xs text-gray-500 ml-7 mt-1\">\n            {toast.message}\n          </p>\n        </div>\n        \n        {/* Minimize button */}\n        <button\n          onClick={() => onMinimize(toast.id)}\n          className=\"text-gray-400 hover:text-gray-600 transition-colors ml-2 flex-shrink-0\"\n          title=\"Minimize\"\n        >\n          <Minimize2 className=\"w-4 h-4\" />\n        </button>\n      </div>\n\n      {/* Processing indicator */}\n      <div className=\"mb-2\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>\n          <span className=\"text-xs text-gray-600\">Processing your video...</span>\n        </div>\n      </div>\n    </motion.div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAJA;;;;AAWe,SAAS,gBAAgB,EAAE,KAAK,EAAE,UAAU,EAAwB;IACjF,4BAA4B;IAC5B,IAAI,MAAM,SAAS,EAAE;QACnB,OAAO;IACT;IAEA,qBACE,iNAAC,2NAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG,CAAC;YAAI,OAAO;QAAK;QAC3C,SAAS;YAAE,SAAS;YAAG,GAAG;YAAG,OAAO;QAAE;QACtC,MAAM;YAAE,SAAS;YAAG,GAAG;YAAI,OAAO;QAAK;QACvC,YAAY;YAAE,UAAU;YAAK,MAAM;QAAY;QAC/C,WAAU;;0BAGV,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCAAI,WAAU;;kDACb,iNAAC,oOAAK;wCAAC,WAAU;;;;;;kDACjB,iNAAC;wCAAG,WAAU;kDAAsC;;;;;;;;;;;;0CAKtD,iNAAC;gCAAE,WAAU;0CACV,MAAM,KAAK;;;;;;0CAEd,iNAAC;gCAAE,WAAU;0CACV,MAAM,OAAO;;;;;;;;;;;;kCAKlB,iNAAC;wBACC,SAAS,IAAM,WAAW,MAAM,EAAE;wBAClC,WAAU;wBACV,OAAM;kCAEN,cAAA,iNAAC,oPAAS;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAKzB,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAI,WAAU;;;;;;sCACf,iNAAC;4BAAK,WAAU;sCAAwB;;;;;;;;;;;;;;;;;;;;;;;AAKlD;KAnDwB"}},
    {"offset": {"line": 4310, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/processing-circle.tsx"],"sourcesContent":["'use client'\n\nimport { forwardRef } from 'react'\nimport { motion } from 'framer-motion'\nimport { Clock } from 'lucide-react'\n\ninterface ProcessingCircleProps {\n  count: number\n  onClick: () => void\n  isPopoverOpen: boolean\n}\n\nconst ProcessingCircle = forwardRef<HTMLButtonElement, ProcessingCircleProps>(\n  ({ count, onClick, isPopoverOpen }, ref) => {\n    if (count === 0) {\n      return null\n    }\n\n    return (\n      <motion.button\n        ref={ref}\n        onClick={onClick}\n        initial={{ scale: 0 }}\n        animate={{ scale: 1 }}\n        exit={{ scale: 0 }}\n        whileHover={{ scale: 1.1 }}\n        whileTap={{ scale: 0.95 }}\n        transition={{ \n          type: \"spring\", \n          stiffness: 400, \n          damping: 17,\n          scale: { duration: 0.2 }\n        }}\n        className={`\n          fixed bottom-4 right-4 z-[60]\n          w-14 h-14\n          bg-gradient-to-br from-blue-500 to-blue-600\n          rounded-full\n          shadow-lg hover:shadow-xl\n          flex items-center justify-center\n          transition-shadow duration-300\n          cursor-pointer\n          ${isPopoverOpen ? 'ring-2 ring-blue-400 ring-offset-2' : ''}\n        `}\n        title={`${count} minimized video${count > 1 ? 's' : ''}`}\n      >\n        {/* Clock icon */}\n        <Clock className=\"w-6 h-6 text-white\" />\n        \n        {/* Count badge */}\n        {count > 0 && (\n          <motion.div\n            initial={{ scale: 0 }}\n            animate={{ scale: 1 }}\n            className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center border-2 border-white\"\n          >\n            <span className=\"text-xs font-bold text-white\">{count}</span>\n          </motion.div>\n        )}\n        \n        {/* Pulse animation ring */}\n        {count > 0 && (\n          <motion.div\n            className=\"absolute inset-0 rounded-full border-2 border-blue-400\"\n            animate={{\n              scale: [1, 1.2, 1],\n              opacity: [0.5, 0, 0.5]\n            }}\n            transition={{\n              duration: 2,\n              repeat: Infinity,\n              ease: \"easeInOut\"\n            }}\n          />\n        )}\n      </motion.button>\n    )\n  }\n)\n\nProcessingCircle.displayName = 'ProcessingCircle'\n\nexport default ProcessingCircle\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAYA,MAAM,iCAAmB,IAAA,+LAAU,OACjC,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,aAAa,EAAE,EAAE;IAClC,IAAI,UAAU,GAAG;QACf,OAAO;IACT;IAEA,qBACE,iNAAC,2NAAM,CAAC,MAAM;QACZ,KAAK;QACL,SAAS;QACT,SAAS;YAAE,OAAO;QAAE;QACpB,SAAS;YAAE,OAAO;QAAE;QACpB,MAAM;YAAE,OAAO;QAAE;QACjB,YAAY;YAAE,OAAO;QAAI;QACzB,UAAU;YAAE,OAAO;QAAK;QACxB,YAAY;YACV,MAAM;YACN,WAAW;YACX,SAAS;YACT,OAAO;gBAAE,UAAU;YAAI;QACzB;QACA,WAAW,CAAC;;;;;;;;;UASV,EAAE,gBAAgB,uCAAuC,GAAG;QAC9D,CAAC;QACD,OAAO,GAAG,MAAM,gBAAgB,EAAE,QAAQ,IAAI,MAAM,IAAI;;0BAGxD,iNAAC,oOAAK;gBAAC,WAAU;;;;;;YAGhB,QAAQ,mBACP,iNAAC,2NAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,OAAO;gBAAE;gBACpB,SAAS;oBAAE,OAAO;gBAAE;gBACpB,WAAU;0BAEV,cAAA,iNAAC;oBAAK,WAAU;8BAAgC;;;;;;;;;;;YAKnD,QAAQ,mBACP,iNAAC,2NAAM,CAAC,GAAG;gBACT,WAAU;gBACV,SAAS;oBACP,OAAO;wBAAC;wBAAG;wBAAK;qBAAE;oBAClB,SAAS;wBAAC;wBAAK;wBAAG;qBAAI;gBACxB;gBACA,YAAY;oBACV,UAAU;oBACV,QAAQ;oBACR,MAAM;gBACR;;;;;;;;;;;;AAKV;;AAGF,iBAAiB,WAAW,GAAG;uCAEhB"}},
    {"offset": {"line": 4438, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/minimized-list-popover.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useRef } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { Clock, Maximize2 } from 'lucide-react'\nimport { ProcessingToast } from '@/hooks/useProcessingToasts'\n\ninterface MinimizedListPopoverProps {\n  toasts: ProcessingToast[]\n  onRestore: (id: string) => void\n  onClose: () => void\n  isOpen: boolean\n  anchorRef: React.RefObject<HTMLButtonElement | null>\n}\n\nexport default function MinimizedListPopover({\n  toasts,\n  onRestore,\n  onClose,\n  isOpen,\n  anchorRef\n}: MinimizedListPopoverProps) {\n  const popoverRef = useRef<HTMLDivElement>(null)\n\n  // Handle click outside\n  useEffect(() => {\n    if (!isOpen) return\n\n    const handleClickOutside = (event: MouseEvent) => {\n      const target = event.target as Node\n      \n      // Check if click is outside popover and anchor\n      if (\n        popoverRef.current &&\n        !popoverRef.current.contains(target) &&\n        anchorRef.current &&\n        !anchorRef.current.contains(target)\n      ) {\n        onClose()\n      }\n    }\n\n    // Add event listener with a small delay to avoid immediate close\n    const timeoutId = setTimeout(() => {\n      document.addEventListener('mousedown', handleClickOutside)\n    }, 100)\n\n    return () => {\n      clearTimeout(timeoutId)\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [isOpen, onClose, anchorRef])\n\n  if (!isOpen || toasts.length === 0) {\n    return null\n  }\n\n  // Calculate position above the circle\n  const getPosition = () => {\n    if (!anchorRef.current) {\n      return { bottom: '5rem', right: '1rem' }\n    }\n    \n    const rect = anchorRef.current.getBoundingClientRect()\n    // Position above the circle with some spacing\n    const spacing = 8\n    return {\n      bottom: `${window.innerHeight - rect.top + spacing}px`,\n      right: `${window.innerWidth - rect.right}px`,\n      transform: 'translateX(0)' // Align right edge with circle\n    }\n  }\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          ref={popoverRef}\n          initial={{ opacity: 0, scale: 0.9, y: 10 }}\n          animate={{ opacity: 1, scale: 1, y: 0 }}\n          exit={{ opacity: 0, scale: 0.9, y: 10 }}\n          transition={{ duration: 0.2 }}\n          className=\"fixed z-[70] max-w-xs w-80\"\n          style={getPosition()}\n        >\n          <div className=\"bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden\">\n            {/* Header */}\n            <div className=\"px-4 py-3 bg-gradient-to-r from-blue-50 to-blue-100 border-b border-gray-200\">\n              <h3 className=\"font-semibold text-gray-800 text-sm\">\n                Minimized Videos ({toasts.length})\n              </h3>\n            </div>\n\n            {/* List */}\n            <div className=\"max-h-64 overflow-y-auto\">\n              {toasts.map((toast, index) => (\n                  <motion.div\n                    key={toast.id}\n                    initial={{ opacity: 0, x: -10 }}\n                    animate={{ opacity: 1, x: 0 }}\n                    transition={{ delay: index * 0.05 }}\n                    className=\"px-4 py-3 border-b border-gray-100 last:border-b-0 hover:bg-gray-50 transition-colors cursor-pointer\"\n                    onClick={() => onRestore(toast.id)}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      {/* Icon */}\n                      <div className=\"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                        <Clock className=\"w-4 h-4 text-blue-600\" />\n                      </div>\n\n                      {/* Content */}\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium text-gray-800 truncate\">\n                          {toast.title}\n                        </p>\n                        <p className=\"text-xs text-gray-500 truncate\">\n                          {toast.message}\n                        </p>\n                      </div>\n\n                      {/* Restore button */}\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation()\n                          onRestore(toast.id)\n                        }}\n                        className=\"flex-shrink-0 p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors\"\n                        title=\"Restore\"\n                      >\n                        <Maximize2 className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </motion.div>\n                ))}\n            </div>\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4674, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/video-status-notification.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport { AnimatePresence } from 'framer-motion'\nimport { VideoInProgress } from '@/hooks/useUnifiedSocket'\nimport { useProcessingToasts } from '@/hooks/useProcessingToasts'\nimport ProcessingToast from './processing-toast'\nimport ProcessingCircle from './processing-circle'\nimport MinimizedListPopover from './minimized-list-popover'\n\ninterface VideoStatusNotificationProps {\n  pendingVideos: VideoInProgress[]\n  className?: string\n}\n\nexport default function VideoStatusNotification({ \n  pendingVideos,\n  className = '' \n}: VideoStatusNotificationProps) {\n  const { toasts, minimizedCount, minimizeToast, restoreToast, updateToasts } = useProcessingToasts()\n  const [isPopoverOpen, setIsPopoverOpen] = useState(false)\n  const circleRef = useRef<HTMLButtonElement>(null)\n\n  // Sync with pendingVideos\n  useEffect(() => {\n    updateToasts(pendingVideos)\n  }, [pendingVideos, updateToasts])\n\n  // Don't render if no pending videos and no minimized toasts\n  if (pendingVideos.length === 0 && minimizedCount === 0) {\n    return null\n  }\n\n  const visibleToasts = toasts.filter(t => !t.minimized)\n  const minimizedToasts = toasts.filter(t => t.minimized)\n\n  const handleRestore = (id: string) => {\n    restoreToast(id)\n    setIsPopoverOpen(false)\n  }\n\n  return (\n    <>\n      {/* Main toast list */}\n      {visibleToasts.length > 0 && (\n        <div className={`fixed top-24 right-4 z-10 max-w-xs w-full ${className}`}>\n          <div className=\"flex flex-col gap-3\">\n            <AnimatePresence mode=\"popLayout\">\n              {visibleToasts.map((toast) => (\n                <ProcessingToast\n                  key={toast.id}\n                  toast={toast}\n                  onMinimize={minimizeToast}\n                />\n              ))}\n            </AnimatePresence>\n          </div>\n        </div>\n      )}\n\n      {/* Processing Circle */}\n      {minimizedCount > 0 && (\n        <ProcessingCircle\n          ref={circleRef}\n          count={minimizedCount}\n          onClick={() => setIsPopoverOpen(!isPopoverOpen)}\n          isPopoverOpen={isPopoverOpen}\n        />\n      )}\n\n      {/* Minimized List Popover */}\n      <AnimatePresence>\n        {isPopoverOpen && minimizedToasts.length > 0 && (\n          <MinimizedListPopover\n            toasts={minimizedToasts}\n            onRestore={handleRestore}\n            onClose={() => setIsPopoverOpen(false)}\n            isOpen={isPopoverOpen}\n            anchorRef={circleRef}\n          />\n        )}\n      </AnimatePresence>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AACA;AACA;;;AARA;;;;;;;AAee,SAAS,wBAAwB,EAC9C,aAAa,EACb,YAAY,EAAE,EACe;;IAC7B,MAAM,EAAE,MAAM,EAAE,cAAc,EAAE,aAAa,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,IAAA,iLAAmB;IACjG,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,6LAAQ,EAAC;IACnD,MAAM,YAAY,IAAA,2LAAM,EAAoB;IAE5C,0BAA0B;IAC1B,IAAA,8LAAS;6CAAC;YACR,aAAa;QACf;4CAAG;QAAC;QAAe;KAAa;IAEhC,4DAA4D;IAC5D,IAAI,cAAc,MAAM,KAAK,KAAK,mBAAmB,GAAG;QACtD,OAAO;IACT;IAEA,MAAM,gBAAgB,OAAO,MAAM,CAAC,CAAA,IAAK,CAAC,EAAE,SAAS;IACrD,MAAM,kBAAkB,OAAO,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS;IAEtD,MAAM,gBAAgB,CAAC;QACrB,aAAa;QACb,iBAAiB;IACnB;IAEA,qBACE;;YAEG,cAAc,MAAM,GAAG,mBACtB,iNAAC;gBAAI,WAAW,CAAC,0CAA0C,EAAE,WAAW;0BACtE,cAAA,iNAAC;oBAAI,WAAU;8BACb,cAAA,iNAAC,mOAAe;wBAAC,MAAK;kCACnB,cAAc,GAAG,CAAC,CAAC,sBAClB,iNAAC,iLAAe;gCAEd,OAAO;gCACP,YAAY;+BAFP,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;YAWxB,iBAAiB,mBAChB,iNAAC,kLAAgB;gBACf,KAAK;gBACL,OAAO;gBACP,SAAS,IAAM,iBAAiB,CAAC;gBACjC,eAAe;;;;;;0BAKnB,iNAAC,mOAAe;0BACb,iBAAiB,gBAAgB,MAAM,GAAG,mBACzC,iNAAC,0LAAoB;oBACnB,QAAQ;oBACR,WAAW;oBACX,SAAS,IAAM,iBAAiB;oBAChC,QAAQ;oBACR,WAAW;;;;;;;;;;;;;AAMvB;GArEwB;;QAIwD,iLAAmB;;;KAJ3E"}},
    {"offset": {"line": 4794, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-status-notification.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback, useMemo } from 'react'\nimport { CheckCircle, X, AlertCircle, Clock } from 'lucide-react'\nimport { AvatarStatusUpdate } from '@/hooks/useUnifiedSocket'\n\ninterface AvatarStatusNotificationProps {\n  updates: AvatarStatusUpdate[]\n  isConnected: boolean\n  onClear: () => void\n  className?: string\n}\n\nexport default function AvatarStatusNotification({ \n  updates, \n  isConnected, \n  onClear,\n  className = '' \n}: AvatarStatusNotificationProps) {\n  const [isVisible, setIsVisible] = useState(false)\n  const [currentStep, setCurrentStep] = useState<string>('')\n  const [progress, setProgress] = useState(0)\n  const [timeRemaining, setTimeRemaining] = useState<number | null>(null)\n\n  const steps = useMemo(() => ['upload', 'group-creation', 'training', 'saving', 'complete', 'ready'], [])\n\n  const getStepProgress = useCallback((step: string): number => {\n    const stepIndex = steps.indexOf(step)\n    if (stepIndex === -1) return 0\n    return Math.round(((stepIndex + 1) / steps.length) * 100)\n  }, [steps])\n\n  // Show notification when we have updates\n  useEffect(() => {\n    if (updates.length > 0) {\n      setIsVisible(true)\n      const latest = updates[updates.length - 1]\n      setCurrentStep(latest.step)\n      \n      const stepProgress = getStepProgress(latest.step)\n      setProgress(stepProgress)\n    }\n  }, [updates, getStepProgress])\n\n  // Auto-close notification\n  useEffect(() => {\n    if (updates.length > 0) {\n      const latest = updates[updates.length - 1]\n      const shouldShowCloseButton = latest.step === 'ready' || latest.status === 'error'\n      \n      if (shouldShowCloseButton) {\n        const timeout = latest.status === 'error' ? 60000 : 30000\n        const countdown = latest.status === 'error' ? 60 : 30\n        \n        setTimeRemaining(countdown)\n        \n        const timer = setTimeout(() => {\n          onClear()\n        }, timeout)\n        \n        const countdownInterval = setInterval(() => {\n          setTimeRemaining(prev => {\n            if (prev === null || prev <= 1) {\n              clearInterval(countdownInterval)\n              return null\n            }\n            return prev - 1\n          })\n        }, 1000)\n        \n        return () => {\n          clearTimeout(timer)\n          clearInterval(countdownInterval)\n        }\n      } else {\n        setTimeRemaining(null)\n      }\n    }\n  }, [updates, onClear])\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'success':\n        return 'border-green-200/60 bg-green-50/70 backdrop-blur-sm'\n      case 'error':\n        return 'border-red-200/60 bg-red-50/70 backdrop-blur-sm'\n      default:\n        return 'border-blue-200/60 bg-blue-50/70 backdrop-blur-sm'\n    }\n  }\n\n  const getStepIcon = (step: string, status: string) => {\n    if (status === 'error') {\n      return <AlertCircle className=\"w-5 h-5 text-red-500\" />\n    }\n    if (status === 'success' || step === 'ready' || step === 'complete') {\n      return <CheckCircle className=\"w-5 h-5 text-green-500\" />\n    }\n    return <Clock className=\"w-5 h-5 text-blue-500\" />\n  }\n\n  const latestUpdate = updates[updates.length - 1]\n  const errorUpdate = updates.find(update => update.status === 'error')\n  \n  if (!isVisible || !latestUpdate) {\n    return null\n  }\n\n  const isProcessing = latestUpdate.status === 'progress' && latestUpdate.step !== 'ready'\n  const isComplete = latestUpdate.step === 'ready'\n  const hasError = latestUpdate.status === 'error'\n\n  return (\n    <div className={`fixed top-24 left-4 z-10 max-w-sm w-full ${className}`}>\n      <div className={`border rounded-lg shadow-lg p-4 transition-all duration-300 ${getStatusColor(latestUpdate.status)}`}>\n        {/* Header */}\n        <div className=\"flex items-start justify-between mb-3\">\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-2 mb-1\">\n              {getStepIcon(latestUpdate.step, latestUpdate.status)}\n              <h4 className=\"font-semibold text-gray-800 text-sm\">\n                {hasError \n                  ? 'Avatar Creation Failed' \n                  : isComplete\n                    ? 'Your Avatar is Ready!'\n                    : 'Creating Your Avatar'\n                }\n              </h4>\n            </div>\n            \n            {errorUpdate ? (\n              <p className=\"text-xs text-gray-600 ml-7\">\n                {errorUpdate.data?.message || errorUpdate.data?.error || 'An unknown error occurred'}\n              </p>\n            ) : (\n              <p className=\"text-xs text-gray-600 ml-7\">\n                Your avatar will be ready in 2â€“3 minutes and appear in the dropdown.\n              </p>\n            )}\n          </div>\n          \n          {(latestUpdate.step === 'ready' || hasError) && (\n            <button\n              onClick={onClear}\n              className=\"text-gray-400 hover:text-gray-600 transition-colors ml-2 flex-shrink-0\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          )}\n        </div>\n\n        {/* Progress Bar - show only when processing */}\n        {isProcessing && (\n          <div className=\"mb-4\">\n            <div className=\"flex justify-between text-xs text-gray-600 mb-2\">\n              <span>{latestUpdate.data?.message || 'Processing...'}</span>\n              <span>{progress}%</span>\n            </div>\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n              <div \n                className=\"bg-blue-500 h-2 rounded-full transition-all duration-500 ease-out\"\n                style={{ width: `${progress}%` }}\n              />\n            </div>\n          </div>\n        )}\n\n        {/* Step Indicators */}\n        <div className=\"relative mb-3\">\n          <div className=\"flex justify-between items-center\">\n            {steps.map((step, index) => {\n              const stepProgress = getStepProgress(step)\n              const isActive = step === currentStep\n              const isCompleted = stepProgress <= progress\n              const isError = errorUpdate && step === errorUpdate.step\n              \n              return (\n                <div key={step} className=\"flex flex-col items-center relative z-10 w-[50px]\">\n                  <div\n                    className={`w-6 h-6 mb-2 rounded-full flex items-center justify-center text-xs font-medium transition-colors ${\n                      isError\n                        ? 'bg-red-500 text-white'\n                        : isCompleted\n                        ? 'bg-green-500 text-white'\n                        : isActive\n                        ? 'bg-blue-500 text-white'\n                        : 'bg-gray-300 text-gray-600'\n                    }`}\n                  >\n                    {isError ? (\n                      <X className=\"w-3 h-3\" />\n                    ) : isCompleted ? (\n                      <CheckCircle className=\"w-3 h-3\" />\n                    ) : (\n                      index + 1\n                    )}\n                  </div>\n                  <span className=\"text-[10px] text-gray-600 mt-2 text-center capitalize max-w-12\">\n                  {step.replace('-', ' ').split(' ')[0]}\n                  </span>\n                </div>\n              )\n            })}\n          </div>\n          \n          {/* Connecting line */}\n          <div className=\"absolute top-3 left-3 right-3 h-0.5 bg-gray-300 -z-0\">\n            <div \n              className=\"h-full bg-green-500 transition-all duration-500 ease-out\"\n              style={{ width: `${Math.max(0, (progress / 100) * 100 - 5)}%` }}\n            />\n          </div>\n        </div>\n\n        {/* Error Details */}\n        {errorUpdate && (\n          <div className=\"mt-3 p-3 bg-red-100 border border-red-200 rounded text-xs text-red-700\">\n            <div className=\"font-semibold mb-1\">\n              Error in {errorUpdate.step.replace('-', ' ')} step:\n            </div>\n            <div>{errorUpdate.data?.message || errorUpdate.data?.error || 'An unknown error occurred'}</div>\n          </div>\n        )}\n\n        {/* Success Message */}\n        {latestUpdate.status === 'success' && isComplete && latestUpdate.data?.message && (\n          <div className=\"mt-3 p-3 bg-green-100 border border-green-200 rounded text-xs text-green-700\">\n            ðŸŽ‰ {latestUpdate.data.message}\n          </div>\n        )}\n\n        {/* Auto-close countdown */}\n        {timeRemaining !== null && (\n          <span className=\"text-xs text-gray-500 ml-7\">\n            Auto-close in {timeRemaining}s\n          </span>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;;;AAHA;;;AAae,SAAS,yBAAyB,EAC/C,OAAO,EACP,WAAW,EACX,OAAO,EACP,YAAY,EAAE,EACgB;;IAC9B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,6LAAQ,EAAC;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,6LAAQ,EAAS;IACvD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6LAAQ,EAAC;IACzC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,6LAAQ,EAAgB;IAElE,MAAM,QAAQ,IAAA,4LAAO;mDAAC,IAAM;gBAAC;gBAAU;gBAAkB;gBAAY;gBAAU;gBAAY;aAAQ;kDAAE,EAAE;IAEvG,MAAM,kBAAkB,IAAA,gMAAW;iEAAC,CAAC;YACnC,MAAM,YAAY,MAAM,OAAO,CAAC;YAChC,IAAI,cAAc,CAAC,GAAG,OAAO;YAC7B,OAAO,KAAK,KAAK,CAAC,AAAC,CAAC,YAAY,CAAC,IAAI,MAAM,MAAM,GAAI;QACvD;gEAAG;QAAC;KAAM;IAEV,yCAAyC;IACzC,IAAA,8LAAS;8CAAC;YACR,IAAI,QAAQ,MAAM,GAAG,GAAG;gBACtB,aAAa;gBACb,MAAM,SAAS,OAAO,CAAC,QAAQ,MAAM,GAAG,EAAE;gBAC1C,eAAe,OAAO,IAAI;gBAE1B,MAAM,eAAe,gBAAgB,OAAO,IAAI;gBAChD,YAAY;YACd;QACF;6CAAG;QAAC;QAAS;KAAgB;IAE7B,0BAA0B;IAC1B,IAAA,8LAAS;8CAAC;YACR,IAAI,QAAQ,MAAM,GAAG,GAAG;gBACtB,MAAM,SAAS,OAAO,CAAC,QAAQ,MAAM,GAAG,EAAE;gBAC1C,MAAM,wBAAwB,OAAO,IAAI,KAAK,WAAW,OAAO,MAAM,KAAK;gBAE3E,IAAI,uBAAuB;oBACzB,MAAM,UAAU,OAAO,MAAM,KAAK,UAAU,QAAQ;oBACpD,MAAM,YAAY,OAAO,MAAM,KAAK,UAAU,KAAK;oBAEnD,iBAAiB;oBAEjB,MAAM,QAAQ;oEAAW;4BACvB;wBACF;mEAAG;oBAEH,MAAM,oBAAoB;gFAAY;4BACpC;wFAAiB,CAAA;oCACf,IAAI,SAAS,QAAQ,QAAQ,GAAG;wCAC9B,cAAc;wCACd,OAAO;oCACT;oCACA,OAAO,OAAO;gCAChB;;wBACF;+EAAG;oBAEH;8DAAO;4BACL,aAAa;4BACb,cAAc;wBAChB;;gBACF,OAAO;oBACL,iBAAiB;gBACnB;YACF;QACF;6CAAG;QAAC;QAAS;KAAQ;IAErB,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,MAAM,cAAc,CAAC,MAAc;QACjC,IAAI,WAAW,SAAS;YACtB,qBAAO,iNAAC,0PAAW;gBAAC,WAAU;;;;;;QAChC;QACA,IAAI,WAAW,aAAa,SAAS,WAAW,SAAS,YAAY;YACnE,qBAAO,iNAAC,iQAAW;gBAAC,WAAU;;;;;;QAChC;QACA,qBAAO,iNAAC,oOAAK;YAAC,WAAU;;;;;;IAC1B;IAEA,MAAM,eAAe,OAAO,CAAC,QAAQ,MAAM,GAAG,EAAE;IAChD,MAAM,cAAc,QAAQ,IAAI,CAAC,CAAA,SAAU,OAAO,MAAM,KAAK;IAE7D,IAAI,CAAC,aAAa,CAAC,cAAc;QAC/B,OAAO;IACT;IAEA,MAAM,eAAe,aAAa,MAAM,KAAK,cAAc,aAAa,IAAI,KAAK;IACjF,MAAM,aAAa,aAAa,IAAI,KAAK;IACzC,MAAM,WAAW,aAAa,MAAM,KAAK;IAEzC,qBACE,iNAAC;QAAI,WAAW,CAAC,yCAAyC,EAAE,WAAW;kBACrE,cAAA,iNAAC;YAAI,WAAW,CAAC,4DAA4D,EAAE,eAAe,aAAa,MAAM,GAAG;;8BAElH,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;oCAAI,WAAU;;wCACZ,YAAY,aAAa,IAAI,EAAE,aAAa,MAAM;sDACnD,iNAAC;4CAAG,WAAU;sDACX,WACG,2BACA,aACE,0BACA;;;;;;;;;;;;gCAKT,4BACC,iNAAC;oCAAE,WAAU;8CACV,YAAY,IAAI,EAAE,WAAW,YAAY,IAAI,EAAE,SAAS;;;;;yDAG3D,iNAAC;oCAAE,WAAU;8CAA6B;;;;;;;;;;;;wBAM7C,CAAC,aAAa,IAAI,KAAK,WAAW,QAAQ,mBACzC,iNAAC;4BACC,SAAS;4BACT,WAAU;sCAEV,cAAA,iNAAC,wNAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;gBAMlB,8BACC,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;8CAAM,aAAa,IAAI,EAAE,WAAW;;;;;;8CACrC,iNAAC;;wCAAM;wCAAS;;;;;;;;;;;;;sCAElB,iNAAC;4BAAI,WAAU;sCACb,cAAA,iNAAC;gCACC,WAAU;gCACV,OAAO;oCAAE,OAAO,GAAG,SAAS,CAAC,CAAC;gCAAC;;;;;;;;;;;;;;;;;8BAOvC,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAI,WAAU;sCACZ,MAAM,GAAG,CAAC,CAAC,MAAM;gCAChB,MAAM,eAAe,gBAAgB;gCACrC,MAAM,WAAW,SAAS;gCAC1B,MAAM,cAAc,gBAAgB;gCACpC,MAAM,UAAU,eAAe,SAAS,YAAY,IAAI;gCAExD,qBACE,iNAAC;oCAAe,WAAU;;sDACxB,iNAAC;4CACC,WAAW,CAAC,iGAAiG,EAC3G,UACI,0BACA,cACA,4BACA,WACA,2BACA,6BACJ;sDAED,wBACC,iNAAC,wNAAC;gDAAC,WAAU;;;;;uDACX,4BACF,iNAAC,iQAAW;gDAAC,WAAU;;;;;uDAEvB,QAAQ;;;;;;sDAGZ,iNAAC;4CAAK,WAAU;sDACf,KAAK,OAAO,CAAC,KAAK,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE;;;;;;;mCArB7B;;;;;4BAyBd;;;;;;sCAIF,iNAAC;4BAAI,WAAU;sCACb,cAAA,iNAAC;gCACC,WAAU;gCACV,OAAO;oCAAE,OAAO,GAAG,KAAK,GAAG,CAAC,GAAG,AAAC,WAAW,MAAO,MAAM,GAAG,CAAC,CAAC;gCAAC;;;;;;;;;;;;;;;;;gBAMnE,6BACC,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAI,WAAU;;gCAAqB;gCACxB,YAAY,IAAI,CAAC,OAAO,CAAC,KAAK;gCAAK;;;;;;;sCAE/C,iNAAC;sCAAK,YAAY,IAAI,EAAE,WAAW,YAAY,IAAI,EAAE,SAAS;;;;;;;;;;;;gBAKjE,aAAa,MAAM,KAAK,aAAa,cAAc,aAAa,IAAI,EAAE,yBACrE,iNAAC;oBAAI,WAAU;;wBAA+E;wBACxF,aAAa,IAAI,CAAC,OAAO;;;;;;;gBAKhC,kBAAkB,sBACjB,iNAAC;oBAAK,WAAU;;wBAA6B;wBAC5B;wBAAc;;;;;;;;;;;;;;;;;;AAMzC;GAnOwB;KAAA"}},
    {"offset": {"line": 5210, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/video-avatar-status-notification.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { CheckCircle, AlertCircle, Clock, Video } from 'lucide-react'\nimport { VideoAvatarStatusUpdate } from '@/hooks/useUnifiedSocket'\nimport AvatarCompletionModal from './avatar-creation/AvatarCompletionModal'\n\ninterface VideoAvatarStatusNotificationProps {\n  updates: VideoAvatarStatusUpdate[]\n  isConnected: boolean\n  onClear: () => void\n  className?: string\n}\n\nexport default function VideoAvatarStatusNotification({ \n  updates, \n  isConnected, \n  onClear,\n  className = '' \n}: VideoAvatarStatusNotificationProps) {\n  \n  const [isVisible, setIsVisible] = useState(false)\n  const [timeRemaining, setTimeRemaining] = useState<number | null>(null)\n  const [showCompletionModal, setShowCompletionModal] = useState(false)\n  const [completionData, setCompletionData] = useState<any>(null)\n\n  useEffect(() => {\n    if (updates.length > 0) {\n      setIsVisible(true)\n      const latest = updates[updates.length - 1]\n      \n      if (latest.status === 'completed') {\n        setCompletionData({\n          avatarId: latest.avatarId,\n          avatarName: latest.data?.avatar_name || 'Digital Avatar',\n          previewImageUrl: latest.data?.preview_image_url || '',\n          previewVideoUrl: latest.data?.preview_video_url || '',\n          message: latest.data?.message || 'Avatar creation completed successfully!'\n        })\n        setShowCompletionModal(true)\n        \n        const timer = setTimeout(() => {\n          onClear()\n          setIsVisible(false)\n        }, 5000)\n        \n        return () => {\n          clearTimeout(timer)\n        }\n      }\n      \n      if (latest.status === 'error') {\n        const timeout = 60000\n        const countdown = 300\n        \n        setTimeRemaining(countdown)\n        \n        const timer = setTimeout(() => {\n          onClear()\n          setIsVisible(false)\n        }, timeout)\n        \n        const countdownInterval = setInterval(() => {\n          setTimeRemaining(prev => {\n            if (prev === null || prev <= 1) {\n              clearInterval(countdownInterval)\n              return null\n            }\n            return prev - 1\n          })\n        }, 1000)\n        \n        return () => {\n          clearTimeout(timer)\n          clearInterval(countdownInterval)\n        }\n      } else {\n        setTimeRemaining(null)\n      }\n    } else {\n      setIsVisible(false)\n      setTimeRemaining(null)\n    }\n  }, [updates, onClear])\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'progress':\n        return 'text-blue-600'\n      case 'completed':\n        return 'text-green-600'\n      case 'error':\n        return 'text-red-600'\n      default:\n        return 'text-gray-600'\n    }\n  }\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'progress':\n        return <Clock className=\"w-5 h-5 text-blue-600 animate-spin\" />\n      case 'completed':\n        return <CheckCircle className=\"w-5 h-5 text-green-600\" />\n      case 'error':\n        return <AlertCircle className=\"w-5 h-5 text-red-600\" />\n      default:\n        return <Video className=\"w-5 h-5 text-gray-600\" />\n    }\n  }\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'progress':\n        return 'Processing'\n      case 'completed':\n        return 'Completed'\n      case 'error':\n        return 'Error'\n      default:\n        return 'Unknown'\n    }\n  }\n\n  const getStepText = (step: string) => {\n    switch (step) {\n      case 'upload':\n        return 'Uploading video files'\n      case 'processing':\n        return 'Processing video'\n      case 'training':\n        return 'Training avatar model'\n      case 'generating':\n        return 'Generating avatar'\n      case 'complete':\n        return 'Avatar ready'\n      default:\n        return step.charAt(0).toUpperCase() + step.slice(1)\n    }\n  }\n  const extractErrorMessage = (error: any): string => {\n    if (!error) {\n      return 'An error occurred while creating the video avatar.'\n    }\n\n    if (typeof error === 'string') {\n      if (error.includes('Heygen responded')) {\n        try {\n          const jsonMatch = error.match(/Heygen responded \\d+: (.+)/)\n          if (jsonMatch && jsonMatch[1]) {\n            const parsed = JSON.parse(jsonMatch[1])\n            if (parsed.error && parsed.error.message) {\n              return parsed.error.message\n            }\n            if (parsed.message) {\n              return parsed.message\n            }\n          }\n          \n          const messageMatch = error.match(/\"message\"\\s*:\\s*\"([^\"]*)\"/)\n          if (messageMatch && messageMatch[1]) {\n            return messageMatch[1]\n          }\n        } catch {\n          const cleaned = error.replace(/^Heygen responded \\d+:\\s*/, '')\n          if (cleaned !== error) {\n            try {\n              const parsed = JSON.parse(cleaned)\n              if (parsed.error && parsed.error.message) {\n                return parsed.error.message\n              }\n              if (parsed.message) {\n                return parsed.message\n              }\n            } catch {\n              return cleaned.length < error.length ? cleaned : error\n            }\n          }\n        }\n      }\n      \n      if (error.trim().startsWith('{') || error.trim().startsWith('[')) {\n        try {\n          const parsed = JSON.parse(error)\n          if (parsed.error && parsed.error.message) {\n            return parsed.error.message\n          }\n          if (parsed.message) {\n            return parsed.message\n          }\n        } catch {\n          return error\n        }\n      }\n      \n      return error\n    }\n\n    if (typeof error === 'object') {\n      if (error.error && error.error.message) {\n        return error.error.message\n      }\n      if (error.message) {\n        return error.message\n      }\n      if (error.error && typeof error.error === 'string') {\n        return error.error\n      }\n    }\n    return 'An error occurred while creating the video avatar.'\n  }\n\n  if (!isVisible || updates.length === 0) {\n    return (\n      <>\n        <AvatarCompletionModal\n          isOpen={showCompletionModal}\n          onClose={() => {\n            setShowCompletionModal(false)\n            setCompletionData(null)\n          }}\n          avatarData={completionData}\n        />\n      </>\n    )\n  }\n\n  const latestUpdate: any = updates[updates.length - 1]\n  const progress = latestUpdate.data?.progress || 0\n\n  return (\n    <>\n      <div className={`fixed top-24 left-4 z-30 max-w-sm ${className}`}>\n        <div className=\"bg-white rounded-lg shadow-lg border border-gray-200 p-4\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"flex items-center space-x-2\">\n              {getStatusIcon(latestUpdate.status)}\n              <h3 className=\"font-semibold text-gray-900\">Video Avatar</h3>\n              <div className={`text-sm font-medium ${getStatusColor(latestUpdate.status)}`}>\n                {getStatusText(latestUpdate.status)}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center space-x-2 mb-3\">\n            <div className={`w-2 h-2 rounded-full ${isConnected ? 'bg-green-500' : 'bg-red-500'}`} />\n            <span className=\"text-xs text-gray-600\">\n              {isConnected ? 'Connected' : 'Disconnected'}\n            </span>\n          </div>\n          {latestUpdate.data.avatar_name && <div className=\"space-y-2\">\n            <div className=\"flex justify-between text-sm\">\n                <span className=\"text-gray-700\"><strong>Avatar Name:</strong> {getStepText(latestUpdate.data.avatar_name)}</span>\n              {progress > 0 && (\n                <span className=\"text-gray-500\">{progress}%</span>\n              )}\n            </div>\n          </div>}\n          {latestUpdate.status === 'progress' && (\n            <div className=\"mt-3 text-sm text-gray-600\">\n              Video avatar is in progress might take 4-10 min!\n            </div>\n          )}\n\n          \n\n          {latestUpdate.data?.message && (\n            <div className=\"mt-3 text-sm text-gray-600\">\n              {latestUpdate.data.message}\n            </div>\n          )}\n\n          {latestUpdate.status === 'error' && latestUpdate.data?.error && (\n            <div className=\"mt-3 p-2 bg-red-50 rounded text-sm text-red-700\">\n              {extractErrorMessage(latestUpdate.data.error)}\n            </div>\n          )}\n\n          {timeRemaining !== null && (\n            <div className=\"mt-3 flex items-center justify-between text-xs text-gray-500\">\n              <span>Auto-dismiss in {timeRemaining}s</span>\n              <button\n                onClick={() => {\n                  onClear()\n                  setIsVisible(false)\n                }}\n                className=\"text-blue-600 hover:text-blue-800 font-medium\"\n              >\n                Dismiss now\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <AvatarCompletionModal\n        isOpen={showCompletionModal}\n        onClose={() => {\n          setShowCompletionModal(false)\n          setCompletionData(null)\n        }}\n        avatarData={completionData}\n      />\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5662, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/schedule-status-notification.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { CheckCircle, X, AlertCircle, Clock, Calendar } from 'lucide-react'\nimport { ScheduleStatusUpdate } from '@/hooks/useUnifiedSocket'\nimport { usePathname } from 'next/navigation'\n\ninterface ScheduleStatusNotificationProps {\n  updates: ScheduleStatusUpdate[]\n  isConnected: boolean\n  onClear: () => void\n  className?: string\n}\n\nexport default function ScheduleStatusNotification({ \n  updates, \n  isConnected, \n  onClear,\n  className = '' \n}: ScheduleStatusNotificationProps) {\n  \n  const [isVisible, setIsVisible] = useState(false)\n  const [timeRemaining, setTimeRemaining] = useState<number | null>(null)\n\n  const pathname = usePathname()\n\n  // Show notification when we have updates\n  useEffect(() => {\n    if (updates.length > 0) {\n      setIsVisible(true)\n      const latest = updates[updates.length - 1]\n      \n      // Auto-close notification based on status\n      if (latest.status === 'ready' || latest.status === 'failed') {\n        const timeout = latest.status === 'failed' ? 60000 : 30000 // 60s for errors, 30s for success\n        const countdown = latest.status === 'failed' ? 60 : 30\n        \n        setTimeRemaining(countdown)\n        \n        const timer = setTimeout(() => {\n          onClear()\n          setIsVisible(false)\n        }, timeout)\n        \n        const countdownInterval = setInterval(() => {\n          setTimeRemaining(prev => {\n            if (prev === null || prev <= 1) {\n              clearInterval(countdownInterval)\n              return null\n            }\n            return prev - 1\n          })\n        }, 1000)\n        \n        return () => {\n          clearTimeout(timer)\n          clearInterval(countdownInterval)\n        }\n      } else {\n        setTimeRemaining(null)\n      }\n    } else {\n      // Hide notification when no updates\n      setIsVisible(false)\n      setTimeRemaining(null)\n    }\n  }, [updates, onClear])\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'processing':\n        return 'text-blue-600'\n      case 'ready':\n        return 'text-green-600'\n      case 'failed':\n        return 'text-red-600'\n      default:\n        return 'text-gray-600'\n    }\n  }\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'processing':\n        return <Clock className=\"w-5 h-5 text-blue-600 animate-spin\" />\n      case 'ready':\n        return <CheckCircle className=\"w-5 h-5 text-green-600\" />\n      case 'failed':\n        return <AlertCircle className=\"w-5 h-5 text-red-600\" />\n      default:\n        return <Calendar className=\"w-5 h-5 text-gray-600\" />\n    }\n  }\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'processing':\n        return 'Generating'\n      case 'ready':\n        return 'Ready'\n      case 'failed':\n        return 'Failed'\n      default:\n        return 'Unknown'\n    }\n  }\n\n  if (!isVisible || updates.length === 0) {\n    return null\n  }\n\n  const latestUpdate = updates[updates.length - 1]\n\n  return (\n    <div className={`fixed bottom-6 left-4 z-30 max-w-xs bg-transparent w-full ${className}`}>\n      <div className={`backdrop-blur-sm bg-white/60 rounded-lg shadow-lg border-2 p-4 ${latestUpdate.status === 'ready' ? 'border-green-500' : 'border-gray-200'}`}>\n        {/* Header */}\n        <div className=\"flex items-start justify-between mb-3\">\n          <div className=\"flex items-start space-x-8 space-y-[2px] flex-col\">\n            <div className=\"flex items-center space-x-2\">\n            {getStatusIcon(latestUpdate.status)}\n            <h3 className=\"font-semibold text-gray-900\">Video Schedule</h3>\n            </div>\n            <div className={`text-sm font-medium ml-5 ${getStatusColor(latestUpdate.status)}`}>\n              {getStatusText(latestUpdate.status)}\n            </div>\n          </div>\n          {latestUpdate.status === 'ready' && (\n            <button\n              onClick={() => {\n                onClear()\n                setIsVisible(false)\n              }}\n              className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          )}\n        </div>\n\n        {/* Connection Status */}\n        {/* <div className=\"flex items-center space-x-2 mb-3\">\n          <div className={`w-2 h-2 rounded-full ${isConnected ? 'bg-green-500' : 'bg-red-500'}`} />\n          <span className=\"text-xs text-gray-600\">\n            {isConnected ? 'Connected' : 'Disconnected'}\n          </span>\n        </div> */}\n\n        {/* Schedule ID */}\n        {/* <div className=\"text-sm text-gray-600 mb-2\">\n          Schedule ID: <span className=\"font-mono text-xs\">{latestUpdate.scheduleId}</span>\n        </div> */}\n\n        {/* Message */}\n        <div className=\"text-sm text-gray-700 mb-3\">\n          {latestUpdate.message}\n        </div>\n\n        {/* Error Details */}\n        {latestUpdate.status === 'failed' && latestUpdate.data?.error && (\n          <div className=\"mt-3 p-2 bg-red-50 rounded text-sm text-red-700\">\n            {latestUpdate.data.error}\n          </div>\n        )}\n\n        {/* Generation Time */}\n        {latestUpdate.status === 'ready' && latestUpdate.data?.generationTime && (\n          <div className=\"mt-2 text-xs text-gray-500\">\n            Generated in {latestUpdate.data.generationTime}s\n          </div>\n        )}\n\n        {latestUpdate.status === 'ready' && pathname !== '/scheduled-post' && (\n          <div className=\"mt-2 text-xs text-gray-500\">\n            <a href={`/scheduled-post`} className=\"text-blue-600 hover:text-blue-800 font-medium\">\n              View Schedule\n            </a>\n          </div>\n        )}\n\n        {/* Countdown Timer */}\n        {timeRemaining !== null && (\n          <div className=\"mt-3 flex items-center justify-between text-xs text-gray-500\">\n            <span>Auto-dismiss in {timeRemaining}s</span>\n            <button\n              onClick={() => {\n                onClear()\n                setIsVisible(false)\n              }}\n              className=\"text-blue-600 hover:text-blue-800 font-medium\"\n            >\n              Dismiss now\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5969, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport { Navigation, Pagination, Autoplay, Keyboard } from \"swiper/modules\";\nimport { cn } from \"@/lib/utils\";\n\n// Import Swiper styles\nimport \"swiper/css\";\nimport \"swiper/css/navigation\";\nimport \"swiper/css/pagination\";\n\ninterface SliderItem {\n  id: string;\n  statistic: string;\n  content: string;\n  attribution?: string;\n}\n\ninterface SliderProps {\n  items: SliderItem[];\n  autoPlay?: boolean;\n  autoPlayInterval?: number;\n  showArrows?: boolean;\n  showDots?: boolean;\n  className?: string;\n}\n\nexport function Slider({\n  items,\n  autoPlay = true,\n  autoPlayInterval = 5000,\n  showArrows = true,\n  showDots = true,\n  className,\n}: SliderProps) {\n  if (!items.length) return null;\n\n  return (\n    <div className={cn(\"relative w-full max-w-[1260px] mx-auto px-3 py-14 !mb-0\", className)}>\n      <Swiper\n        modules={[Navigation, Pagination, Autoplay, Keyboard]}\n        spaceBetween={24}\n        slidesPerView={1}\n        breakpoints={{\n          640: {\n            slidesPerView: 2,\n            spaceBetween: 24,\n          },\n          1024: {\n            slidesPerView: 3,\n            spaceBetween: 24,\n          },\n        }}\n        loop={true}\n        speed={600}\n        autoplay={\n          autoPlay\n            ? {\n                delay: autoPlayInterval,\n                disableOnInteraction: false,\n                pauseOnMouseEnter: true,\n              }\n            : true\n        }\n        keyboard={{\n          enabled: true,\n          onlyInViewport: true,\n        }}\n        navigation={\n          showArrows\n            ? {\n                nextEl: \".main-swiper-button-next\",\n                prevEl: \".main-swiper-button-prev\",\n              }\n            : false\n        }\n        pagination={\n          showDots\n            ? {\n                el: \".main-swiper-pagination\",\n                clickable: true,\n                dynamicBullets: false,\n                renderBullet: function (index, className) {\n                  return `<span class=\"${className}\"></span>`;\n                },\n              }\n            : false\n        }\n        className=\"main-swiper-container\"\n      >\n        {items.map((item) => (\n          <SwiperSlide key={item.id} className=\"swiper-slide px-3\">\n            <div className=\"bg-[#FAFAFA] rounded-[24px] p-8 h-full min-h-[300px] flex flex-col justify-between\">\n              {/* Statistic */}\n              <h3 className=\"text-[44px] md:text-[54px] font-semibold mb-4 slider-title leading-[60px]\">\n                {item.statistic}\n              </h3>\n              \n              {/* Content */}\n              <p className=\"text-[#5F6980] text-[18px] leading-relaxed mb-4 flex-grow\">\n                {item.content}\n              </p>\n              \n              {/* Attribution */}\n              {item.attribution && (\n                <p className=\"text-[12px] text-[#5F6980] mt-auto\">\n                  {item.attribution}\n                </p>\n              )}\n            </div>\n          </SwiperSlide>\n        ))}\n      </Swiper>\n\n      {/* Custom Navigation Arrows */}\n      {showArrows && (\n        <>\n          <div className=\"main-swiper-button-prev !transition-all !duration-300 !text-[#757575] xl:!-left-2 left-0 !top-[42%]\">\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n          </div>\n          <div className=\"main-swiper-button-next !text-[#757575] xl:!-right-2 right-0 !top-[42%]\">\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n            </svg>\n          </div>\n        </>\n      )}\n\n      {/* Custom Pagination Dots - Outside Swiper */}\n      {showDots && (\n        <div className=\"main-swiper-pagination flex justify-center space-x-2 mt-0\" />\n      )}\n\n      {/* Custom CSS for Swiper */}\n      <style jsx global>{`\n        .main-swiper-container {\n          width: 100%;\n          padding: 20px 0 60px 0;\n        }\n\n        .main-swiper-container .swiper-slide {\n          text-align: left;\n          background: transparent;\n          display: flex;\n          justify-content: center;\n          align-items: stretch;\n        }\n\n        /* Navigation Arrows */\n        .main-swiper-button-prev,\n        .main-swiper-button-next {\n          position: absolute;\n          top: 42%;\n          background: transparent;\n          transition: all 0.3s ease;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #757575;\n          z-index: 10;\n          cursor: pointer;\n        }\n\n        .main-swiper-button-prev:hover,\n        .main-swiper-button-next:hover {\n          background: transparent;\n        }\n\n        .main-swiper-button-prev {\n          left: 16px;\n        }\n\n        .main-swiper-button-next {\n          right: 16px;\n        }\n\n        .main-swiper-button-prev::after,\n        .main-swiper-button-next::after {\n          display: none;\n        }\n\n        /* Pagination Dots */\n        .main-swiper-pagination {\n          position: relative;\n          display: flex;\n          gap: 1px;\n          z-index: 10;\n        }\n\n        .main-swiper-pagination .swiper-pagination-bullet {\n          width: 12px;\n          height: 12px;\n          background: #D9D9D9;\n          border-radius: 50%;\n          opacity: 1;\n          transition: all 0.3s ease;\n          cursor: pointer;\n        }\n\n        .main-swiper-pagination .swiper-pagination-bullet:hover {\n          background: #454850;\n          transform: scale(1.2);\n        }\n\n        .main-swiper-pagination .swiper-pagination-bullet-active {\n          background: #454850;\n          transform: scale(1.2);\n        }\n\n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .main-swiper-container {\n            padding: 10px 0 50px 0;\n          }\n          \n          .main-swiper-button-prev,\n          .main-swiper-button-next {\n            width: 36px;\n            height: 36px;\n          }\n          \n          .main-swiper-button-prev {\n            left: 8px;\n          }\n          \n          .main-swiper-button-next {\n            right: 8px;\n          }\n          \n          .main-swiper-pagination {\n            margin-top: 6px;\n          }\n          \n          .main-swiper-pagination .swiper-pagination-bullet {\n            width: 6px;\n            height: 6px;\n          }\n        }\n\n        /* Focus states for accessibility */\n        .main-swiper-button-prev:focus,\n        .main-swiper-button-next:focus,\n        .main-swiper-pagination .swiper-pagination-bullet:focus {\n          outline: 2px solid #3b82f6;\n          outline-offset: 2px;\n        }\n\n        /* Disabled states */\n        .main-swiper-button-prev.swiper-button-disabled,\n        .main-swiper-button-next.swiper-button-disabled {\n          opacity: 0.4;\n          cursor: not-allowed;\n        }\n\n        .main-swiper-button-prev.swiper-button-disabled:hover,\n        .main-swiper-button-next.swiper-button-disabled:hover {\n          transform: translateY(-50%) scale(1);\n          background: #374151;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AALA;;;;;;;;;AA4BO,SAAS,OAAO,EACrB,KAAK,EACL,WAAW,IAAI,EACf,mBAAmB,IAAI,EACvB,aAAa,IAAI,EACjB,WAAW,IAAI,EACf,SAAS,EACG;IACZ,IAAI,CAAC,MAAM,MAAM,EAAE,OAAO;IAE1B,qBACE,iNAAC;mDAAe,IAAA,gJAAE,EAAC,2DAA2D;;0BAC5E,iNAAC,2KAAM;gBACL,SAAS;oBAAC,8NAAU;oBAAE,8NAAU;oBAAE,wNAAQ;oBAAE,wNAAQ;iBAAC;gBACrD,cAAc;gBACd,eAAe;gBACf,aAAa;oBACX,KAAK;wBACH,eAAe;wBACf,cAAc;oBAChB;oBACA,MAAM;wBACJ,eAAe;wBACf,cAAc;oBAChB;gBACF;gBACA,MAAM;gBACN,OAAO;gBACP,UACE,WACI;oBACE,OAAO;oBACP,sBAAsB;oBACtB,mBAAmB;gBACrB,IACA;gBAEN,UAAU;oBACR,SAAS;oBACT,gBAAgB;gBAClB;gBACA,YACE,aACI;oBACE,QAAQ;oBACR,QAAQ;gBACV,IACA;gBAEN,YACE,WACI;oBACE,IAAI;oBACJ,WAAW;oBACX,gBAAgB;oBAChB,cAAc,SAAU,KAAK,EAAE,SAAS;wBACtC,OAAO,CAAC,aAAa,EAAE,UAAU,SAAS,CAAC;oBAC7C;gBACF,IACA;gBAEN,WAAU;0BAET,MAAM,GAAG,CAAC,CAAC,qBACV,iNAAC,gLAAW;wBAAe,WAAU;kCACnC,cAAA,iNAAC;sEAAc;;8CAEb,iNAAC;8EAAa;8CACX,KAAK,SAAS;;;;;;8CAIjB,iNAAC;8EAAY;8CACV,KAAK,OAAO;;;;;;gCAId,KAAK,WAAW,kBACf,iNAAC;8EAAY;8CACV,KAAK,WAAW;;;;;;;;;;;;uBAfP,KAAK,EAAE;;;;;;;;;;YAwB5B,4BACC;;kCACE,iNAAC;kEAAc;kCACb,cAAA,iNAAC;4BAAwB,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sEAApD;sCACb,cAAA,iNAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAa;gCAAG,GAAE;;;;;;;;;;;;;;;;;kCAGzE,iNAAC;kEAAc;kCACb,cAAA,iNAAC;4BAAwB,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sEAApD;sCACb,cAAA,iNAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAa;gCAAG,GAAE;;;;;;;;;;;;;;;;;;;YAO5E,0BACC,iNAAC;0DAAc;;;;;;;;;;;;;;;;AAoIvB;KA7OgB"}},
    {"offset": {"line": 6172, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/review-slider.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport { Navigation, Pagination, Autoplay, Keyboard } from \"swiper/modules\";\nimport { cn } from \"@/lib/utils\";\nimport Image from \"next/image\";\n\n// Import Swiper styles\nimport \"swiper/css\";\nimport \"swiper/css/navigation\";\nimport \"swiper/css/pagination\";\n\ninterface SliderItem {\n  id: string;\n  content: string;\n  stars: number;\n  name: string;\n  image: string;\n}\n\ninterface SliderProps {\n  items: SliderItem[];\n  autoPlay?: boolean;\n  autoPlayInterval?: number;\n  showArrows?: boolean;\n  showDots?: boolean;\n  className?: string;\n}\n\nexport function ReviewSlider({\n  items,\n  autoPlay = true,\n  autoPlayInterval = 5000,\n  showArrows = true,\n  showDots = true,\n}: SliderProps) {\n  if (!items.length) return null;\n\n  return (\n    <div className={cn(\"relative w-full max-w-[1260px] mx-auto px-3 py-14\")}>\n      <div className=\"flex flex-col justify-between items-center gap-5\">\n      <h2 className=\"text-[32px] md:text-[42px] font-semibold text-[#171717] text-center leading-[120%]\">\n      What Our Clients Are Saying\n      </h2>\n      <p className=\"md:text-[20px] text-[18px] leading-[24px] mb-6 flex-grow text-[#5F5F5F] text-center max-w-[650px] mx-auto\">\n      See how EdgeAI Realty has helped real estate agents and loan officers transform their marketing strategies.\n      </p>\n      </div>\n    <div className=\"relative\">\n      <Swiper\n        modules={[Navigation, Pagination, Autoplay, Keyboard]}\n        spaceBetween={0}\n        slidesPerView={1}\n        breakpoints={{\n          640: {\n            slidesPerView: 2,\n            spaceBetween: 10,\n          },\n          1024: {\n            slidesPerView: 3,\n            spaceBetween: 10,\n          },\n        }}\n        loop={true}\n        speed={600}\n        autoplay={\n          autoPlay\n            ? {\n                delay: autoPlayInterval,\n                disableOnInteraction: false,\n                pauseOnMouseEnter: true,\n              }\n            : true\n        }\n        keyboard={{\n          enabled: true,\n          onlyInViewport: true,\n        }}\n        navigation={\n          showArrows\n            ? {\n                nextEl: \".review-swiper-button-next\",\n                prevEl: \".review-swiper-button-prev\",\n              }\n            : false\n        }\n        pagination={\n          showDots\n            ? {\n                el: \".review-swiper-pagination\",\n                clickable: true,\n                dynamicBullets: false,\n                renderBullet: function (index, className) {\n                  return `<span class=\"${className}\"></span>`;\n                },\n              }\n            : true\n        }\n        className=\"review-swiper-container\"\n      >\n        {items.map((item) => (\n          <SwiperSlide key={item.id} className=\"swiper-slide px-3\">\n            <div className=\"bg-[#ECEFFD] border border-[#D9D9D9] rounded-[24px] h-full min-h-[300px] flex flex-col justify-between\">\n            <div className=\"px-5 pt-5 pb-5\">\n              {/* Attribution */}\n              {item.content && (\n                <p className=\"md:text-[18px] text-[16px] text-[#717171]\">\n                  &quot;{item.content}&quot;\n                </p>\n              )}\n              </div>\n              <div className=\"h-[1px] w-full bg-gradient-to-r from-transparent via-[#12144E]/50 to-[#12144E]/8\"></div>\n              <div className=\"px-5 pb-5 pt-3\">\n              <div className=\"flex items-center gap-3\">\n                <Image src={item.image} alt={item.name} width={56} height={56} className=\"md:w-[56px] md:h-[56px] w-[48px] h-[48px] rounded-full\" />\n                <div className=\"flex flex-col gap-1\">\n                    <h3 className=\"text-[18px] font-medium text-[#171717]\">{item.name}</h3>\n                    <div className=\"flex items-center\">\n                        {Array.from({ length: 5 }).map((_, index) => (\n                        <svg key={index} className={`w-4 h-4 ${index < item.stars ? 'text-[#FFDC23]' : 'text-[#D9D9D9]'}`} fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path d=\"M12 17.27L18.18 21 16.54 13.97 22 9.24 14.81 8.63 12 2 9.19 8.63 2 9.24 7.46 13.97 5.82 21 12 17.27z\" />\n                        </svg>\n                        ))}\n                    </div>\n                </div>\n              </div> \n              </div>\n            </div>\n          </SwiperSlide>\n        ))}\n      </Swiper>\n\n      {/* Custom Navigation Arrows */}\n      {showArrows && (\n        <>\n          <div className=\"review-swiper-button-prev !transition-all !duration-300 !text-[#757575] xl:!-left-2 left-0 !top-[42%]\">\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n          </div>\n          <div className=\"review-swiper-button-next !text-[#757575] xl:!-right-2 right-0 !top-[42%]\">\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n            </svg>\n          </div>\n        </>\n      )}\n\n      {/* Custom Pagination Dots - Outside Swiper */}\n      {showDots && (\n        <div className=\"review-swiper-pagination flex justify-center space-x-2 mt-0\" />\n      )}\n      </div>\n\n      {/* Custom CSS for Swiper */}\n      <style jsx global>{`\n        .review-swiper-container {\n          width: 100%;\n          padding: 20px 0 60px 0;\n        }\n\n        .review-swiper-container .swiper-slide {\n          text-align: left;\n          background: transparent;\n          display: flex;\n          justify-content: center;\n          align-items: stretch;\n        }\n\n        /* Navigation Arrows */\n        .review-swiper-button-prev,\n        .review-swiper-button-next {\n          position: absolute;\n          top: 42%;\n          background: transparent;\n          transition: all 0.3s ease;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #757575;\n          z-index: 10;\n          cursor: pointer;\n        }\n\n        .review-swiper-button-prev:hover,\n        .review-swiper-button-next:hover {\n          background: transparent;\n        }\n\n        .review-swiper-button-prev {\n          left: 16px;\n        }\n\n        .review-swiper-button-next {\n          right: 16px;\n        }\n\n        .review-swiper-button-prev::after,\n        .review-swiper-button-next::after {\n          display: none;\n        }\n\n        /* Pagination Dots */\n        .review-swiper-pagination {\n          position: relative;\n          display: flex;\n          gap: 1px;\n          z-index: 10;\n        }\n\n        .review-swiper-pagination .swiper-pagination-bullet {\n          width: 12px;\n          height: 12px;\n          background: #D9D9D9;\n          border-radius: 50%;\n          opacity: 1;\n          transition: all 0.3s ease;\n          cursor: pointer;\n        }\n\n        .review-swiper-pagination .swiper-pagination-bullet:hover {\n          background: #454850;\n          transform: scale(1.2);\n        }\n\n        .review-swiper-pagination .swiper-pagination-bullet-active {\n          background: #454850;\n          transform: scale(1.2);\n        }\n\n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .review-swiper-container {\n            padding: 10px 0 50px 0;\n          }\n          \n          .review-swiper-button-prev,\n          .review-swiper-button-next {\n            width: 36px;\n            height: 36px;\n          }\n          \n          .review-swiper-button-prev {\n            left: 8px;\n          }\n          \n          .review-swiper-button-next {\n            right: 8px;\n          }\n          \n          .review-swiper-pagination {\n            margin-top: 6px;\n          }\n          \n          .review-swiper-pagination .swiper-pagination-bullet {\n            width: 6px;\n            height: 6px;\n          }\n        }\n\n        /* Focus states for accessibility */\n        .review-swiper-button-prev:focus,\n        .review-swiper-button-next:focus,\n        .review-swiper-pagination .swiper-pagination-bullet:focus {\n          outline: 2px solid #3b82f6;\n          outline-offset: 2px;\n        }\n\n        /* Disabled states */\n        .review-swiper-button-prev.swiper-button-disabled,\n        .review-swiper-button-next.swiper-button-disabled {\n          opacity: 0.4;\n          cursor: not-allowed;\n        }\n\n        .review-swiper-button-prev.swiper-button-disabled:hover,\n        .review-swiper-button-next.swiper-button-disabled:hover {\n          transform: translateY(-50%) scale(1);\n          background: #374151;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AANA;;;;;;;;;;AA8BO,SAAS,aAAa,EAC3B,KAAK,EACL,WAAW,IAAI,EACf,mBAAmB,IAAI,EACvB,aAAa,IAAI,EACjB,WAAW,IAAI,EACH;IACZ,IAAI,CAAC,MAAM,MAAM,EAAE,OAAO;IAE1B,qBACE,iNAAC;kDAAe,IAAA,gJAAE,EAAC;;0BACjB,iNAAC;yDAAc;;kCACf,iNAAC;iEAAa;kCAAqF;;;;;;kCAGnG,iNAAC;iEAAY;kCAA4G;;;;;;;;;;;;0BAI3H,iNAAC;yDAAc;;kCACb,iNAAC,2KAAM;wBACL,SAAS;4BAAC,8NAAU;4BAAE,8NAAU;4BAAE,wNAAQ;4BAAE,wNAAQ;yBAAC;wBACrD,cAAc;wBACd,eAAe;wBACf,aAAa;4BACX,KAAK;gCACH,eAAe;gCACf,cAAc;4BAChB;4BACA,MAAM;gCACJ,eAAe;gCACf,cAAc;4BAChB;wBACF;wBACA,MAAM;wBACN,OAAO;wBACP,UACE,WACI;4BACE,OAAO;4BACP,sBAAsB;4BACtB,mBAAmB;wBACrB,IACA;wBAEN,UAAU;4BACR,SAAS;4BACT,gBAAgB;wBAClB;wBACA,YACE,aACI;4BACE,QAAQ;4BACR,QAAQ;wBACV,IACA;wBAEN,YACE,WACI;4BACE,IAAI;4BACJ,WAAW;4BACX,gBAAgB;4BAChB,cAAc,SAAU,KAAK,EAAE,SAAS;gCACtC,OAAO,CAAC,aAAa,EAAE,UAAU,SAAS,CAAC;4BAC7C;wBACF,IACA;wBAEN,WAAU;kCAET,MAAM,GAAG,CAAC,CAAC,qBACV,iNAAC,gLAAW;gCAAe,WAAU;0CACnC,cAAA,iNAAC;6EAAc;;sDACf,iNAAC;qFAAc;sDAEZ,KAAK,OAAO,kBACX,iNAAC;yFAAY;;oDAA4C;oDAChD,KAAK,OAAO;oDAAC;;;;;;;;;;;;sDAIxB,iNAAC;qFAAc;;;;;;sDACf,iNAAC;qFAAc;sDACf,cAAA,iNAAC;yFAAc;;kEACb,iNAAC,+JAAK;wDAAC,KAAK,KAAK,KAAK;wDAAE,KAAK,KAAK,IAAI;wDAAE,OAAO;wDAAI,QAAQ;wDAAI,WAAU;;;;;;kEACzE,iNAAC;iGAAc;;0EACX,iNAAC;yGAAa;0EAA0C,KAAK,IAAI;;;;;;0EACjE,iNAAC;yGAAc;0EACV,MAAM,IAAI,CAAC;oEAAE,QAAQ;gEAAE,GAAG,GAAG,CAAC,CAAC,GAAG,sBACnC,iNAAC;wEAAkG,MAAK;wEAAe,SAAQ;iHAAnG,CAAC,QAAQ,EAAE,QAAQ,KAAK,KAAK,GAAG,mBAAmB,kBAAkB;kFAC7F,cAAA,iNAAC;4EAAK,GAAE;;;;;;;uEADF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAlBN,KAAK,EAAE;;;;;;;;;;oBAgC5B,4BACC;;0CACE,iNAAC;yEAAc;0CACb,cAAA,iNAAC;oCAAwB,MAAK;oCAAO,QAAO;oCAAe,SAAQ;6EAApD;8CACb,cAAA,iNAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;;;;;;;0CAGzE,iNAAC;yEAAc;0CACb,cAAA,iNAAC;oCAAwB,MAAK;oCAAO,QAAO;oCAAe,SAAQ;6EAApD;8CACb,cAAA,iNAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;;;;;;;;;oBAO5E,0BACC,iNAAC;iEAAc;;;;;;;;;;;;;;;;;;;;;;AAqIvB;KA9PgB"}},
    {"offset": {"line": 6483, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/features-section.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport SignupModal from \"./signup-modal\";\nimport SigninModal from \"./signin-modal\";\nimport EmailVerificationModal from \"./email-verification-modal\";\nimport ForgotPasswordModal from \"./forgot-password-modal\";\nimport { useAppSelector } from \"@/store/hooks\";\n\n\ninterface FeatureItem {\n  id: string;\n  icon: React.ReactNode;\n  title: string;\n  description: string;\n}\n\ninterface FeaturesSectionProps {\n  className?: string;\n}\n\nconst featureItems: FeatureItem[] = [\n  {\n    id: \"attract-leads\",\n    icon: (\n        <svg width=\"26\" height=\"32\" className=\"w-[30px] h-[30px]\" viewBox=\"0 0 26 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M13.0003 7.8902C12.2681 7.8902 11.6715 7.29758 11.6715 6.57024C11.6715 5.8429 12.2681 5.25028 13.0003 5.25028C13.7325 5.25028 14.3276 5.8429 14.3276 6.57024C14.329 7.29758 13.7325 7.8902 13.0003 7.8902ZM13.0003 4.28239C11.7299 4.28239 10.6958 5.30821 10.6958 6.57024C10.6958 7.83226 11.7299 8.85808 13.0003 8.85808C14.2707 8.85808 15.3048 7.83226 15.3048 6.57024C15.3048 5.30821 14.2707 4.28239 13.0003 4.28239ZM25.0244 9.423V8.67103C25.0244 8.50005 24.9457 8.36531 24.7881 8.26242L13.5966 1.14517C13.2276 0.911898 12.7711 0.911898 12.4036 1.14517L1.21208 8.26242C1.05456 8.36384 0.975798 8.50004 0.975798 8.67103V9.423C0.975798 9.69684 1.22813 9.92144 1.53733 9.92144H24.4625C24.7717 9.92144 25.024 9.69541 25.024 9.423H25.0244ZM22.6032 23.3704C22.6032 23.6761 22.3509 23.9253 22.0417 23.9253H20.7392L18.3035 13.8147C18.3035 13.8147 18.302 13.8147 18.302 13.8104C18.1474 13.1772 17.5713 12.7034 16.8843 12.7034H9.11453C8.43048 12.7034 7.85435 13.1729 7.69828 13.8061H7.69682L5.26107 23.9267H3.96005C3.64938 23.9267 3.39851 23.6774 3.39851 23.3717V10.8935H22.6032L22.6032 23.3704ZM20.3527 28.4646C20.5992 28.4038 20.7524 28.1546 20.6926 27.9097L18.3429 18.15V28.9646L20.3527 28.4646ZM17.3671 30.5525V14.1492C17.3671 13.8884 17.1512 13.6711 16.8843 13.6711H9.11453C8.84908 13.6711 8.63174 13.887 8.63174 14.1492V30.5525C8.63174 30.8133 8.84906 31.0307 9.11453 31.0307H16.8843C17.1498 31.0307 17.3671 30.8148 17.3671 30.5525ZM5.64764 28.4574L7.65459 28.9558V18.1498L5.30633 27.9024C5.24799 28.1458 5.40115 28.3951 5.64764 28.4574ZM25.3146 7.44951L14.1231 0.328182C13.4303 -0.109394 12.5683 -0.109394 11.877 0.328182L0.685499 7.44951C0.249384 7.72335 0 8.17251 0 8.67095V9.42292C0 10.2314 0.689905 10.8936 1.5373 10.8936H2.42118V23.3717C2.42118 24.2135 3.11109 24.9003 3.95994 24.9003H5.0276L4.35958 27.6779C4.1758 28.4371 4.64837 29.2094 5.41264 29.3978L7.65586 29.957V30.554C7.65586 31.3509 8.31074 32 9.11438 32H16.8842C17.6893 32 18.3427 31.3509 18.3427 30.554V29.9658L20.5888 29.4108C21.3531 29.2181 21.8257 28.4473 21.6419 27.6866L20.9709 24.9004H22.0415C22.8889 24.9004 23.5788 24.2136 23.5788 23.3718V10.8936H24.4627C25.3101 10.8936 26 10.2314 26 9.42296V8.67099C26 8.17255 25.7507 7.72336 25.3146 7.44951ZM12.9989 23.1907C13.467 23.1907 13.8463 22.8154 13.8463 22.3489C13.8463 21.8867 13.4656 21.5071 12.9989 21.5071C12.5321 21.5071 12.1515 21.8867 12.1515 22.3489C12.1515 22.8154 12.5321 23.1907 12.9989 23.1907ZM12.9989 20.5392C11.9939 20.5392 11.1757 21.352 11.1757 22.3489C11.1757 23.3501 11.9939 24.1629 12.9989 24.1629C14.0038 24.1629 14.822 23.3501 14.822 22.3489C14.822 21.352 14.0038 20.5392 12.9989 20.5392ZM15.7584 27.9213V16.7806C15.1137 16.6097 14.6047 16.1026 14.4311 15.4607H11.568C11.3944 16.1026 10.8854 16.6082 10.2393 16.7806V27.9213C10.884 28.0922 11.3945 28.5993 11.568 29.2412H14.4311C14.6047 28.5993 15.1137 28.0937 15.7584 27.9213ZM16.247 15.8737C15.7482 15.8737 15.3427 15.4695 15.3427 14.9754C15.3427 14.7102 15.1254 14.4929 14.8541 14.4929H11.1436C10.8738 14.4929 10.655 14.7088 10.655 14.9754C10.655 15.4695 10.2495 15.8737 9.75067 15.8737C9.48084 15.8737 9.26205 16.0896 9.26205 16.3606V28.3432C9.26205 28.6127 9.48084 28.83 9.75067 28.83C10.2495 28.83 10.655 29.2299 10.655 29.7284C10.655 29.9935 10.8738 30.2109 11.1436 30.2109H14.8556C15.1254 30.2109 15.3442 29.995 15.3442 29.7284C15.3442 29.2299 15.7496 28.83 16.2485 28.83C16.5183 28.83 16.7371 28.6141 16.7371 28.3432L16.7356 16.3591C16.7356 16.0896 16.5168 15.8737 16.247 15.8737Z\" fill=\"#5046E5\"/>\n        </svg>\n        \n    ),\n    title: \"Attract Up to 40% More Leads\",\n    description: \"Agents using video marketing generate up to 40% more qualified leads compared to those relying solely on photos or text. With Edge, you grab more attention, more inquiriesâ€”and more offers.\"\n  },\n  {\n    id: \"professional-camera\",\n    icon: (\n        <svg width=\"33\" height=\"32\" className=\"w-[30px] h-[30px]\" viewBox=\"0 0 33 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M23.332 9.33203C23.332 9.06681 23.2266 8.81246 23.0391 8.62492C22.8515 8.43739 22.5972 8.33203 22.3319 8.33203C22.0667 8.33203 21.8124 8.43739 21.6248 8.62492C21.4373 8.81246 21.3319 9.06681 21.3319 9.33203V10.9987H19.6653C19.4001 10.9987 19.1457 11.1041 18.9582 11.2916C18.7706 11.4791 18.6653 11.7335 18.6653 11.9987C18.6653 12.2639 18.7706 12.5183 18.9582 12.7058C19.1457 12.8933 19.4001 12.9987 19.6653 12.9987H21.3319V14.6654C21.3319 14.9306 21.4373 15.1849 21.6248 15.3725C21.8124 15.56 22.0667 15.6654 22.3319 15.6654C22.5972 15.6654 22.8515 15.56 23.0391 15.3725C23.2266 15.1849 23.332 14.9306 23.332 14.6654V12.9987H24.9986C25.2638 12.9987 25.5182 12.8933 25.7057 12.7058C25.8933 12.5183 25.9986 12.2639 25.9986 11.9987C25.9986 11.7335 25.8933 11.4791 25.7057 11.2916C25.5182 11.1041 25.2638 10.9987 24.9986 10.9987H23.332V9.33203Z\" fill=\"#5046E5\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M30.6659 12.4221C30.6659 7.98741 28.6899 4.67808 25.6126 3.47408C22.7659 2.35808 19.3486 3.19275 16.3326 6.01541C13.3166 3.19275 9.89927 2.35808 7.0526 3.47408C3.97527 4.67808 1.99927 7.98742 1.99927 12.4207C1.99927 15.2461 3.50593 18.0247 5.38193 20.4167C7.27793 22.8341 9.66193 24.9981 11.6513 26.6127L11.8299 26.7594C13.4299 28.0594 14.5873 28.9994 16.3326 28.9994C18.0793 28.9994 19.2339 28.0594 20.8353 26.7594L21.0139 26.6127C23.0033 24.9994 25.3873 22.8341 27.2833 20.4167C29.1593 18.0247 30.6659 15.2461 30.6659 12.4221ZM17.0633 8.11408C19.8793 5.10208 22.7979 4.51941 24.8846 5.33541C26.9753 6.15408 28.6659 8.54875 28.6659 12.4221C28.6659 14.5701 27.4926 16.9074 25.7086 19.1821C23.9433 21.4354 21.6873 23.4914 19.7539 25.0607C17.8966 26.5674 17.2966 26.9981 16.3326 26.9981C15.3686 26.9981 14.7686 26.5674 12.9113 25.0594C10.9779 23.4914 8.72193 21.4341 6.9566 19.1834C5.17127 16.9074 3.99927 14.5701 3.99927 12.4221C3.99927 8.54875 5.68993 6.15541 7.7806 5.33541C9.86727 4.51941 12.7859 5.10208 15.6019 8.11408C15.6955 8.2142 15.8086 8.29403 15.9343 8.34861C16.06 8.40318 16.1956 8.43135 16.3326 8.43135C16.4696 8.43135 16.6052 8.40318 16.7309 8.34861C16.8566 8.29403 16.9697 8.2142 17.0633 8.11408Z\" fill=\"#5046E5\"/>\n        </svg>\n        \n    ),\n    title: \"Professional Without a Camera\",\n    description: \"Not comfortable on camera? No problem. Edge uses your AI avatar and voice to create clean, polished videosâ€”no filming, no lighting, no retakes. Just your face, your message, and professional delivery.\"\n  },\n  {\n    id: \"win-listings\",\n    icon: (\n        <svg width=\"33\" height=\"32\" className=\"w-[30px] h-[30px]\" viewBox=\"0 0 33 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g clipPath=\"url(#clip0_7493_311)\">\n        <path d=\"M16.6668 9.93208C15.0293 9.93208 13.459 10.5708 12.2996 11.7086C11.1418 12.8479 10.4918 14.3911 10.4918 16.0003C10.4918 17.6095 11.1418 19.1526 12.2996 20.2919C13.459 21.4297 15.0293 22.0684 16.6668 22.0684C18.3043 22.0684 19.8746 21.4297 21.034 20.2919C22.1918 19.1526 22.8418 17.6095 22.8418 16.0003C22.8403 14.3911 22.1887 12.8495 21.0309 11.7117C19.8731 10.574 18.3043 9.93361 16.6668 9.93208ZM16.6668 21.1946C14.5293 21.1946 12.6012 19.9294 11.7824 17.9886C10.9652 16.0462 11.4168 13.8121 12.9293 12.3274C14.4402 10.8411 16.7137 10.3973 18.6901 11.2004C20.6651 12.005 21.9526 13.8998 21.9526 16.0003C21.9495 18.8686 19.5856 21.1915 16.6668 21.1946ZM14.2621 16.0001C14.259 17.1179 15.0652 18.0791 16.1825 18.2894C17.2997 18.4998 18.409 17.8979 18.8262 16.8584C18.9168 16.6342 19.1762 16.5252 19.4043 16.6143C19.6325 16.7033 19.7434 16.9582 19.6528 17.1824C19.3387 17.9639 18.7231 18.5935 17.9403 18.9313V19.7527C17.9325 19.9877 17.7356 20.1765 17.495 20.1765C17.2543 20.1765 17.0575 19.9876 17.0512 19.7527V19.1708C16.77 19.2076 16.4871 19.2076 16.2059 19.1708V19.7527C16.2059 19.9938 16.0075 20.1888 15.7621 20.1888C15.5168 20.1888 15.3184 19.9938 15.3184 19.7527V18.9266C14.1371 18.4168 13.3746 17.2699 13.3746 16.0016C13.3746 14.7348 14.1371 13.5863 15.3184 13.0765V12.2566C15.3184 12.0155 15.5168 11.8205 15.7621 11.8205C16.0075 11.8205 16.2059 12.0155 16.2059 12.2566V12.8323C16.4871 12.7955 16.77 12.7955 17.0512 12.8323V12.2566C17.0575 12.0201 17.2543 11.8328 17.495 11.8328C17.7356 11.8328 17.9325 12.0201 17.9403 12.2566V13.0719C18.7231 13.4097 19.3372 14.0392 19.6512 14.8208C19.7418 15.045 19.6309 15.2983 19.4028 15.3874C19.1747 15.4764 18.9153 15.3674 18.8247 15.1432C18.5669 14.4999 18.0309 14.0039 17.3606 13.792H17.3575H17.359C16.6387 13.5632 15.8512 13.6845 15.2387 14.1221C14.6262 14.5582 14.2637 15.2569 14.2621 16.0001ZM30.8714 14.2358C30.0511 14.2358 29.3339 14.7824 29.1308 15.564H24.8619C24.8229 14.8469 24.6854 14.1375 24.4557 13.4573H26.7916C26.9104 13.4573 27.0229 13.4097 27.1072 13.3268L28.1323 12.3195C28.9104 12.774 29.9119 12.5867 30.4666 11.8834C31.0213 11.1802 30.9588 10.1806 30.3182 9.55258C29.6775 8.92302 28.6604 8.86163 27.9447 9.40671C27.2307 9.95333 27.0401 10.9376 27.5025 11.7022L26.6072 12.5821H24.0994C23.2806 10.8731 21.8822 9.49881 20.1431 8.69426V6.95302L21.0385 6.07319C21.8181 6.52767 22.8228 6.3419 23.3791 5.63711C23.9354 4.93385 23.8729 3.93122 23.2307 3.30166C22.5885 2.67057 21.5697 2.60763 20.8525 3.15579C20.1369 3.70241 19.9463 4.68818 20.4103 5.45594L19.3869 6.46474C19.3025 6.54612 19.2557 6.65668 19.2557 6.77338V8.3457C18.5634 8.11845 17.8416 7.98486 17.1119 7.94649V4.4748C17.99 4.25522 18.5634 3.42759 18.4494 2.54469C18.3369 1.66179 17.5728 1 16.6682 1C15.7635 1 14.9994 1.66179 14.8869 2.54469C14.7728 3.42759 15.3463 4.25522 16.2244 4.4748V7.94649C15.4948 7.98487 14.7729 8.11846 14.0807 8.3457V6.77338C14.0807 6.65821 14.0338 6.54613 13.951 6.46474L12.926 5.45747H12.9244C13.3885 4.68975 13.1978 3.70398 12.4822 3.15732C11.765 2.6107 10.7463 2.6721 10.1041 3.30319C9.46187 3.93428 9.39939 4.93538 9.95564 5.63864C10.5119 6.34344 11.5166 6.53074 12.2963 6.07473L13.1916 6.95456V8.69579C11.4525 9.50039 10.0541 10.8746 9.23536 12.5836H6.72599L5.83066 11.7038C6.29475 10.9376 6.10566 9.9518 5.38846 9.40361C4.67282 8.85546 3.65253 8.91839 3.01189 9.54948C2.36969 10.179 2.30565 11.1801 2.86189 11.8849C3.41813 12.5897 4.42126 12.7755 5.20254 12.321L6.22599 13.3283C6.31036 13.4112 6.42286 13.4573 6.54005 13.4573H8.87598C8.64629 14.1375 8.50879 14.8469 8.4713 15.5639H4.20248C3.97904 14.701 3.13684 14.1375 2.23839 14.2496C1.33995 14.3601 0.666504 15.111 0.666504 16C0.666504 16.889 1.33995 17.6399 2.23839 17.7504C3.13684 17.8625 3.97904 17.299 4.20248 16.436H8.4713C8.51036 17.1531 8.64786 17.8625 8.87754 18.5427H6.54161C6.42442 18.5427 6.31036 18.5888 6.22755 18.6717L5.20254 19.679C4.42286 19.2245 3.42285 19.4118 2.86661 20.115C2.31193 20.8183 2.37597 21.8163 3.01661 22.4459C3.65725 23.0754 4.67442 23.1368 5.3885 22.5918C6.10414 22.0451 6.29319 21.0609 5.8307 20.2962L6.72603 19.4164H9.23384C10.051 21.1254 11.451 22.5012 13.1901 23.3042V25.0454L12.2948 25.9253C11.5151 25.4708 10.5104 25.6566 9.95412 26.3614C9.39788 27.0646 9.46036 28.0673 10.1026 28.6968C10.7448 29.3279 11.7635 29.3908 12.4807 28.8427C13.1963 28.2961 13.3869 27.3103 12.9229 26.5425L13.9479 25.5353C14.0323 25.4539 14.0791 25.3433 14.0791 25.2266V23.6543C14.7713 23.8816 15.4932 24.0151 16.2229 24.0535V27.5252C15.3448 27.7448 14.7713 28.5724 14.8854 29.4553C14.9979 30.3382 15.762 31 16.6666 31C17.5713 31 18.3354 30.3382 18.4479 29.4553C18.5619 28.5724 17.9885 27.7448 17.1104 27.5252V24.0535C17.84 24.0151 18.5619 23.8815 19.2541 23.6543V25.2266C19.2541 25.3418 19.301 25.4539 19.3854 25.5353L20.4104 26.5425C19.9463 27.3103 20.1369 28.296 20.8526 28.8427C21.5698 29.3893 22.5885 29.3279 23.2307 28.6968C23.8729 28.0657 23.9354 27.0646 23.3792 26.3614C22.8229 25.6566 21.8182 25.4693 21.0385 25.9253L20.1432 25.0454V23.3042C21.8823 22.4996 23.2807 21.1254 24.0994 19.4164H26.6072L27.5026 20.2962C27.0385 21.0624 27.2276 22.0482 27.9448 22.5964C28.6604 23.143 29.6807 23.0816 30.3213 22.4505C30.9635 21.821 31.0276 20.8183 30.4713 20.1151C29.9151 19.4103 28.912 19.223 28.1307 19.679L27.1072 18.6733C27.0229 18.5903 26.9104 18.5443 26.7916 18.5443H24.4557C24.6869 17.864 24.8229 17.1547 24.8619 16.4376H29.1308C29.2995 17.0917 29.8323 17.5923 30.5042 17.7305C31.1761 17.8671 31.8683 17.6169 32.2886 17.0856C32.7089 16.5528 32.7854 15.8311 32.4839 15.2261C32.1823 14.6211 31.5558 14.2373 30.8714 14.2373L30.8714 14.2358ZM29.0464 9.91191C29.4136 9.91191 29.7448 10.1284 29.8855 10.4616C30.0245 10.7948 29.948 11.1787 29.6886 11.4336C29.4292 11.6885 29.0386 11.7637 28.6995 11.627C28.3604 11.4888 28.1401 11.1633 28.1401 10.8025C28.1401 10.3111 28.5464 9.91344 29.0464 9.91191ZM21.9543 3.66546C22.3215 3.66546 22.6528 3.88196 22.7934 4.21515C22.934 4.54835 22.8559 4.9322 22.5965 5.18712C22.3371 5.44201 21.9465 5.51878 21.6074 5.38059C21.2684 5.2424 21.0465 4.9184 21.0465 4.55755C21.0481 4.06467 21.4543 3.66546 21.9543 3.66546ZM10.4715 4.55756C10.4715 4.19672 10.6933 3.8712 11.0324 3.73299C11.3715 3.5948 11.7605 3.67157 12.0199 3.92646C12.2809 4.18135 12.3574 4.56522 12.2168 4.89843C12.0762 5.23163 11.7465 5.44812 11.3793 5.44812C10.8777 5.44812 10.473 5.04891 10.4715 4.55756ZM3.37944 10.804C3.37944 10.4432 3.60131 10.1176 3.94036 9.98098C4.27942 9.84278 4.66848 9.91802 4.92788 10.1729C5.18726 10.4278 5.26538 10.8117 5.12476 11.1449C4.98413 11.4781 4.65444 11.6961 4.28724 11.6961C3.78567 11.6946 3.37944 11.2954 3.37944 10.804ZM4.28724 22.0882C3.92005 22.0882 3.5888 21.8701 3.44816 21.537C3.30909 21.2038 3.38566 20.8214 3.64503 20.5665C3.90441 20.3101 4.29504 20.2349 4.63412 20.3731C4.97318 20.5112 5.19348 20.8352 5.19348 21.1961C5.19348 21.689 4.78724 22.0866 4.28724 22.0882ZM11.3793 28.3346C11.0121 28.3346 10.6808 28.1181 10.5402 27.7849C10.3996 27.4517 10.4777 27.0679 10.7371 26.813C10.9964 26.5581 11.3871 26.4813 11.7261 26.6195C12.0652 26.7577 12.2871 27.0817 12.2871 27.4425C12.2855 27.9354 11.8808 28.3346 11.3793 28.3346ZM22.8621 27.4425C22.8621 27.8034 22.6418 28.1289 22.3028 28.2671C21.9621 28.4053 21.5731 28.3301 21.3121 28.0736C21.0527 27.8187 20.9746 27.4364 21.1152 27.1017C21.2559 26.7685 21.5871 26.552 21.9543 26.552C22.4559 26.552 22.8606 26.9512 22.8621 27.4425ZM29.9542 21.1961C29.9542 21.5569 29.7323 21.8824 29.3932 22.0191C29.0542 22.1573 28.6651 22.0821 28.4057 21.8272C28.1463 21.5723 28.0682 21.1884 28.2088 20.8552C28.3495 20.522 28.6792 20.304 29.0464 20.304C29.5479 20.3055 29.9542 20.7047 29.9542 21.1961ZM15.7589 2.76413C15.7605 2.40329 15.9808 2.0793 16.3198 1.94109C16.6589 1.80444 17.0495 1.88121 17.3089 2.1361C17.5683 2.39099 17.6448 2.77332 17.5042 3.10654C17.3636 3.43974 17.0339 3.65775 16.6667 3.65775C16.1651 3.65622 15.7589 3.25701 15.7589 2.76413ZM2.46203 16.8918C2.09641 16.8918 1.76515 16.6738 1.62451 16.3406C1.48388 16.0074 1.56201 15.6251 1.82138 15.3687C2.08076 15.1138 2.47139 15.0385 2.81047 15.1767C3.14953 15.3134 3.36983 15.6389 3.36983 15.9998C3.36983 16.4911 2.96359 16.8903 2.46203 16.8918ZM17.5729 29.2338H17.5745C17.5745 29.5946 17.3526 29.9202 17.0135 30.0568C16.6745 30.195 16.2854 30.1198 16.0245 29.8649C15.7651 29.61 15.6885 29.2261 15.8291 28.8929C15.9682 28.5597 16.2995 28.3417 16.6667 28.3417C17.1682 28.3432 17.5745 28.7425 17.5745 29.2353L17.5729 29.2338ZM16.6667 23.1933C14.051 23.1933 11.6354 21.8221 10.3274 19.5957C9.01962 17.3708 9.01962 14.6284 10.3274 12.4035C11.6352 10.1771 14.0509 8.80594 16.6667 8.80594C19.2824 8.80594 21.6979 10.1771 23.0059 12.4035C24.3137 14.6284 24.3137 17.3709 23.0059 19.5957C21.6981 21.8222 19.2824 23.1933 16.6667 23.1933ZM30.8715 16.8918C30.5043 16.8918 30.1731 16.6738 30.0324 16.3406C29.8918 16.0074 29.9699 15.6251 30.2293 15.3687C30.4887 15.1138 30.8793 15.0385 31.2184 15.1767C31.5575 15.3134 31.7778 15.6389 31.7778 15.9998C31.7778 16.4926 31.3715 16.8903 30.8715 16.8918Z\" fill=\"#5046E5\"/>\n        </g>\n        <defs>\n        <clipPath id=\"clip0_7493_311\">\n        <rect width=\"32\" height=\"32\" fill=\"white\" transform=\"translate(0.666504)\"/>\n        </clipPath>\n        </defs>\n        </svg>        \n    ),\n    title: \"Win More Listing Presentations\",\n    description: \"Showcase Edge during your next listing appointment and watch how sellers respond. Agents using AI video marketing report winning up to 35% more listings, simply by showing they're ahead of the curve.\"\n  },\n  {\n    id: \"stand-out\",\n    icon: (\n        <svg width=\"32\" height=\"32\" className=\"w-[30px] h-[30px]\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M21.7406 12.9285H16.1007C15.8893 12.9285 15.7187 13.0993 15.7187 13.3108V19.4186C15.7187 19.6301 15.8893 19.8009 16.1007 19.8009H21.7406C21.9519 19.8009 22.1225 19.6301 22.1225 19.4186V13.3108C22.1225 13.0993 21.9519 12.9285 21.7406 12.9285ZM21.3586 19.0347H16.4825V13.6934H21.3586V19.0347ZM9.66843 16.9382C9.64808 17.7483 9.13153 18.585 8.30185 19.0566C7.90581 19.2822 7.48944 19.3919 7.08241 19.3919C6.486 19.3919 5.90838 19.1553 5.43876 18.6946C5.28849 18.5473 5.28536 18.3045 5.43407 18.1525C5.58121 18.0021 5.82384 17.9989 5.9757 18.1478C6.7615 18.9202 7.60212 18.574 7.92615 18.3906C8.51944 18.0538 8.9045 17.4521 8.91076 16.9053C7.67413 16.6922 6.32322 15.6596 6.32322 13.3517C6.32322 13.1401 6.49384 12.9693 6.70517 12.9693C6.91649 12.9693 7.08711 13.1401 7.08711 13.3517C7.08711 15.2726 8.1719 16.0686 9.18628 16.172C9.20193 16.1735 9.21759 16.1735 9.23324 16.1751C9.27081 16.1735 9.30838 16.1735 9.34438 16.1814C10.3493 16.2158 11.4952 15.6048 11.7582 14.334C11.8004 14.1272 12.0039 13.994 12.2106 14.0363C12.4172 14.0786 12.5502 14.2823 12.508 14.4892C12.1886 16.0293 10.9019 16.841 9.66997 16.9397L9.66843 16.9382ZM10.1944 21.3645C10.2054 21.576 10.0441 21.7562 9.8328 21.7672C8.97498 21.8126 8.52728 22.56 8.4725 23.2337C8.41772 23.9153 8.72922 24.7238 9.76551 24.951C9.97214 24.9964 10.1021 25.2001 10.0582 25.4069C10.0191 25.5855 9.861 25.7078 9.68568 25.7078C9.65907 25.7078 9.63089 25.7046 9.60428 25.6984C8.18135 25.3881 7.62722 24.2051 7.71173 23.1726C7.79156 22.1776 8.47721 21.0746 9.79366 21.0041C10.005 20.9931 10.185 21.1545 10.196 21.366L10.1944 21.3645ZM30.2656 16.5933C29.5565 16.5933 28.9647 17.0821 28.7941 17.7386H24.0354V16.7468H26.2253C26.4366 16.7468 26.6073 16.576 26.6073 16.3645C26.6073 16.153 26.4366 15.9822 26.2253 15.9822H24.0354V14.9434H27.0972C27.2084 14.9434 27.3148 14.8948 27.3868 14.8102L29.8805 11.9006C30.0636 11.9773 30.264 12.0212 30.4738 12.0212C31.316 12.0212 32 11.3365 32 10.4935C32 9.65055 31.316 8.96585 30.4738 8.96585C29.6316 8.96585 28.9475 9.65055 28.9475 10.4935C28.9475 10.8476 29.0743 11.1704 29.2763 11.4289L26.9204 14.1772H24.0339V12.9989H25.9342C26.1455 12.9989 26.3162 12.8281 26.3162 12.6166V8.67443C26.972 8.50364 27.4605 7.91139 27.4605 7.20158C27.4605 6.3586 26.7764 5.6739 25.9342 5.6739C25.092 5.6739 24.408 6.3586 24.408 7.20158C24.408 7.91135 24.8964 8.50363 25.5523 8.67443V12.2327H24.0339V11.9084C24.0339 11.3287 23.5627 10.8571 22.9835 10.8571H21.055V8.043H22.4841C22.6955 8.043 22.8661 7.87221 22.8661 7.66069V4.00053C23.522 3.82974 24.0104 3.23749 24.0104 2.52768C24.0104 1.6847 23.3263 1 22.4842 1C21.642 1 20.9579 1.6847 20.9579 2.52768C20.9579 3.23745 21.4463 3.82974 22.1022 4.00053V7.27683H20.673C20.4617 7.27683 20.2911 7.44761 20.2911 7.65913V10.8555H19.3018V8.81863C19.3018 8.60711 19.1311 8.43632 18.9198 8.43632C18.7085 8.43632 18.5379 8.60711 18.5379 8.81863V10.8555H17.5485V4.48625C18.2044 4.31546 18.6928 3.72321 18.6928 3.0134C18.6928 2.17042 18.0088 1.48572 17.1666 1.48572C16.3244 1.48572 15.6404 2.17042 15.6404 3.0134C15.6404 3.72317 16.1288 4.31545 16.7846 4.48625V10.8555H14.8561C14.7481 10.8555 14.6464 10.8759 14.5493 10.9072L14.529 5.60331C14.529 5.57354 14.5258 5.54221 14.518 5.514C13.9795 3.31883 12.1559 2.54167 10.7454 2.54167H10.722C9.41802 2.5495 8.23305 3.37053 7.77437 4.58326C7.71802 4.73367 7.67575 4.88409 7.64444 5.03451C6.74279 4.67257 5.58599 5.03451 4.7485 5.9809C3.90944 6.92885 3.71068 8.10399 4.18811 9.0864C3.68407 9.34806 3.23949 9.71314 2.90608 10.1628C2.12028 11.2267 2.0827 12.5946 2.77929 13.9859C1.84634 14.1191 1.07461 14.6502 0.570562 15.523C-0.241846 16.9269 -0.180814 18.9638 0.716141 20.366C1.048 20.8831 1.47064 21.2827 1.96218 21.5662C1.25465 22.7085 1.63346 24.1515 2.40051 25.1621C3.28649 26.3279 4.83464 27.1677 6.45153 26.6334C6.77869 29.1263 8.74793 30.2419 10.6841 30.2419H10.7436C12.6048 30.22 14.5944 29.12 14.6131 27.127V27.1223V27.1207L14.5928 21.8325C14.6773 21.8544 14.765 21.8701 14.8573 21.8701H16.443V27.7973C15.7872 27.9681 15.2987 28.5604 15.2987 29.2702C15.2987 30.1131 15.9828 30.7978 16.825 30.7978C17.6672 30.7978 18.3512 30.1131 18.3512 29.2702C18.3512 28.5604 17.8628 27.9681 17.2069 27.7973V21.8701H18.539V24.3441C18.539 24.5556 18.7097 24.7264 18.921 24.7264C19.1323 24.7264 19.3029 24.5556 19.3029 24.3441V21.8701H20.8135V26.6128C20.8135 26.7162 20.8558 26.815 20.9293 26.887L22.9909 28.8942C22.9173 29.0728 22.8751 29.2686 22.8751 29.4723C22.8751 30.3153 23.5591 31 24.4013 31C25.2435 31 25.9275 30.3153 25.9275 29.4723C25.9275 28.6293 25.2435 27.9446 24.4013 27.9446C24.0444 27.9446 23.7188 28.0731 23.4589 28.2799L21.5789 26.4499V21.8683H22.9878C23.5669 21.8683 24.0381 21.3967 24.0381 20.817V20.5663H25.5565V24.1246C24.9007 24.2954 24.4123 24.8876 24.4123 25.5975C24.4123 26.4404 25.0963 27.1251 25.9385 27.1251C26.7807 27.1251 27.4647 26.4404 27.4647 25.5975C27.4647 24.8877 26.9763 24.2954 26.3204 24.1246V20.1824C26.3204 19.9709 26.1498 19.8001 25.9385 19.8001H24.0381V18.5012H28.7968C28.9675 19.1577 29.5592 19.6466 30.2683 19.6466C31.1105 19.6466 31.7945 18.9619 31.7945 18.1189C31.7945 17.2759 31.1105 16.5912 30.2683 16.5912L30.2656 16.5933ZM30.4753 9.73061C30.8948 9.73061 31.2361 10.0722 31.2361 10.4921C31.2361 10.912 30.8948 11.2536 30.4753 11.2536C30.0558 11.2536 29.7146 10.912 29.7146 10.4921C29.7146 10.0722 30.0558 9.73061 30.4753 9.73061ZM25.1748 7.20014C25.1748 6.78022 25.5161 6.43867 25.9356 6.43867C26.3551 6.43867 26.6963 6.78024 26.6963 7.20014C26.6963 7.62004 26.3551 7.96162 25.9356 7.96162C25.5161 7.96162 25.1748 7.62004 25.1748 7.20014ZM21.7247 2.52797C21.7247 2.10804 22.066 1.7665 22.4855 1.7665C22.905 1.7665 23.2462 2.10807 23.2462 2.52797C23.2462 2.94787 22.905 3.28944 22.4855 3.28944C22.066 3.28944 21.7247 2.94787 21.7247 2.52797ZM16.4042 3.01368C16.4042 2.59375 16.7454 2.2522 17.1649 2.2522C17.5844 2.2522 17.9257 2.59378 17.9257 3.01368C17.9257 3.43358 17.5844 3.77515 17.1649 3.77515C16.7454 3.77515 16.4042 3.43358 16.4042 3.01368ZM17.5845 29.2726C17.5845 29.6925 17.2432 30.0341 16.8237 30.0341C16.4042 30.0341 16.063 29.6925 16.063 29.2726C16.063 28.8527 16.4042 28.5111 16.8237 28.5111C17.2432 28.5111 17.5845 28.8527 17.5845 29.2726ZM24.4018 28.7132C24.8213 28.7132 25.1625 29.0548 25.1625 29.4747C25.1625 29.8946 24.8213 30.2362 24.4018 30.2362C23.9823 30.2362 23.641 29.8946 23.641 29.4747C23.641 29.0548 23.9823 28.7132 24.4018 28.7132ZM26.6982 25.6015C26.6982 26.0214 26.3569 26.3629 25.9374 26.3629C25.5179 26.3629 25.1767 26.0214 25.1767 25.6015C25.1767 25.1816 25.5179 24.84 25.9374 24.84C26.3569 24.84 26.6982 25.1816 26.6982 25.6015ZM10.4604 24.1239C10.5215 24.326 10.7344 24.4404 10.9363 24.3809C11.6595 24.1631 12.3764 24.2649 12.904 24.6614C13.5301 25.1314 13.8557 25.9822 13.8448 27.1197V27.1229C13.8307 28.6302 12.2309 29.4622 10.7313 29.4794C9.13928 29.4982 7.25302 28.6161 7.17007 26.0684C7.16537 25.9368 7.09493 25.8177 6.98223 25.7503C6.86952 25.6845 6.7302 25.6798 6.6128 25.7393C5.21179 26.4585 3.79355 25.7362 3.00775 24.7021C2.38786 23.8858 2.07168 22.7294 2.6712 21.8786C3.04689 21.9961 3.44762 22.0619 3.87497 22.0619C4.02367 22.0619 4.17552 22.0541 4.32892 22.04C4.53868 22.0196 4.69365 21.8332 4.6733 21.6232C4.65295 21.4132 4.46667 21.2581 4.2569 21.2785C2.65709 21.4289 1.79771 20.6424 1.35783 19.9561C0.606452 18.7825 0.551671 17.0793 1.22947 15.9104C1.56132 15.337 2.20626 14.6663 3.39908 14.7259C3.54153 14.7322 3.67772 14.6585 3.74973 14.5348C3.82173 14.411 3.81704 14.2559 3.74033 14.1352C2.89502 12.8206 2.81676 11.5719 3.51805 10.6208C4.24282 9.63837 5.70017 9.15262 6.90706 9.49265C7.99497 9.79818 8.65871 10.6944 8.77612 12.0153C8.79491 12.2252 8.98118 12.3804 9.19096 12.3631C9.40072 12.3443 9.55725 12.1579 9.53847 11.9479C9.39289 10.3121 8.51003 9.14792 7.11371 8.75624C6.39051 8.55255 5.61408 8.58232 4.89557 8.80011C4.45256 7.96026 4.80165 7.07344 5.31666 6.49058C5.87548 5.85915 6.79749 5.41728 7.47686 5.79489C7.51443 5.81526 7.55512 5.82466 7.59583 5.83249C7.66001 6.58615 8.02786 7.31003 8.68218 7.89446C8.84028 8.03547 9.08134 8.02137 9.22225 7.86469C9.36313 7.70644 9.34904 7.46514 9.1925 7.32411C8.41452 6.62685 8.15781 5.72747 8.48653 4.85634C8.83404 3.93658 9.73257 3.31454 10.7234 3.30828C11.1335 3.30514 13.1826 3.40856 13.7602 5.65387L13.8025 16.3648V20.8208C13.8025 20.8819 13.8103 20.9414 13.8213 20.9994L13.8354 24.506C13.6804 24.3164 13.5176 24.1644 13.3626 24.0469C12.6379 23.5032 11.6736 23.3575 10.7156 23.6458C10.5136 23.7069 10.3994 23.92 10.4589 24.1221L10.4604 24.1239ZM23.2715 20.821C23.2715 20.9792 23.1431 21.1062 22.9866 21.1062H14.8561C14.7293 21.1062 14.626 21.0216 14.5884 20.9087L14.5712 16.3665V11.909C14.5712 11.7507 14.6996 11.6238 14.8561 11.6238H22.9866C23.1447 11.6238 23.2715 11.7523 23.2715 11.909V20.821ZM30.2655 18.8844C29.846 18.8844 29.5047 18.5428 29.5047 18.1229C29.5047 17.703 29.846 17.3614 30.2655 17.3614C30.685 17.3614 31.0263 17.703 31.0263 18.1229C31.0263 18.5428 30.685 18.8844 30.2655 18.8844Z\" fill=\"#5046E5\"/>\n        </svg>\n        \n    ),\n    title: \"Stand Out in a Crowded Market\",\n    description: \"Most agents are still using dated photo slideshows and Canva flyers. With Edge, your videos feature avatars, music, captions, and B-rollâ€”making you the obvious choice in any market.\"\n  }\n];\n\nexport function FeaturesSection({ className }: FeaturesSectionProps) {\n  const [isSignupModalOpen, setIsSignupModalOpen] = useState(false);\n  const [isSigninModalOpen, setIsSigninModalOpen] = useState(false);\n  const [isEmailVerificationModalOpen, setIsEmailVerificationModalOpen] = useState(false);\n  const [verificationEmail, setVerificationEmail] = useState('');\n  const [isForgotPasswordModalOpen, setisForgotPasswordModalOpen] = useState(false);\n  \n  // Get user authentication status from Redux store\n  const { isAuthenticated } = useAppSelector((state) => state.user);\n\n  const handleSignupClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    setIsSignupModalOpen(true);\n  };\n\n  const handleCloseSignupModal = () => {\n    setIsSignupModalOpen(false);\n  };\n\n  const handleOpenSigninModal = () => {\n    setIsSigninModalOpen(true);\n  };\n\n  const handleCloseSigninModal = () => {\n    setIsSigninModalOpen(false);\n  };\n\n  const handleOpenForgotPasswordModal = () => {\n    setisForgotPasswordModalOpen(true);\n  };\n\n  const handleCloseForgotPasswordModal = () => {\n    setisForgotPasswordModalOpen(false);\n  };\n\n  return (\n    <section className={cn(\"w-full pt-0 bg-white\", className)}>\n      <div className=\"max-w-[1260px] mx-auto xl:px-0 px-3\">\n        {/* Header Section */}\n        <div className=\"text-center mb-14\">\n          <h2 className=\"text-[32px] md:text-[48px] lg:text-[54px] font-semibold text-[#282828] leading-tight mb-6\">\n            Close More Deals Instantly\n            <br />\n            Without Filming a Single Video\n          </h2>\n          <p className=\"text-[18px] md:text-[20px] text-[#5F5F5F] max-w-[700px] mx-auto leading-relaxed\">\n            Stop wasting time on marketing. Our AI-powered videos help you sell\n            properties faster while you focus on what matters most.\n          </p>\n        </div>\n\n        {/* Features Grid */}\n        <div className={`grid grid-cols-1 md:grid-cols-2 gap-6 ${!isAuthenticated ? 'lg:grid-cols-3' : 'lg:grid-cols-2'}`}>\n          {featureItems.map((item) => (\n            <div key={item.id} className=\"flex flex-col items-start bg-[#FAFAFA] rounded-[16px] p-6 hover:shadow-xl transition-all duration-600\">\n              {/* Icon */}\n              <div className=\"w-[42px] h-[42px] rounded-[45px] bg-[#5046E5]/20 flex items-center justify-center mb-5\">\n                {item.icon}\n              </div>\n              \n              {/* Title */}\n              <h3 className=\"text-[24px] md:text-[32px] font-semibold text-[#101010] mb-4 leading-[120%] pr-4\">\n                {item.title}\n              </h3>\n              \n              {/* Description */}\n              <p className=\"text-[16px] md:text-[18px] text-[#5F5F5F] leading-[24px]\">\n                {item.description}\n              </p>\n            </div>\n          ))}\n        {!isAuthenticated && (\n        <div className=\"flex flex-col justify-between items-start bg-[#5046E5] rounded-[16px] p-6 text-white min-h-[230px] hover:shadow-2xl transition-all duration-600\">\n            <h3 className=\"text-[28px] md:text-[32px] font-semibold mb-6 text-left leading-tight\">\n              Get Started Today\n            </h3>\n            {!isAuthenticated && (\n            <button\n              onClick={handleSignupClick}\n              className=\"group hover:bg-white border hover:border-[#6366f1] border-white text-white hover:text-[#6366f1] bg-transparent px-4 w-full py-[11.2px] rounded-full text-[14px] md:text-[16px] justify-between font-normal cursor-pointer transition-all duration-300 flex items-center\"\n            >\n              Sign up Now\n              <svg width=\"18\" height=\"14\" viewBox=\"0 0 18 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M1 7.01097L16.8124 6.99999M11.5858 13L17 6.99999L11.5858 1\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              </svg>\n            </button>\n            )}\n          </div>\n          )}\n        </div>\n\n      </div>\n\n      {/* Signup Modal */}\n      <SignupModal\n        isOpen={isSignupModalOpen}\n        onClose={handleCloseSignupModal}\n        onOpenSignin={handleOpenSigninModal}\n        onRegistrationSuccess={(email) => {\n          setVerificationEmail(email);\n          setIsEmailVerificationModalOpen(true);\n        }}\n      />\n\n      {/* Signin Modal */}\n      <SigninModal\n        isOpen={isSigninModalOpen}\n        onClose={handleCloseSigninModal}\n        onOpenSignup={() => {\n          setIsSigninModalOpen(false);\n          setIsSignupModalOpen(true);\n        }}\n        onOpenForgotPassword={handleOpenForgotPasswordModal}\n      />\n\n      {/* Forgot Password Modal */}\n      <ForgotPasswordModal\n        isOpen={isForgotPasswordModalOpen}\n        onClose={handleCloseForgotPasswordModal}\n        onOpenSignin={handleOpenSigninModal}\n      />\n\n      {/* Email Verification Modal */}\n      <EmailVerificationModal\n        isOpen={isEmailVerificationModalOpen}\n        onClose={() => setIsEmailVerificationModalOpen(false)}\n        email={verificationEmail}\n      />\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6885, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/checkbox.tsx"],"sourcesContent":["import React from 'react'\n\ninterface CheckboxProps {\n    checked: boolean\n    onChange: (e: React.ChangeEvent<HTMLInputElement>) => void\n    label: string\n    id?: string\n}\n\nexport default function Checkbox({ checked, onChange, label, id = 'checkbox' }: CheckboxProps) {\n    const checkboxId = id || `checkbox-${Math.random().toString(36).substr(2, 9)}`\n    \n    return (\n        <div className=\"inline-flex items-start gap-x-2 mt-2 pr-1\">\n            <label className=\"flex items-center cursor-pointer mt-[3px] relative\" htmlFor={checkboxId}>\n                <input type=\"checkbox\"\n                checked={checked}\n                onChange={onChange}\n                className=\"peer h-[17px] w-[17px] cursor-pointer transition-all appearance-none rounded-[3px] border border-[#000000] checked:bg-[#000000] checked:border-[#000000]\"\n                id={checkboxId} />\n                <span className=\"absolute text-white opacity-0 peer-checked:opacity-100 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-3.5 w-3.5\" viewBox=\"0 0 20 20\" fill=\"currentColor\"\n                    stroke=\"currentColor\" strokeWidth=\"1\">\n                    <path fillRule=\"evenodd\"\n                    d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\n                    clipRule=\"evenodd\"></path>\n                </svg>\n                </span>\n            </label>\n            <label className=\"cursor-pointer ml-2 text-[#5F5F5F] text-[18px] font-normal leading-[24px]\" htmlFor={checkboxId}>\n                <p>\n                {label}\n                </p>\n            </label>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;;AASe,SAAS,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,UAAU,EAAiB;IACzF,MAAM,aAAa,MAAM,CAAC,SAAS,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;IAE9E,qBACI,iNAAC;QAAI,WAAU;;0BACX,iNAAC;gBAAM,WAAU;gBAAqD,SAAS;;kCAC3E,iNAAC;wBAAM,MAAK;wBACZ,SAAS;wBACT,UAAU;wBACV,WAAU;wBACV,IAAI;;;;;;kCACJ,iNAAC;wBAAK,WAAU;kCAChB,cAAA,iNAAC;4BAAI,OAAM;4BAA6B,WAAU;4BAAc,SAAQ;4BAAY,MAAK;4BACrF,QAAO;4BAAe,aAAY;sCAClC,cAAA,iNAAC;gCAAK,UAAS;gCACf,GAAE;gCACF,UAAS;;;;;;;;;;;;;;;;;;;;;;0BAIjB,iNAAC;gBAAM,WAAU;gBAA4E,SAAS;0BAClG,cAAA,iNAAC;8BACA;;;;;;;;;;;;;;;;;AAKjB;KA3BwB"}},
    {"offset": {"line": 6977, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/clipboard.tsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { CircleCheckBig } from \"lucide-react\";\n\nexport default function Clipboard({ url }: { url: string }) {\n  const [copySuccess, setCopySuccess] = useState(\"\");\n  const inputRef = useRef(null);\n\n  const copyToClipboard = () => {\n    if (inputRef.current) {\n      (inputRef.current as HTMLInputElement).select();\n      document.execCommand(\"copy\");\n      setCopySuccess(\"Copied!\");\n      setTimeout(() => setCopySuccess(\"\"), 2000); // Clear the message after 2 seconds\n    }\n  };\n\n  return (\n    <section className=\"mx-auto w-full max-w-[400px]\">\n        <div className=\"relative\">\n        <input\n            type=\"text\"\n            ref={inputRef}\n            value={url}\n            readOnly\n            className=\"h-12 w-full rounded-lg bg-white border border-[#E5E7EB] py-3 pl-3 pr-24 text-outline-none duration-200 selection:bg-transparent outline-none text-black\"\n        />\n        <button\n            onClick={copyToClipboard}\n            className=\"absolute right-[2px] top-1 flex h-[40px] w-[86px] bg-white items-center justify-center text-duration-200 border-l border-l-[#E5E7EB]\"\n        >\n            {copySuccess ? (\n                <CircleCheckBig className=\"w-[17px] h-[17px] text-[#222222]\" />\n            ) : (\n                <div className=\"flex items-center justify-center gap-2\">\n                    <svg width=\"12\" height=\"14\" viewBox=\"0 0 12 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M8.57143 12.1431V13.2145C8.57143 13.5695 8.28362 13.8574 7.92857 13.8574H0.642857C0.287813 13.8574 0 13.5695 0 13.2145V3.35735C0 3.00231 0.287813 2.71449 0.642857 2.71449H2.57143V10.6431C2.57143 11.4702 3.24431 12.1431 4.07143 12.1431H8.57143ZM8.57143 2.92878V0.143066H4.07143C3.71638 0.143066 3.42857 0.430879 3.42857 0.785924V10.6431C3.42857 10.9981 3.71638 11.2859 4.07143 11.2859H11.3571C11.7122 11.2859 12 10.9981 12 10.6431V3.57164H9.21429C8.86071 3.57164 8.57143 3.28235 8.57143 2.92878ZM11.8117 2.09765L10.0454 0.331343C9.92486 0.210792 9.76136 0.143067 9.59087 0.143066L9.42857 0.143066V2.71449H12V2.5522C12 2.38171 11.9323 2.2182 11.8117 2.09765Z\" fill=\"#222222\"/>\n                    </svg>\n                    <p className=\"text-[14px] text-[#222222] font-normal\">Copy</p>\n                </div>\n            )}\n        </button>\n        </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;AAEe,SAAS,UAAU,EAAE,GAAG,EAAmB;;IACxD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,6LAAQ,EAAC;IAC/C,MAAM,WAAW,IAAA,2LAAM,EAAC;IAExB,MAAM,kBAAkB;QACtB,IAAI,SAAS,OAAO,EAAE;YACnB,SAAS,OAAO,CAAsB,MAAM;YAC7C,SAAS,WAAW,CAAC;YACrB,eAAe;YACf,WAAW,IAAM,eAAe,KAAK,OAAO,oCAAoC;QAClF;IACF;IAEA,qBACE,iNAAC;QAAQ,WAAU;kBACf,cAAA,iNAAC;YAAI,WAAU;;8BACf,iNAAC;oBACG,MAAK;oBACL,KAAK;oBACL,OAAO;oBACP,QAAQ;oBACR,WAAU;;;;;;8BAEd,iNAAC;oBACG,SAAS;oBACT,WAAU;8BAET,4BACG,iNAAC,uQAAc;wBAAC,WAAU;;;;;6CAE1B,iNAAC;wBAAI,WAAU;;0CACX,iNAAC;gCAAI,OAAM;gCAAK,QAAO;gCAAK,SAAQ;gCAAY,MAAK;gCAAO,OAAM;0CAClE,cAAA,iNAAC;oCAAK,GAAE;oCAAmpB,MAAK;;;;;;;;;;;0CAEhqB,iNAAC;gCAAE,WAAU;0CAAyC;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO1E;GAzCwB;KAAA"}},
    {"offset": {"line": 7089, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/pending-payment-toast.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { Clock, RefreshCw } from 'lucide-react'\n\ninterface PendingPaymentToastProps {\n  isVisible: boolean\n  message: string\n  onClose: () => void\n  onRefresh?: () => void\n  context?: 'video' | 'avatar' | 'content'\n}\n\nexport default function PendingPaymentToast({ \n  isVisible, \n  message, \n  onClose, \n  onRefresh,\n  context = 'content'\n}: PendingPaymentToastProps) {\n  const [isAnimating, setIsAnimating] = useState(false)\n\n  useEffect(() => {\n    if (isVisible) {\n      setIsAnimating(true)\n      const timer = setTimeout(() => setIsAnimating(false), 300)\n      return () => clearTimeout(timer)\n    }\n  }, [isVisible])\n\n  if (!isVisible) return null\n\n  return (\n    <div className={`fixed top-24 right-4 z-20 max-w-sm transition-all duration-300 ${\n      isAnimating ? 'animate-in slide-in-from-right-2' : ''\n    }`}>\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 shadow-lg\">\n        <div className=\"flex items-start gap-3\">\n          <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0\">\n            <Clock className=\"w-5 h-5 text-blue-600\" />\n          </div>\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-2 mb-1\">\n              <h3 className=\"text-blue-800 font-semibold text-sm\">Payment Processing</h3>\n              <div className=\"flex items-center gap-1\">\n                <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-pulse\"></div>\n                <div className=\"w-2 h-2 bg-blue-400 rounded-full animate-pulse\" style={{ animationDelay: '0.2s' }}></div>\n                <div className=\"w-2 h-2 bg-blue-300 rounded-full animate-pulse\" style={{ animationDelay: '0.4s' }}></div>\n              </div>\n            </div>\n            <p className=\"text-blue-700 text-sm mb-3\">\n              {context === 'video' \n                ? 'Your payment is still being processed. Please wait for payment confirmation before creating videos.'\n                : context === 'avatar'\n                ? 'Your payment is still being processed. Please wait for payment confirmation before creating custom avatars.'\n                : message\n              }\n            </p>\n            <div className=\"flex items-center gap-2\">\n              {/* {onRefresh && (\n                <button\n                  onClick={onRefresh}\n                  className=\"flex items-center gap-1 px-3 py-1.5 text-xs bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors\"\n                >\n                  <RefreshCw className=\"w-3 h-3\" />\n                  Refresh Status\n                </button>\n              )} */}\n              <button\n                onClick={onClose}\n                className=\"px-3 py-1.5 text-xs bg-blue-200 text-blue-800 rounded-md hover:bg-blue-300 transition-colors\"\n              >\n                Dismiss\n              </button>\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"w-6 h-6 flex items-center justify-center text-blue-400 hover:text-blue-600 transition-colors\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAae,SAAS,oBAAoB,EAC1C,SAAS,EACT,OAAO,EACP,OAAO,EACP,SAAS,EACT,UAAU,SAAS,EACM;;IACzB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,6LAAQ,EAAC;IAE/C,IAAA,8LAAS;yCAAC;YACR,IAAI,WAAW;gBACb,eAAe;gBACf,MAAM,QAAQ;2DAAW,IAAM,eAAe;0DAAQ;gBACtD;qDAAO,IAAM,aAAa;;YAC5B;QACF;wCAAG;QAAC;KAAU;IAEd,IAAI,CAAC,WAAW,OAAO;IAEvB,qBACE,iNAAC;QAAI,WAAW,CAAC,+DAA+D,EAC9E,cAAc,qCAAqC,IACnD;kBACA,cAAA,iNAAC;YAAI,WAAU;sBACb,cAAA,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAI,WAAU;kCACb,cAAA,iNAAC,oOAAK;4BAAC,WAAU;;;;;;;;;;;kCAEnB,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCAAI,WAAU;;kDACb,iNAAC;wCAAG,WAAU;kDAAsC;;;;;;kDACpD,iNAAC;wCAAI,WAAU;;0DACb,iNAAC;gDAAI,WAAU;;;;;;0DACf,iNAAC;gDAAI,WAAU;gDAAiD,OAAO;oDAAE,gBAAgB;gDAAO;;;;;;0DAChG,iNAAC;gDAAI,WAAU;gDAAiD,OAAO;oDAAE,gBAAgB;gDAAO;;;;;;;;;;;;;;;;;;0CAGpG,iNAAC;gCAAE,WAAU;0CACV,YAAY,UACT,wGACA,YAAY,WACZ,gHACA;;;;;;0CAGN,iNAAC;gCAAI,WAAU;0CAUb,cAAA,iNAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;kCAKL,iNAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,iNAAC;4BAAI,WAAU;4BAAU,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCACjE,cAAA,iNAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAa;gCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnF;GA3EwB;KAAA"}},
    {"offset": {"line": 7283, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/subscription-required-toast.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { CreditCard, ArrowRight, X } from 'lucide-react'\n\ninterface SubscriptionRequiredToastProps {\n  isVisible: boolean\n  message: string\n  onClose: () => void\n  onSubscribe?: () => void\n  context?: 'video' | 'avatar' | 'content'\n}\n\nexport default function SubscriptionRequiredToast({ \n  isVisible, \n  message, \n  onClose, \n  onSubscribe,\n  context = 'content'\n}: SubscriptionRequiredToastProps) {\n  const [isAnimating, setIsAnimating] = useState(false)\n\n  useEffect(() => {\n    if (isVisible) {\n      setIsAnimating(true)\n      const timer = setTimeout(() => setIsAnimating(false), 300)\n      return () => clearTimeout(timer)\n    }\n  }, [isVisible])\n\n  useEffect(() => {\n    if (isVisible) {\n      const timeoutId = setTimeout(() => {\n        onClose()\n      }, 10000)\n      \n      return () => {\n        clearTimeout(timeoutId)\n      }\n    }\n  }, [isVisible, onClose])\n\n  if (!isVisible) return null\n\n  const getContextMessage = () => {\n    if (context === 'video') {\n      return 'Please subscribe to create videos.'\n    } else if (context === 'avatar') {\n      return 'Please subscribe to create custom avatars.'\n    }\n    return message\n  }\n\n  return (\n    <div className={`fixed top-24 right-4 z-20 max-w-xs transition-all duration-300 ${\n      isAnimating ? 'animate-in slide-in-from-right-2' : ''\n    }`}>\n      <div className=\"bg-orange-50 border border-orange-200 rounded-lg p-4 shadow-lg\">\n        <div className=\"flex items-start gap-3\">\n          <div className=\"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0\">\n            <CreditCard className=\"w-5 h-5 text-orange-600\" />\n          </div>\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-2 mb-1\">\n              <h3 className=\"text-orange-800 font-semibold text-sm\">Subscription Required</h3>\n            </div>\n            <p className=\"text-orange-700 text-xs mb-3\">{getContextMessage()}</p>\n            <div className=\"flex items-center gap-2\">\n              {onSubscribe && (\n                <button\n                  onClick={onSubscribe}\n                  className=\"flex items-center gap-1 px-3 py-1.5 text-xs bg-orange-100 text-orange-700 rounded-md hover:bg-orange-200 transition-colors\"\n                >\n                  <ArrowRight className=\"w-3 h-3\" />\n                  View Plans\n                </button>\n              )}\n              <button\n                onClick={onClose}\n                className=\"px-3 py-1.5 text-xs bg-orange-200 text-orange-800 rounded-md hover:bg-orange-300 transition-colors\"\n              >\n                Dismiss\n              </button>\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"w-6 h-6 flex items-center justify-center text-orange-400 hover:text-orange-600 transition-colors\"\n          >\n            <X className=\"w-4 h-4\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;;;AAHA;;;AAae,SAAS,0BAA0B,EAChD,SAAS,EACT,OAAO,EACP,OAAO,EACP,WAAW,EACX,UAAU,SAAS,EACY;;IAC/B,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,6LAAQ,EAAC;IAE/C,IAAA,8LAAS;+CAAC;YACR,IAAI,WAAW;gBACb,eAAe;gBACf,MAAM,QAAQ;iEAAW,IAAM,eAAe;gEAAQ;gBACtD;2DAAO,IAAM,aAAa;;YAC5B;QACF;8CAAG;QAAC;KAAU;IAEd,IAAA,8LAAS;+CAAC;YACR,IAAI,WAAW;gBACb,MAAM,YAAY;qEAAW;wBAC3B;oBACF;oEAAG;gBAEH;2DAAO;wBACL,aAAa;oBACf;;YACF;QACF;8CAAG;QAAC;QAAW;KAAQ;IAEvB,IAAI,CAAC,WAAW,OAAO;IAEvB,MAAM,oBAAoB;QACxB,IAAI,YAAY,SAAS;YACvB,OAAO;QACT,OAAO,IAAI,YAAY,UAAU;YAC/B,OAAO;QACT;QACA,OAAO;IACT;IAEA,qBACE,iNAAC;QAAI,WAAW,CAAC,+DAA+D,EAC9E,cAAc,qCAAqC,IACnD;kBACA,cAAA,iNAAC;YAAI,WAAU;sBACb,cAAA,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAI,WAAU;kCACb,cAAA,iNAAC,uPAAU;4BAAC,WAAU;;;;;;;;;;;kCAExB,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCAAI,WAAU;0CACb,cAAA,iNAAC;oCAAG,WAAU;8CAAwC;;;;;;;;;;;0CAExD,iNAAC;gCAAE,WAAU;0CAAgC;;;;;;0CAC7C,iNAAC;gCAAI,WAAU;;oCACZ,6BACC,iNAAC;wCACC,SAAS;wCACT,WAAU;;0DAEV,iNAAC,uPAAU;gDAAC,WAAU;;;;;;4CAAY;;;;;;;kDAItC,iNAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;;;;;;;;;;;;;kCAKL,iNAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,iNAAC,wNAAC;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMzB;GAlFwB;KAAA"}},
    {"offset": {"line": 7475, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/process-steps.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { useSelector } from 'react-redux';\nimport { RootState } from '@/store';\nimport { AvatarCreationModal } from './avatar-creation';\nimport { useRouter } from \"next/navigation\";\nimport { useNotificationStore } from './global-notification';\nimport SignupModal from \"./signup-modal\";\nimport ForgotPasswordModal from \"./forgot-password-modal\";\nimport SigninModal from \"./signin-modal\";\nimport EmailVerificationModal from \"./email-verification-modal\";\nimport { useSubscription } from '@/hooks/useSubscription';\nimport PendingPaymentToast from './pending-payment-toast';\nimport SubscriptionRequiredToast from './subscription-required-toast';\nimport { useUnifiedSocketContext } from '@/components/providers/UnifiedSocketProvider';\n\ninterface Step {\n  id: string;\n  number: string;\n  title: string;\n  description: string;\n}\n\ninterface ProcessStepsProps {\n  className?: string;\n}\n\nconst steps: Step[] = [\n  {\n    id: \"step-1\",\n    number: \"1\",\n    title: \"Fill One Simple Form\",\n    description: \"Send a quick 5-minute video of yourself speaking, then fill out a 1-page prompt with your video topic and key details.\"\n  },\n  {\n    id: \"step-2\", \n    number: \"2\",\n    title: \"Click Submit\",\n    description: \"Submit your prompt, let AI script it, you approve, and we deliver a fully edited video with your avatar, voice, captions, and music.\"\n  },\n  {\n    id: \"step-3\",\n    number: \"3\", \n    title: \"Receive Your Video\",\n    description: \"Get your client-ready video in 24-48 hoursâ€”perfect for social, email, or any marketing channel.\"\n  }\n];\n\nexport function ProcessSteps({ className }: ProcessStepsProps) {\n  const router = useRouter();\n  const [isAvatarModalOpen, setIsAvatarModalOpen] = useState(false);\n  \n  // Modal states\n  const [isSignupModalOpen, setIsSignupModalOpen] = useState(false);\n  const [isSigninModalOpen, setIsSigninModalOpen] = useState(false);\n  const [isForgotPasswordModalOpen, setIsForgotPasswordModalOpen] = useState(false);\n  const [isEmailVerificationModalOpen, setIsEmailVerificationModalOpen] = useState(false);\n  const [verificationEmail] = useState('');\n  \n  // Pending payment toast state\n  const [showPendingPaymentToast, setShowPendingPaymentToast] = useState(false);\n  const [pendingPaymentMessage, setPendingPaymentMessage] = useState('');\n  const [paymentContext, setPaymentContext] = useState<'video' | 'avatar'>('video');\n  \n  // Subscription required toast state\n  const [showSubscriptionRequiredToast, setShowSubscriptionRequiredToast] = useState(false);\n  const [subscriptionRequiredMessage, setSubscriptionRequiredMessage] = useState('');\n  const [subscriptionContext, setSubscriptionContext] = useState<'video' | 'avatar'>('video');\n  \n  const { user } = useSelector((state: RootState) => state.user);\n  const { showNotification } = useNotificationStore();\n  const { checkVideoUsageLimit } = useSubscription();\n  const { isAvatarProcessing, isVideoAvatarProcessing } = useUnifiedSocketContext();\n  const isAnyAvatarProcessing = isAvatarProcessing || isVideoAvatarProcessing;\n\n  const handleCustomAvatarClick = async () => {\n    // Prevent action if avatar is currently being processed\n    if (isAnyAvatarProcessing) {\n      showNotification('Please wait for your current avatar to finish processing', 'warning');\n      return;\n    }\n\n    if (user?.id) {\n      // Check payment status before allowing avatar creation\n      try {\n        const usageCheck = await checkVideoUsageLimit();\n        \n        if (!usageCheck.canCreateVideo) {\n          // Check if it's a pending payment issue\n          if (usageCheck.message?.includes('payment is still being processed')) {\n            setPaymentContext('avatar');\n            setPendingPaymentMessage(usageCheck.message);\n            setShowPendingPaymentToast(true);\n            return;\n          } else if (usageCheck.message?.includes('No active subscription found') || usageCheck.message?.includes('Please subscribe')) {\n            setSubscriptionContext('avatar');\n            setSubscriptionRequiredMessage(usageCheck.message);\n            setShowSubscriptionRequiredToast(true);\n            return;\n          } else {\n            showNotification(usageCheck.message || 'Unable to create avatar', 'error');\n            return;\n          }\n        }\n        \n        // Payment is active, proceed with avatar creation\n        setIsAvatarModalOpen(true);\n      } catch (error) {\n        console.error('Failed to check subscription status:', error);\n        showNotification('Unable to verify subscription status. Please try again.', 'error');\n      }\n    } else {\n      // User is not logged in, show notification and open signup modal\n      showNotification('Please log in to create a custom avatar', 'warning');\n      setIsSigninModalOpen(true);\n    }\n  };\n\n\n  const handleDefaultAvatarClick = async () => {\n    if (user?.id) {\n      // Check payment status before allowing video creation\n      console.log('Checking payment status before allowing video creation');\n      console.log('User ID:', user.id);\n      try {\n        const usageCheck = await checkVideoUsageLimit();\n        console.log('Usage check:', usageCheck);\n        \n        if (!usageCheck.canCreateVideo) {\n          // Check if it's a pending payment issue\n          console.log('Payment is still being processed');\n          if (usageCheck.message?.includes('payment is still being processed')) {\n            setPaymentContext('video');\n            setPendingPaymentMessage(usageCheck.message);\n            setShowPendingPaymentToast(true);\n            return;\n          } else if (usageCheck.message?.includes('No active subscription found') || usageCheck.message?.includes('Please subscribe')) {\n            setSubscriptionContext('video');\n            setSubscriptionRequiredMessage(usageCheck.message);\n            setShowSubscriptionRequiredToast(true);\n            return;\n          } else {\n            showNotification(usageCheck.message || 'Unable to create video', 'error');\n            return;\n          }\n        }\n        \n        // Payment is active, proceed with video creation\n        router.push('/create-video/new');\n      } catch (error) {\n        console.error('Failed to check subscription status:', error);\n        showNotification('Unable to verify subscription status. Please try again.', 'error');\n      }\n    } else {\n      // User is not logged in, show notification and open signup modal\n      showNotification('Please log in to create a default avatar', 'warning');\n      setIsSigninModalOpen(true);\n    }\n  };\n\n  // Modal handler functions\n  const handleCloseSigninModal = () => {\n    setIsSigninModalOpen(false);\n  };\n\n  const handleOpenForgotPasswordModal = () => {\n    setIsSigninModalOpen(false);\n    setIsForgotPasswordModalOpen(true);\n  };\n\n  return (\n    <section className={cn(\"w-full py-14 bg-white\", className)}>\n      <div className=\"max-w-[1260px] mx-auto xl:px-0 px-3\">\n        {/* Header Section */}\n        <div className=\"text-center mb-10\">\n          <h2 className=\"text-[42px] md:text-[54px] lg:text-[64px] font-semibold text-[#282828] md:leading-tight leading-[110%] mb-3\">\n            Three simple steps.\n          </h2>\n          <p className=\"text-[18px] md:text-[20px] text-[#5F5F5F] max-w-[800px] mx-auto leading-relaxed\">\n            Our streamlined process makes creating professional real estate videos effortless.\n          </p>\n        </div>\n\n        {/* Steps Container */}\n        <div className=\"relative mb-10\">\n          {/* Desktop Chevron Layout */}\n          <div className=\"hidden xl:block\">           \n            <div className=\"relative grid grid-cols-3 gap-10 w-full\" style={{\n              backgroundImage: \"url('/images/background-vector.png')\",\n              backgroundSize: \"cover\",\n              backgroundPosition: \"center\",\n              backgroundRepeat: \"no-repeat\",\n              maxHeight: \"45vh\",\n              // maxHeight: \"40vh\",\n              height: \"100%\",\n              width: \"100%\",\n            }}>\n              <div className=\"flex flex-col items-start justify-center h-full w-full px-12 py-11\">\n                <div className=\"h-[40px] w-[40px] bg-white/40 rounded-full flex items-center justify-center mb-4\">\n                  <span className=\"text-white text-[18px] font-semibold\">1</span>\n                </div>\n                <div>\n                  <h1 className=\"text-white text-[40px] font-semibold leading-[42px]\">Fill One <br /> Simple Form</h1>\n                  <p className=\"text-white text-[18px] mt-2 font-medium leading-[24px] max-w-[280px]\">Send a quick 5-minute video of yourself speaking, then fill out a 1-page prompt with your video topic and key details.</p>\n                </div>\n              </div>\n              <div className=\"flex flex-col items-start justify-center h-full w-full px-12 py-11\">\n                <div className=\"h-[40px] w-[40px] bg-white/40 rounded-full flex items-center justify-center mb-4\">\n                  <span className=\"text-white text-[18px] font-semibold\">2</span>\n                </div>\n                <div>\n                  <h1 className=\"text-white text-[40px] font-semibold leading-[42px]\">Click <br /> Submit</h1>\n                  <p className=\"text-white text-[18px] mt-2 font-medium leading-[24px] max-w-[300px]\">Submit your prompt, let AI script it, you approve, and we deliver a fully edited video with your avatar, voice, captions, and music.</p>\n                </div>\n              </div>\n              <div className=\"flex flex-col items-start justify-center h-full w-full px-4 py-11\">\n                <div className=\"h-[40px] w-[40px] bg-white/40 rounded-full flex items-center justify-center mb-4\">\n                  <span className=\"text-white text-[18px] font-semibold\">3</span>\n                </div>\n                <div>\n                  <h1 className=\"text-white text-[40px] font-semibold leading-[42px]\">Receive Your <br /> Video</h1>\n                  <p className=\"text-white text-[18px] mt-4 font-medium leading-[24px] max-w-[280px]\">Get your client-ready video in 24-48 hoursâ€”perfect for social, email, or any marketing channel.</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Mobile/Tablet Layout */}\n          <div className=\"xl:hidden space-y-6\">\n            <div className=\"grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-4\">\n            {steps.map((step) => (\n              <div key={step.id} className=\"relative\">\n                <div className={`rounded-[12px] p-6 text-white h-fit md:min-h-[290px] min-h-[200px] ${step.id === \"step-1\" ? \"bg-[#5046E5]\" : \"bg-[#6C63F0]\"} ${step.id === \"step-3\" && \"bg-[#8179F0]\"}`}>\n                  {/* Number Circle */}\n                  <div className=\"w-[40px] h-[40px] rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center mb-4\">\n                    <span className=\"text-white font-semibold\">{step.number}</span>\n                  </div>\n                  \n                  {/* Title */}\n                  <h3 className=\"text-[24px] md:text-[28px] font-semibold mb-3 leading-tight\">\n                    {step.title}\n                  </h3>\n                  \n                  {/* Description */}\n                  <p className=\"text-[14px] md:text-[16px] text-white/90 leading-relaxed\">\n                    {step.description}\n                  </p>\n                </div>\n              </div>\n            ))}\n            </div>\n          </div>\n        </div>\n\n        {/* CTA Button */}\n        {/* <div className=\"text-center flex gap-4 justify-center flex-wrap\">\n          <Link \n            href=\"#faq\" \n            className=\"inline-flex items-center gap-3 bg-transparent border-2 border-[#5046E5] text-[#5046E5] hover:bg-[#5046E5] hover:text-white py-[15.4px] rounded-full text-[16px] font-semibold transition-all duration-300 group max-w-[340px] w-full text-center justify-center mx-auto\"\n          >\n            Have More Questions? See our FAQ\n          </Link>\n          <button \n            onClick={handleCustomAvatarClick}\n            disabled={isAnyAvatarProcessing}\n            className={`inline-flex md:w-fit w-full items-center gap-3 border-2 py-[7.4px] rounded-full text-[20px] font-semibold transition-colors duration-300 group md:max-w-[192px] max-w-full text-center justify-center px-4 ${\n              isAnyAvatarProcessing \n                ? 'bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed' \n                : 'bg-transparent border-[#5046E5] text-[#5046E5] hover:bg-[#5046E5] hover:text-white'\n            }`}\n          >\n            {isAnyAvatarProcessing ? 'Processing...' : 'Custom Avatar'}\n          </button>\n          <button \n            onClick={handleDefaultAvatarClick}\n            className=\"inline-flex md:w-fit w-full items-center gap-3 bg-transparent border-2 border-[#5046E5] text-[#5046E5] hover:bg-[#5046E5] hover:text-white py-[7.4px] rounded-full text-[20px] font-semibold transition-colors duration-300 group md:max-w-[192px] max-w-full text-center justify-center px-4 cursor-pointer\"\n          >\n            Default Avatar\n          </button>\n        </div> */}\n      </div>\n\n      {/* Avatar Creation Modal */}\n      <AvatarCreationModal \n        isOpen={isAvatarModalOpen}\n        onClose={() => setIsAvatarModalOpen(false)}\n      />\n\n\n\n    <SignupModal\n        isOpen={isSignupModalOpen}\n        onClose={() => setIsSignupModalOpen(false)}\n        onOpenSignin={() => setIsSigninModalOpen(true)}\n      />\n\n      <ForgotPasswordModal\n        isOpen={isForgotPasswordModalOpen}\n        onClose={() => setIsForgotPasswordModalOpen(false)}\n        onOpenSignin={() => setIsSigninModalOpen(true)}\n      />\n\n      {/* Signin Modal */}\n      <SigninModal\n        isOpen={isSigninModalOpen}\n        onClose={handleCloseSigninModal}\n        onOpenSignup={() => {\n          setIsSigninModalOpen(false);\n          setIsSignupModalOpen(true);\n        }}\n        onOpenForgotPassword={handleOpenForgotPasswordModal}\n      />\n\n\n      {/* Email Verification Modal */}\n      <EmailVerificationModal\n        isOpen={isEmailVerificationModalOpen}\n        onClose={() => setIsEmailVerificationModalOpen(false)}\n        email={verificationEmail}\n      />\n\n      {/* Pending Payment Toast */}\n      <PendingPaymentToast\n        isVisible={showPendingPaymentToast}\n        message={pendingPaymentMessage}\n        context={paymentContext}\n        onClose={() => setShowPendingPaymentToast(false)}\n        onRefresh={async () => {\n          // Refresh subscription status\n          try {\n            const usageCheck = await checkVideoUsageLimit();\n            if (usageCheck.canCreateVideo) {\n              setShowPendingPaymentToast(false);\n              showNotification('Payment confirmed! You can now create videos.', 'success');\n            } else if (usageCheck.message?.includes('payment is still being processed')) {\n              setPendingPaymentMessage(usageCheck.message);\n            } else {\n              setShowPendingPaymentToast(false);\n              showNotification(usageCheck.message || 'Unable to create content', 'error');\n            }\n          } catch (error) {\n            console.error('Failed to refresh subscription status:', error);\n            showNotification('Unable to verify payment status. Please try again.', 'error');\n          }\n        }}\n      />\n\n      {/* Subscription Required Toast */}\n      <SubscriptionRequiredToast\n        isVisible={showSubscriptionRequiredToast}\n        message={subscriptionRequiredMessage}\n        context={subscriptionContext}\n        onClose={() => setShowSubscriptionRequiredToast(false)}\n        onSubscribe={() => {\n          // Redirect to pricing page or scroll to pricing section\n          window.location.href = '/#pricing'\n        }}\n      />\n    </section>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8059, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/footer.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport { usePathname } from 'next/navigation'\nimport { useEffect } from 'react'\nimport { BRAND_NAME } from '@/lib/constants'\nimport { smoothScrollTo } from '@/lib/utils'\n// import { FaFacebook, FaYoutube, FaInstagram, FaLinkedin } from 'react-icons/fa'\n\nexport default function Footer() {\n    const pathname = usePathname()\n\n    const navigationLinks = [\n        { name: 'Benefits', href: '#benefits' },\n        { name: 'Pricing', href: '#pricing' },\n        { name: 'FAQ\\'s', href: '#faq' },\n        { name: 'Contact', href: '#contact' }\n    ]\n\n    useEffect(() => {\n        if (pathname === '/' && window.location.hash) {\n            const elementId = window.location.hash.substring(1)\n            setTimeout(() => {\n                smoothScrollTo(elementId)\n            }, 100)\n        }\n    }, [pathname])\n\n    const handleLinkClick = (e: React.MouseEvent, href: string) => {\n        if (pathname === '/') {\n            e.preventDefault()\n            const elementId = href.substring(1) // Remove the '#'\n            smoothScrollTo(elementId)\n        }\n    }\n\n    // const socialLinks = [\n    //     { icon: FaFacebook, href: '#', label: 'Facebook' },\n    //     { icon: FaYoutube, href: '#', label: 'YouTube' },\n    //     { icon: FaInstagram, href: '#', label: 'Instagram' },\n    //     { icon: FaLinkedin, href: '#', label: 'LinkedIn' }\n    // ]\n\n\n    return (\n        <footer className=\"bg-gray-100 border-t border-[#919191]\">            \n            {/* Main footer content */}\n            <div className=\"bg-white\">\n                <div className=\"max-w-[1260px] mx-auto px-3 py-12\">\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                        \n                        {/* Left Section - Brand & Social */}\n                        <div className=\"space-y-5\">\n                            {/* Brand */}\n                            <div>\n                            <Link \n                                href=\"/\"\n                                className=\"text-[#5046E5] text-[26px] font-bold\"\n                                aria-label={`${BRAND_NAME} - Go to homepage`}\n                                >\n                                EdgeAI<span className=\"text-[#E54B46] font-bold\">Realty</span>\n                                </Link>\n                            </div>\n                            \n                            {/* Description */}\n                            <p className=\"text-[#282828] text-base leading-relaxed max-w-[380px]\">\n                            Custom AI videos for agents & loan officersâ€”just fill one form, hit submit, and we handle the rest.\n                            </p>\n                            \n                            {/* Social Media */}\n                            {/* <div className=\"flex flex-col gap-4\">\n                                <h3 className=\"text-[#282828] font-semibold text-[26px]\">Follow Us</h3>\n                                <div className=\"flex gap-8\">\n                                    {socialLinks.map((social, index) => (\n                                        <Link\n                                            key={index}\n                                            href={social.href}\n                                            aria-label={social.label}\n                                        >\n                                            <social.icon className=\"w-[26px] h-[26px] text-[#282828]\" />\n                                        </Link>\n                                    ))}\n                                </div>\n                            </div> */}\n                        </div>\n                        \n                        {/* Right Section - Navigation Links */}\n                        <div className=\"lg:justify-self-end\">\n                            <h3 className=\"text-[#282828] font-semibold text-[26px] mb-5\">Links</h3>\n                            <div className=\"grid grid-cols-1 gap-24 mb-3\">\n                                {/* Column 1 */}\n                                <div className=\"space-y-3 flex gap-6 flex-wrap items-baseline\">\n                                    {navigationLinks.map((link, index) => (\n                                        <Link\n                                            key={index}\n                                            href={pathname === '/' ? link.href : `/${link.href}`}\n                                            onClick={(e) => handleLinkClick(e, link.href)}\n                                            className=\"block text-[#282828] text-[16px] hover:text-[#5046E5] transition-all duration-200\"\n                                        >\n                                            {link.name}\n                                        </Link>\n                                    ))}\n                                </div>\n                            </div>\n                            <Link href=\"/privacy-policy\" className=\"text-[#282828] text-[16px] hover:text-[#5046E5] transition-all duration-200 underline mt-4\">\n                                Privacy Policy\n                            </Link>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </footer>\n    )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AASe,SAAS;;IACpB,MAAM,WAAW,IAAA,wKAAW;IAE5B,MAAM,kBAAkB;QACpB;YAAE,MAAM;YAAY,MAAM;QAAY;QACtC;YAAE,MAAM;YAAW,MAAM;QAAW;QACpC;YAAE,MAAM;YAAU,MAAM;QAAO;QAC/B;YAAE,MAAM;YAAW,MAAM;QAAW;KACvC;IAED,IAAA,8LAAS;4BAAC;YACN,IAAI,aAAa,OAAO,OAAO,QAAQ,CAAC,IAAI,EAAE;gBAC1C,MAAM,YAAY,OAAO,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC;gBACjD;wCAAW;wBACP,IAAA,4JAAc,EAAC;oBACnB;uCAAG;YACP;QACJ;2BAAG;QAAC;KAAS;IAEb,MAAM,kBAAkB,CAAC,GAAqB;QAC1C,IAAI,aAAa,KAAK;YAClB,EAAE,cAAc;YAChB,MAAM,YAAY,KAAK,SAAS,CAAC,GAAG,iBAAiB;;YACrD,IAAA,4JAAc,EAAC;QACnB;IACJ;IAEA,wBAAwB;IACxB,0DAA0D;IAC1D,wDAAwD;IACxD,4DAA4D;IAC5D,yDAAyD;IACzD,IAAI;IAGJ,qBACI,iNAAC;QAAO,WAAU;kBAEd,cAAA,iNAAC;YAAI,WAAU;sBACX,cAAA,iNAAC;gBAAI,WAAU;0BACX,cAAA,iNAAC;oBAAI,WAAU;;sCAGX,iNAAC;4BAAI,WAAU;;8CAEX,iNAAC;8CACD,cAAA,iNAAC,8LAAI;wCACD,MAAK;wCACL,WAAU;wCACV,cAAY,GAAG,4JAAU,CAAC,iBAAiB,CAAC;;4CAC3C;0DACK,iNAAC;gDAAK,WAAU;0DAA2B;;;;;;;;;;;;;;;;;8CAKrD,iNAAC;oCAAE,WAAU;8CAAyD;;;;;;;;;;;;sCAsB1E,iNAAC;4BAAI,WAAU;;8CACX,iNAAC;oCAAG,WAAU;8CAAgD;;;;;;8CAC9D,iNAAC;oCAAI,WAAU;8CAEX,cAAA,iNAAC;wCAAI,WAAU;kDACV,gBAAgB,GAAG,CAAC,CAAC,MAAM,sBACxB,iNAAC,8LAAI;gDAED,MAAM,aAAa,MAAM,KAAK,IAAI,GAAG,CAAC,CAAC,EAAE,KAAK,IAAI,EAAE;gDACpD,SAAS,CAAC,IAAM,gBAAgB,GAAG,KAAK,IAAI;gDAC5C,WAAU;0DAET,KAAK,IAAI;+CALL;;;;;;;;;;;;;;;8CAUrB,iNAAC,8LAAI;oCAAC,MAAK;oCAAkB,WAAU;8CAA6F;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAShK;GAxGwB;;QACH,wKAAW;;;KADR"}},
    {"offset": {"line": 8265, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/contact-form.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { z } from 'zod'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { PiHeadsetBold } from \"react-icons/pi\"\nimport { apiService } from '@/lib/api-service'\n\n// Zod validation schema\nconst contactFormSchema = z.object({\n  fullName: z\n    .string()\n    .min(2, 'Full name must be at least 2 characters')\n    .max(100, 'Full name must not exceed 100 characters')\n    .regex(\n      /^[a-zA-Z\\s'-]+$/,\n      'Full name can only contain letters, spaces, hyphens, and apostrophes'\n    )\n    .refine(\n      (val) => val.trim().split(/\\s+/).length >= 2,\n      'Please enter both first and last name'\n    )\n    .transform((val) => val.trim()),\n\n  position: z\n    .string()\n    .min(2, 'Position must be at least 2 characters')\n    .max(100, 'Position must not exceed 100 characters')\n    .regex(\n      /^[a-zA-Z0-9\\s.,-/&()]+$/,\n      'Position contains invalid characters'\n    )\n    .transform((val) => val.trim()),\n  email: z\n    .string()\n    .min(1, 'Email is required')\n    .max(254, 'Email must not exceed 254 characters') // RFC 5321 standard\n    .email('Please enter a valid email address')\n    .regex(\n      /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/,\n      'Please enter a valid email format'\n    )\n    .refine(\n      (val) => !val.includes('..'),\n      'Email cannot contain consecutive dots'\n    )\n    .refine(\n      (val) => !val.startsWith('.') && !val.includes('@.'),\n      'Invalid email format'\n    )\n    .transform((val) => val.toLowerCase().trim()),\n\n  phone: z\n    .string()\n    .min(7, 'Phone number must be at least 7 characters')\n    .max(20, 'Phone number must not exceed 20 characters')\n    .regex(\n      /^[\\d\\s\\-()+-]+$/,\n      'Phone number can only contain digits, spaces, hyphens, parentheses, and plus sign'\n    )\n    .refine(\n      (val) => {\n        // Remove all non-digit characters and check length\n        const digitsOnly = val.replace(/\\D/g, '')\n        return digitsOnly.length >= 7 && digitsOnly.length <= 15\n      },\n      'Phone number must contain between 7 and 15 digits'\n    )\n    .transform((val) => val.trim()),\n\n  question: z\n    .string()\n    .min(20, 'Question must be at least 20 characters for a meaningful inquiry')\n    .max(2000, 'Question must not exceed 2000 characters')\n    .refine(\n      (val) => val.trim().split(/\\s+/).length >= 3,\n      'Please provide at least 3 words in your question'\n    )\n    .refine(\n      (val) => /[a-zA-Z]/.test(val),\n      'Question must contain at least some letters'\n    )\n    .transform((val) => val.trim())\n})\n\n\ntype ContactFormData = z.infer<typeof contactFormSchema>\n\nexport default function ContactForm() {\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [submitSuccess, setSubmitSuccess] = useState(false)\n  const [submitError, setSubmitError] = useState<string | null>(null)\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset\n  } = useForm<ContactFormData>({\n    resolver: zodResolver(contactFormSchema)\n  })\n\n  const onSubmit = async (data: ContactFormData) => {\n    setIsSubmitting(true)\n    setSubmitError(null)\n    \n    try\n    {\n      const messageData = {\n        fullName: data.fullName,\n        position: data.position,\n        email: data.email,\n        phone: data.phone,\n        subject: `Contact from ${data.fullName} - ${data.position}`,\n        question: data.question\n      }\n      \n      const response = await apiService.sendContactMessage(messageData)\n\n      if (response.success)\n      {\n        setSubmitSuccess(true)\n        reset()\n        setTimeout(() => setSubmitSuccess(false), 5000)\n      } else\n      {\n        throw new Error(response.message || 'Failed to submit form')\n      }\n    } catch (error)\n    {\n      console.error('Error submitting form:', error)\n      setSubmitError(error instanceof Error ? error.message : 'Failed to submit form. Please try again.')\n    } finally\n    {\n      setIsSubmitting(false)\n    }\n  }\n\n  return (\n    <section className=\"bg-white py-16\">\n      <div className=\"max-w-[1260px] mx-auto px-3\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-x-4 gap-y-14 items-start\">\n\n          {/* Left Section - Information */}\n          <div className=\"space-y-8\">\n            {/* Real Support Guarantee Box */}\n            <div className=\"bg-[#ECEFFD] border max-w-[432px] border-[#ECEFFD] w-full rounded-[16px] px-4 py-[15.2px]\">\n              <div className=\"flex items-center gap-4\">\n                <div className=\"w-[56px] h-[56px] bg-white rounded-full flex items-center justify-center\">\n                  <PiHeadsetBold className=\"w-[31px] h-[31px] text-[#5046E5]\" />\n                </div>\n                <div>\n                  <p className=\"text-[#5046E5] font-medium text-[18px] leading-[24px]\">\n                    <span className=\"font-medium\">Real Support Guarantee:</span> A real team<br />\n                    member will respond within 24 hours\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Main Heading */}\n            <div className=\"space-y-2\">\n              <h2 className=\"md:text-[38px] text-[30px] md:leading-[46px] font-semibold text-[#282828] leading-[120%]\">\n                We get it. Sometimes you <br className='md:block hidden' /> just need to talk to a <br className='md:block hidden' /> human - reach out to us here.\n              </h2>\n            </div>\n\n            {/* Description */}\n            <p className=\"text-[#5F5F5F] text-[20px] max-w-lg leading-[27px]\">\n              Edge AI Realty was built for the underdogâ€”the agent who feels left behind by tech, overwhelmed by video, and unsure where to start. We know the feeling.\n            </p>\n          </div>\n\n          {/* Right Section - Contact Form */}\n          <div>\n            <h3 className=\"md:text-[56px] text-[40px] font-semibold text-[#282828] mb-6 leading-[40px]\">\n              Connect with Us\n            </h3>\n\n            <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-5\">\n              {/* First Row */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n                <div>\n                  <input\n                    {...register('fullName')}\n                    type=\"text\"\n                    placeholder=\"Full Name\"\n                    className={`w-full px-4 py-3 bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white ${errors.fullName ? 'ring-2 ring-red-500' : ''\n                      }`}\n                  />\n                  {errors.fullName && (\n                    <p className=\"text-red-500 text-sm mt-1\">{errors.fullName.message}</p>\n                  )}\n                </div>\n                <div>\n                  <input\n                    {...register('position')}\n                    type=\"text\"\n                    placeholder=\"Position / Title\"\n                    className={`w-full px-4 py-3 bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white ${errors.position ? 'ring-2 ring-red-500' : ''\n                      }`}\n                  />\n                  {errors.position && (\n                    <p className=\"text-red-500 text-sm mt-1\">{errors.position.message}</p>\n                  )}\n                </div>\n              </div>\n\n              {/* Second Row */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\n                <div>\n                  <input\n                    {...register('email')}\n                    type=\"email\"\n                    placeholder=\"Email Address\"\n                    className={`w-full px-4 py-3 bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white ${errors.email ? 'ring-2 ring-red-500' : ''\n                      }`}\n                  />\n                  {errors.email && (\n                    <p className=\"text-red-500 text-sm mt-1\">{errors.email.message}</p>\n                  )}\n                </div>\n                <div>\n                <input\n                    {...register('phone')}\n                    type=\"text\"\n                    inputMode=\"tel\"\n                    placeholder=\"Phone Number\"\n                    onKeyPress={(e) => {\n                      // Allow numbers, +, -, (, ), and spaces\n                      if (!/[0-9+\\-() ]/.test(e.key))\n                      {\n                        e.preventDefault();\n                      }\n                    }}\n                    className={`w-full px-4 py-3 bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white ${errors.phone ? 'ring-2 ring-red-500' : ''\n                      }`}\n                  />\n                  {errors.phone && (\n                    <p className=\"text-red-500 text-sm mt-1\">{errors.phone.message}</p>\n                  )}\n                </div>\n              </div>\n\n              {/* Third Row - Text Area */}\n              <div>\n                <textarea\n                  {...register('question')}\n                  placeholder=\"Question\"\n                  rows={5}\n                  className={`w-full px-4 py-3 bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white resize-none ${errors.question ? 'ring-2 ring-red-500' : ''\n                    }`}\n                />\n                {errors.question && (\n                  <p className=\"text-red-500 text-sm mt-1\">{errors.question.message}</p>\n                )}\n              </div>\n\n              {/* Success Message */}\n              {submitSuccess && (\n                <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                  <p className=\"text-green-800 text-sm\">\n                    Thank you! Your message has been sent successfully. We&apos;ll get back to you within 24 hours.\n                  </p>\n                </div>\n              )}\n\n              {/* Error Message */}\n              {submitError && (\n                <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n                  <p className=\"text-red-800 text-sm\">\n                    {submitError}\n                  </p>\n                </div>\n              )}\n\n              {/* Buttons */}\n              <div className=\"flex flex-col md:flex-row lg:flex-wrap lg:flex-row gap-4 pt-2 justify-end\">\n                <button\n                  type=\"submit\"\n                  disabled={isSubmitting}\n                  className=\"px-8 py-[11.2px] xl:max-w-[218px] max-w-full w-full bg-[#5046E5] text-white rounded-full font-semibold text-[20px] leading-[32px] hover:bg-transparent hover:text-[#5046E5] border-2 border-[#5046E5] transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#5046E5] disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer\"\n                >\n                  {isSubmitting ? 'Submitting...' : 'Submit'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8710, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/stripe-checkout.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport { useStripe, useElements, PaymentElement } from '@stripe/react-stripe-js';\nimport { Loader2, CreditCard, Shield, Lock } from 'lucide-react';\nimport { useNotificationStore } from './global-notification';\nimport { apiService } from '@/lib/api-service';\n\ninterface StripeCheckoutProps {\n  planId: string;\n  planName: string;\n  planPrice: string;\n  onSuccess?: (subscriptionData: any) => void;\n  onCancel?: () => void;\n}\n\nexport default function StripeCheckout({\n  planName,\n  planPrice,\n  onSuccess,\n  onCancel\n}: StripeCheckoutProps) {\n  const stripe = useStripe();\n  const elements = useElements();\n  const [isProcessing, setIsProcessing] = useState(false);\n  const { showNotification } = useNotificationStore();\n\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n\n    if (!stripe || !elements)\n    {\n      return;\n    }\n\n    setIsProcessing(true);\n\n    try\n    {\n      const { error, paymentIntent } = await stripe.confirmPayment({\n        elements,\n        confirmParams: {\n          return_url: `${window.location.origin}/account?payment=success`,\n        },\n        redirect: 'if_required',\n      });\n\n      if (error)\n      {\n        showNotification(error.message || 'Payment failed. Please try again.', 'error');\n        setIsProcessing(false);\n        return;\n      }\n\n      if (paymentIntent?.status === 'succeeded')\n      {\n        const paymentIntentId = paymentIntent.id;\n        \n        if (paymentIntentId && typeof paymentIntentId === 'string')\n        {\n          try\n          {\n            const syncResponse = await apiService.syncSubscriptionFromStripe(paymentIntentId);\n            if (!syncResponse.success)\n            {\n              console.warn('Failed to sync subscription to backend:', syncResponse.message);\n            }\n          } catch (syncError)\n          {\n            console.error('Error syncing subscription to backend:', syncError);\n          }\n        } else\n        {\n          console.warn('No payment intent ID found');\n        }\n        showNotification('Payment successful! Your subscription is now active.', 'success');\n\n        setTimeout(() => {\n          window.location.href = '/#getting-started';\n        }, 2000);\n\n        onSuccess?.(paymentIntent);\n      }\n    } catch (error: any)\n    {\n      const errorMessage = error.message || 'Payment failed. Please try again.';\n      showNotification(errorMessage, 'error');\n    } finally\n    {\n      setIsProcessing(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto\">\n      {/* Plan Summary */}\n      <div className=\"mb-6 p-4 bg-gray-50 rounded-lg border\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Order Summary</h3>\n        <div className=\"flex justify-between items-center\">\n          <span className=\"text-gray-600\">{planName}</span>\n          <span className=\"text-lg font-bold text-[#5046E5]\">${Math.floor(Number(planPrice) / 100).toString()}</span>\n        </div>\n      </div>\n\n      {/* Payment Form */}\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Security Badge */}\n        <div className=\"flex items-center justify-center gap-2 text-sm text-gray-600 mb-4\">\n          <Shield className=\"w-4 h-4\" />\n          <span>Secured by Stripe</span>\n          <Lock className=\"w-4 h-4\" />\n        </div>\n\n        {/* Payment Element */}\n        <div className=\"border rounded-lg p-4\">\n          <div className=\"flex items-center gap-2 mb-3\">\n            <CreditCard className=\"w-5 h-5 text-gray-600\" />\n            <span className=\"font-medium text-gray-900\">Payment Details</span>\n          </div>\n          <PaymentElement\n            options={{\n              layout: 'tabs',\n            }}\n          />\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"flex gap-3\">\n          {onCancel && (\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              disabled={isProcessing}\n              className=\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              Cancel\n            </button>\n          )}\n\n          <button\n            type=\"submit\"\n            disabled={!stripe || isProcessing}\n            className=\"flex-1 bg-[#5046E5] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#4338CA] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n          >\n            {isProcessing ? (\n              <>\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\n                Processing...\n              </>\n            ) : (\n              `Pay $${Math.floor(Number(planPrice) / 100).toString()}`\n            )}\n          </button>\n        </div>\n\n        {/* Terms */}\n        <p className=\"text-xs text-gray-500 text-center\">\n          By confirming your payment, you agree to our Terms of Service and Privacy Policy.\n          Your subscription will automatically renew until cancelled.\n        </p>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8986, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/payment-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport { X, Loader2 } from 'lucide-react';\nimport StripeProvider from '@/components/providers/StripeProvider';\nimport StripeCheckout from './stripe-checkout';\nimport { apiService } from '@/lib/api-service';\nimport { useNotificationStore } from './global-notification';\nimport { PricingPlan } from './pricing-section';\n\n\ninterface PaymentModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  plan: PricingPlan;\n  onSuccess?: (subscriptionData: any) => void;\n}\n\nexport default function PaymentModal({ isOpen, onClose, plan, onSuccess }: PaymentModalProps) {\n  const [clientSecret, setClientSecret] = useState<string>('');\n  const [isLoading, setIsLoading] = useState(false);\n  const { showNotification } = useNotificationStore();\n\n  const handleCreatePaymentIntent = async () => {\n    // Prevent multiple calls if already loading or have client secret\n    if (isLoading || clientSecret) {\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const response = await apiService.createPaymentIntentWithGlobalLoading(plan.id);\n      \n      if (response.success && response.data?.paymentIntent?.client_secret) {\n        setClientSecret(response.data.paymentIntent.client_secret);\n      } else {\n        // Check if user already has an active subscription\n        if (response.message?.toLowerCase().includes('active subscription')) {\n          showNotification('You already have an active subscription!', 'info');\n          onClose();\n          return;\n        }\n        \n        // Show API response error message or fallback\n        const errorMessage = response.message || 'Failed to initialize payment. Please try again.';\n        showNotification(errorMessage, 'error');\n        onClose();\n      }\n    } catch (error: any) {\n      \n      // Check if error is about active subscription\n      const errorMessage = error.message || '';\n      if (errorMessage.toLowerCase().includes('active subscription')) {\n        showNotification('You already have an active subscription!', 'info');\n        onClose();\n        return;\n      }\n      \n      showNotification(errorMessage || 'Failed to initialize payment. Please try again.', 'error');\n      onClose();\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n\n\n  const handleSuccess = (subscriptionData: any) => {\n    onSuccess?.(subscriptionData);\n    onClose();\n  };\n\n  const handleCancel = () => {\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b\">\n          <h2 className=\"text-xl font-semibold text-gray-900\">\n            Subscribe to {plan.name}\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-200 rounded-full transition-colors duration-300\"\n          >\n            <X className=\"w-5 h-5 text-gray-900\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6\">\n          {isLoading ? (\n            <div className=\"flex flex-col items-center justify-center py-12\">\n              <Loader2 className=\"w-8 h-8 animate-spin text-[#5046E5] mb-4\" />\n              <p className=\"text-gray-600\">Initializing payment...</p>\n            </div>\n          ) : clientSecret ? (\n            <StripeProvider clientSecret={clientSecret}>\n              <StripeCheckout\n                planId={plan.id}\n                planName={plan.name}\n                planPrice={plan.price}\n                onSuccess={handleSuccess}\n                onCancel={handleCancel}\n              />\n            </StripeProvider>\n          ) : (\n            <div className=\"text-center py-12\">\n              <div className=\"mb-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Ready to Subscribe?</h3>\n                <p className=\"text-gray-600\">Click the button below to initialize your payment.</p>\n              </div>\n              <button\n                onClick={handleCreatePaymentIntent}\n                className=\"px-6 py-3 bg-[#5046E5] text-white rounded-lg hover:bg-[#4338CA] transition-colors font-medium\"\n              >\n                Initialize Payment\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AAkBe,SAAS,aAAa,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAqB;;IAC1F,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,6LAAQ,EAAS;IACzD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,6LAAQ,EAAC;IAC3C,MAAM,EAAE,gBAAgB,EAAE,GAAG,IAAA,iMAAoB;IAEjD,MAAM,4BAA4B;QAChC,kEAAkE;QAClE,IAAI,aAAa,cAAc;YAC7B;QACF;QAEA,aAAa;QACb,IAAI;YACF,MAAM,WAAW,MAAM,iKAAU,CAAC,oCAAoC,CAAC,KAAK,EAAE;YAE9E,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE,eAAe,eAAe;gBACnE,gBAAgB,SAAS,IAAI,CAAC,aAAa,CAAC,aAAa;YAC3D,OAAO;gBACL,mDAAmD;gBACnD,IAAI,SAAS,OAAO,EAAE,cAAc,SAAS,wBAAwB;oBACnE,iBAAiB,4CAA4C;oBAC7D;oBACA;gBACF;gBAEA,8CAA8C;gBAC9C,MAAM,eAAe,SAAS,OAAO,IAAI;gBACzC,iBAAiB,cAAc;gBAC/B;YACF;QACF,EAAE,OAAO,OAAY;YAEnB,8CAA8C;YAC9C,MAAM,eAAe,MAAM,OAAO,IAAI;YACtC,IAAI,aAAa,WAAW,GAAG,QAAQ,CAAC,wBAAwB;gBAC9D,iBAAiB,4CAA4C;gBAC7D;gBACA;YACF;YAEA,iBAAiB,gBAAgB,mDAAmD;YACpF;QACF,SAAU;YACR,aAAa;QACf;IACF;IAIA,MAAM,gBAAgB,CAAC;QACrB,YAAY;QACZ;IACF;IAEA,MAAM,eAAe;QACnB;IACF;IAEA,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,iNAAC;QAAI,WAAU;kBACb,cAAA,iNAAC;YAAI,WAAU;;8BAEb,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAG,WAAU;;gCAAsC;gCACpC,KAAK,IAAI;;;;;;;sCAEzB,iNAAC;4BACC,SAAS;4BACT,WAAU;sCAEV,cAAA,iNAAC,wNAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAKjB,iNAAC;oBAAI,WAAU;8BACZ,0BACC,iNAAC;wBAAI,WAAU;;0CACb,iNAAC,mPAAO;gCAAC,WAAU;;;;;;0CACnB,iNAAC;gCAAE,WAAU;0CAAgB;;;;;;;;;;;+BAE7B,6BACF,iNAAC,mLAAc;wBAAC,cAAc;kCAC5B,cAAA,iNAAC,gLAAc;4BACb,QAAQ,KAAK,EAAE;4BACf,UAAU,KAAK,IAAI;4BACnB,WAAW,KAAK,KAAK;4BACrB,WAAW;4BACX,UAAU;;;;;;;;;;6CAId,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCAAI,WAAU;;kDACb,iNAAC;wCAAG,WAAU;kDAA2C;;;;;;kDACzD,iNAAC;wCAAE,WAAU;kDAAgB;;;;;;;;;;;;0CAE/B,iNAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf;GA/GwB;;QAGO,iMAAoB;;;KAH3B"}},
    {"offset": {"line": 9213, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/subscription-management-modal.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { X, AlertCircle, CreditCard, AlertTriangle } from 'lucide-react'\nimport { apiService, SubscriptionData } from '@/lib/api-service'\nimport { useNotificationStore } from './global-notification'\nimport LoadingButton from './loading-button'\nimport { useModalScrollLock } from '@/hooks/useModalScrollLock'\n\ninterface SubscriptionManagementModalProps {\n    isOpen: boolean\n    onClose: () => void\n    currentSubscription: SubscriptionData | null\n    onSubscriptionUpdated?: () => void\n}\n\nexport default function SubscriptionManagementModal({\n    isOpen,\n    onClose,\n    currentSubscription,\n    onSubscriptionUpdated\n}: SubscriptionManagementModalProps) {\n    useModalScrollLock(isOpen)\n    \n    const [error, setError] = useState<string | null>(null)\n    const [showCancelConfirm, setShowCancelConfirm] = useState(false)\n    const [actionLoading, setActionLoading] = useState(false)\n    const { showNotification } = useNotificationStore()\n\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if (e.key === 'Escape' && isOpen) {\n                onClose()\n            }\n        }\n\n        if (isOpen) {\n            document.addEventListener('keydown', handleKeyDown)\n        }\n\n        return () => {\n            document.removeEventListener('keydown', handleKeyDown)\n        }\n    }, [isOpen, onClose])\n\n    const handleCancelSubscription = async () => {\n        try\n        {\n            setActionLoading(true)\n            setError(null)\n            const response = await apiService.cancelSubscriptionWithGlobalLoading()\n\n            if (response.success)\n            {\n                setError(null)\n                showNotification('Subscription cancelled successfully!', 'success')\n                if (onSubscriptionUpdated && typeof onSubscriptionUpdated === 'function')\n                {\n                    try\n                    {\n                        onSubscriptionUpdated()\n                    } catch (callbackError)\n                    {\n                        const errorMessage = callbackError instanceof Error ? callbackError.message : 'Failed to refresh data'\n                        showNotification(`Subscription cancelled but ${errorMessage}`, 'warning')\n                    }\n                }\n                onClose()\n            } else\n            {\n                const errorMsg = response.message || 'Failed to cancel subscription'\n                setError(errorMsg)\n                showNotification(errorMsg, 'error')\n            }\n        } catch (err)\n        {\n            const errorMsg = err instanceof Error ? err.message : 'Failed to cancel subscription'\n            showNotification(`${errorMsg}`, 'error')\n            setError(errorMsg)\n        } finally\n        {\n            setActionLoading(false)\n        }\n    }\n\n    const getPlanDisplayName = (planId: string) => {\n        switch (planId)\n        {\n            case 'basic':\n                return 'Basic Plan'\n            case 'growth':\n                return 'Growth Plan'\n            case 'enterprise':\n                return 'Enterprise Plan'\n            default:\n                return planId.charAt(0).toUpperCase() + planId.slice(1) + ' Plan'\n        }\n    }\n\n    if (!isOpen) return null\n\n    return (\n        <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\">\n                <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n                    <h3 className=\"text-xl font-semibold text-[#282828] flex items-center gap-2\">\n                        <CreditCard className=\"h-5 w-5\" />\n                        Cancel Subscription\n                    </h3>\n                    <button\n                        onClick={onClose}\n                        className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n                    >\n                        <X className=\"h-5 w-5 text-gray-500\" />\n                    </button>\n                </div>\n\n                <div className=\"p-6 overflow-y-auto max-h-[calc(90vh-120px)]\">\n                    {error && (\n                        <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2\">\n                            <AlertCircle className=\"h-5 w-5 text-red-500\" />\n                            <span className=\"text-red-700\">{error}</span>\n                        </div>\n                    )}\n\n                    {currentSubscription && (\n                        <div className=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                            <h4 className=\"font-medium text-blue-800 mb-2\">Current Subscription</h4>\n                            <p className=\"text-blue-700\">\n                                {getPlanDisplayName(currentSubscription.planId)} â€¢\n                                Status: <span className=\"font-medium capitalize\">{currentSubscription.status}</span>\n                            </p>\n                        </div>\n                    )}\n\n                    <div>\n                        <h4 className=\"text-lg font-semibold text-[#282828] mb-4\">Are you sure you want to cancel your subscription?</h4>\n\n                        {currentSubscription?.cancelAtPeriodEnd ? (\n                            <div className=\"p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n                                <div className=\"flex items-start gap-3\">\n                                    <AlertTriangle className=\"h-5 w-5 text-yellow-600 mt-0.5\" />\n                                    <div>\n                                        <h5 className=\"font-medium text-yellow-800 mb-1\">Subscription Already Cancelled</h5>\n                                        <p className=\"text-yellow-700 text-sm\">\n                                            Your subscription will end on {new Date(currentSubscription.currentPeriodEnd).toLocaleDateString('en-US', {\n                                                year: 'numeric',\n                                                month: 'long',\n                                                day: 'numeric'\n                                            })}. You&apos;ll continue to have access until then.\n                                        </p>\n                                    </div>\n                                </div>\n                            </div>\n                        ) : !showCancelConfirm ? (\n                            <button\n                                onClick={() => setShowCancelConfirm(true)}\n                                className=\"px-6 py-3 border border-red-300 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-colors\"\n                            >\n                                Cancel Subscription\n                            </button>\n                        ) : (\n                            <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n                                <div className=\"flex items-start gap-3 mb-4\">\n                                    <AlertTriangle className=\"h-5 w-5 text-red-500 mt-0.5\" />\n                                    <div>\n                                        <h5 className=\"font-medium text-red-800 mb-1\">Are you sure?</h5>\n                                        <p className=\"text-red-700 text-sm\">\n                                            Cancelling your subscription will end your access at the end of the current billing period.\n                                            You can reactivate anytime.\n                                        </p>\n                                    </div>\n                                </div>\n                                <div className=\"flex gap-3\">\n                                    <LoadingButton\n                                        onClick={handleCancelSubscription}\n                                        loading={actionLoading}\n                                        disabled={actionLoading}\n                                        loadingText=\"Cancelling...\"\n                                        variant=\"danger\"\n                                        size=\"sm\"\n                                        className=\"px-4 py-2 rounded-lg\"\n                                    >\n                                        Yes, Cancel Subscription\n                                    </LoadingButton>\n                                    <button\n                                        onClick={() => setShowCancelConfirm(false)}\n                                        disabled={actionLoading}\n                                        className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors\"\n                                    >\n                                        Keep Subscription\n                                    </button>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9611, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/pricing-section.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport SigninModal from './signin-modal';\nimport ForgotPasswordModal from './forgot-password-modal';\nimport PaymentModal from './payment-modal';\nimport SubscriptionManagementModal from './subscription-management-modal';\nimport { useAppSelector } from '@/store/hooks';\nimport { useNotificationStore } from './global-notification';\nimport { apiService, SubscriptionData } from '@/lib/api-service';\nimport SignupModal from './signup-modal';\nimport EmailVerificationModal from \"./email-verification-modal\";\nimport Link from 'next/link';\n\nexport interface PricingPlan {\n  id: string;\n  name: string;\n  price: string;\n  period: string;\n  description: string;\n  features: string[];\n  buttonText: string;\n  popular?: boolean;\n  icon: React.ComponentType<{ className?: string; size?: number }>;\n}\n\nconst PricingSection = () => {\n  const [isSigninModalOpen, setIsSigninModalOpen] = useState(false);\n  const [isPaymentModalOpen, setIsPaymentModalOpen] = useState(false);\n  const [isManagementModalOpen, setIsManagementModalOpen] = useState(false);\n  const [isSignupModalOpen, setIsSignupModalOpen] = useState(false);\n  const [selectedPlan, setSelectedPlan] = useState<PricingPlan | null>(null);\n  const [apiPlans, setApiPlans] = useState<PricingPlan[] | null>(null);\n  const [currentSubscription, setCurrentSubscription] = useState<SubscriptionData | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const { isAuthenticated, accessToken } = useAppSelector((state) => state.user);\n  const { showNotification } = useNotificationStore();\n\n  const [isEmailVerificationModalOpen, setIsEmailVerificationModalOpen] = useState(false);\n  const [verificationEmail, setVerificationEmail] = useState('');\n  const [isForgotPasswordModalOpen, setisForgotPasswordModalOpen] = useState(false);\n\n  useEffect(() => {\n    const fetchSubscription = async () => {\n        try\n        {\n            setError(null)\n            const response = await apiService.getCurrentSubscription()\n\n            if (response.success && response.data)\n            {\n\n            } else\n            {\n                setError(response.message || 'Failed to fetch subscription details')\n            }\n        } catch (err)\n        {\n            const errorMessage = err instanceof Error ? err.message : 'Failed to load subscription details'\n            setError(errorMessage)\n        } finally\n        {\n        }\n    }\n\n    fetchSubscription()\n}, [])\n\n  const fetchPricingPlans = useCallback(async () => {\n    setError(null);\n\n    try\n    {\n      const result = await apiService.getPricingPlans();\n\n      if (result.success && result.data && result.data.plans)\n      {\n        setApiPlans(result.data.plans);\n      } else\n      {\n        const errorMessage = result.message || 'Failed to fetch pricing plans';\n        setError(errorMessage);\n        showNotification(errorMessage, 'error');\n      }\n\n    } catch (err)\n    {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to fetch pricing plans';\n      setError(errorMessage);\n      showNotification(errorMessage, 'error');\n    } finally\n    {\n    }\n  }, [showNotification]);\n\n  const fetchCurrentSubscription = useCallback(async () => {\n    if (!isAuthenticated) return;\n\n    try\n    {\n      const response = await apiService.getCurrentSubscription();\n\n      if (response.success && response.data && response.data.subscription)\n      {\n        setCurrentSubscription(response.data.subscription);\n      } else\n      {\n      }\n    } catch (err)\n    {\n      if (err instanceof Error && !err.message.includes('No active subscription'))\n      {\n        const errorMessage = err.message || 'Failed to load subscription details';\n        showNotification(errorMessage, 'error');\n      }\n    }\n  }, [isAuthenticated, showNotification]);\n\n  useEffect(() => {\n    fetchPricingPlans();\n    fetchCurrentSubscription();\n  }, [isAuthenticated, fetchCurrentSubscription, fetchPricingPlans]);\n\n  const handlePlanSelection = async (plan: PricingPlan) => {\n    if (!isAuthenticated || !accessToken)\n    {\n      showNotification('Please signup first to access this feature', 'warning');\n      setIsSignupModalOpen(true);\n      return;\n    }\n\n    if (currentSubscription)\n    {\n      if (currentSubscription.planId === plan.id)\n      {\n        showNotification('This is your current plan', 'info');\n        return;\n      }\n      setSelectedPlan(plan);\n      setIsManagementModalOpen(true);\n      showNotification(`Opening upgrade options for ${plan.name}`, 'info');\n    } else\n    {\n      setSelectedPlan(plan);\n      setIsPaymentModalOpen(true);\n      showNotification(`Opening payment form for ${plan.name}`, 'info');\n    }\n  };\n\n  const handleSubscriptionUpdated = () => {\n    fetchCurrentSubscription();\n  };\n\n  const handleCloseSigninModal = () => {\n    setIsSigninModalOpen(false);\n  };\n\n  const handleOpenForgotPasswordModal = () => {\n    setisForgotPasswordModalOpen(true);\n  };\n  return (\n    <>      \n      <div className=\"mt-20 w-full py-20 bg-black relative overflow-visible\" style={{ backgroundImage: `url('/images/price-bg.png')`, backgroundSize: 'cover', backgroundPosition: 'center', backgroundRepeat: 'no-repeat', backgroundAttachment: 'fixed' }}>\n          <div className='max-w-[1260px] px-3 mx-auto'>\n            <h1 className='text-[#FFFFFF] font-semibold md:text-[42px] text-[40px] leading-[120%] text-center mb-2'>Flexible Pricing for <br className='md:block hidden' /> Content Automation</h1>\n            <p className='text-[#FFFFFF] font-normal text-lg leading-[24px] text-center'>See examples of our AI-generated real estate marketing videos in action.</p>\n            <div className='bg-white mt-[60px] -mb-[305px] rounded-[24px] lg:px-14 lg:py-16 md:p-8 p-6' style={{boxShadow: `0px 14px 31px 0px #0000001A, 0px 56px 56px 0px #00000017, 0px 125px 75px 0px #0000000D, 0px 223px 89px 0px #00000003, 0px 348px 97px 0px #00000000`\n              }}\n            >\n              {apiPlans?.map((plan: PricingPlan, index: number) => {\n                return (\n              <div key={index} className='flex gap-4 md:flex-row flex-col'>\n                {/* first wrapper */}\n                <div className='flex flex-col gap-2 md:w-1/2 h-full md:min-h-[270px] justify-between'>\n                  <div>\n                    <h3 className='text-[#282828] font-semibold lg:text-[80px] text-[60px] leading-tight lg:mb-0 mb-3'>${Math.floor(Number(plan.price) / 100).toString()}<span className='text-[#282828] font-semibold text-[24px]'>/month</span></h3>\n                    <p className='text-[#282828] font-medium text-base leading-[120%] max-w-[357px]'>Clone yourself into a lifelike AI avatar that talks, gestures, and feels human or choose from 1,000+ pre-built personalities across industries. Your face, your brand on autopilot.</p>\n                  </div>\n                  <div className='gap-4 flex-wrap md:flex hidden'>\n                    {/* <button\n                        className=\"md:w-fit w-full py-[11.2px] px-[28.3px] rounded-[39px] transition-all duration-300 bg-transparent text-[#282828] hover:bg-[#282828] border border-[#282828] hover:text-white text-[18px] leading-[20px] font-medium cursor-pointer\"\n                      >\n                        Learn More\n                      </button> */}\n                      {currentSubscription?.planId === plan.id ? (\n                        <Link\n                            href=\"/account\"\n                            className=\"md:w-fit w-full py-[11.2px] px-[28.3px] rounded-[39px] transition-all duration-300 bg-[#5046E5] text-white hover:bg-transparent border border-[#5046E5] hover:text-[#5046E5] text-[18px] leading-[20px] font-medium cursor-pointer ml-20 text-center\"\n                          >\n                            Current Plan\n                          </Link>\n                      ) : (\n                    <button\n                        onClick={() => handlePlanSelection(plan)}\n                        className=\"md:w-fit w-full py-[11.2px] px-[28.3px] rounded-[39px] transition-all duration-300 bg-[#5046E5] text-white hover:bg-transparent border border-[#5046E5] hover:text-[#5046E5] text-[18px] leading-[20px] font-medium cursor-pointer ml-20\"\n                      >\n                        Get Started\n                      </button>\n                      )}\n                  </div>\n                </div>\n                {/* second wrapper */}\n                <div className='flex flex-col gap-2 md:w-1/2 w-full md:mt-0 mt-7'>\n                  <h1 className='text-[#282828] font-semibold text-[24px] leading-tight'>Features</h1>\n                  <div className='flex flex-col gap-5 mt-4'>\n                    {apiPlans?.[0]?.features.map((feature: any, index: number) => (\n                    <div key={index} className='flex items-center gap-3'>\n                      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12 2C6.49 2 2 6.49 2 12C2 17.51 6.49 22 12 22C17.51 22 22 17.51 22 12C22 6.49 17.51 2 12 2ZM16.78 9.7L11.11 15.37C10.97 15.51 10.78 15.59 10.58 15.59C10.38 15.59 10.19 15.51 10.05 15.37L7.22 12.54C6.93 12.25 6.93 11.77 7.22 11.48C7.51 11.19 7.99 11.19 8.28 11.48L10.58 13.78L15.72 8.64C16.01 8.35 16.49 8.35 16.78 8.64C17.07 8.93 17.07 9.4 16.78 9.7Z\" fill=\"#5046E5\"/></svg>\n                      <p className='text-[#282828] font-medium text-lg leading-[20px]'>{feature}</p>\n                    </div>\n                  ))}\n                  </div>\n                  <div className='gap-4 flex-wrap md:hidden flex mt-8'>\n                    {/* <button\n                        className=\"md:w-fit w-full py-[11.2px] px-[28.3px] rounded-[39px] transition-all duration-300 bg-transparent text-[#282828] hover:bg-[#282828] border border-[#282828] hover:text-white text-[18px] leading-[20px] font-medium cursor-pointer\"\n                      >\n                        Learn More\n                      </button> */}\n                      {currentSubscription?.planId === plan.id ? (\n                        <Link\n                            href=\"/account\"\n                            className=\"md:w-fit w-full py-[11.2px] px-[28.3px] rounded-[39px] transition-all duration-300 bg-[#5046E5] text-white hover:bg-transparent border border-[#5046E5] hover:text-[#5046E5] text-[18px] leading-[20px] font-medium cursor-pointer text-center\"\n                          >\n                            Current Plan\n                          </Link>\n                      ) : (\n                    <button\n                        onClick={() => handlePlanSelection(plan)}\n                        className=\"md:w-fit w-full py-[11.2px] px-[28.3px] rounded-[39px] transition-all duration-300 bg-[#5046E5] text-white hover:bg-transparent border border-[#5046E5] hover:text-[#5046E5] text-[18px] leading-[20px] font-medium cursor-pointer\"\n                      >\n                        Get Started\n                      </button>\n                      )}\n                  </div>\n                </div>\n              </div>\n              )})}\n            </div>\n          </div>\n\n          <SignupModal\n          isOpen={isSignupModalOpen}\n          onClose={() => setIsSignupModalOpen(false)}\n          onOpenSignin={() => setIsSigninModalOpen(true)}\n        />\n\n        <ForgotPasswordModal\n          isOpen={isForgotPasswordModalOpen}\n          onClose={() => setisForgotPasswordModalOpen(false)}\n          onOpenSignin={() => setIsSigninModalOpen(true)}\n        />\n\n        <SigninModal\n          isOpen={isSigninModalOpen}\n          onClose={handleCloseSigninModal}\n          onOpenSignup={() => {\n            setIsSigninModalOpen(false);\n            setIsSignupModalOpen(true);\n          }}\n          onOpenForgotPassword={handleOpenForgotPasswordModal}\n        />\n        <EmailVerificationModal\n          isOpen={isEmailVerificationModalOpen}\n          onClose={() => setIsEmailVerificationModalOpen(false)}\n          email={verificationEmail}\n        />\n        <style jsx>{`\n          @keyframes fadeInUp {\n            from {\n              opacity: 0;\n              transform: translateY(30px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n        `}</style>\n        {selectedPlan && (\n          <PaymentModal\n            isOpen={isPaymentModalOpen}\n            onClose={() => {\n              setIsPaymentModalOpen(false);\n              setSelectedPlan(null);\n            }}\n            plan={selectedPlan}\n            onSuccess={() => {\n              showNotification('Subscription activated successfully!', 'success');\n              fetchCurrentSubscription();\n            }}\n          />\n        )}\n\n        <SubscriptionManagementModal\n          isOpen={isManagementModalOpen}\n          onClose={() => {\n            setIsManagementModalOpen(false);\n            setSelectedPlan(null);\n          }}\n          currentSubscription={currentSubscription}\n          onSubscriptionUpdated={handleSubscriptionUpdated}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default PricingSection;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10078, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/schedule-delete-modal.tsx"],"sourcesContent":["import React from 'react'\nimport { X, Trash2 } from 'lucide-react'\nimport { useModalScrollLock } from '@/hooks/useModalScrollLock'\n\ninterface ScheduleDeleteModalProps {\n    isOpen: boolean\n    onClose: () => void\n    onConfirm: () => void\n}\n\nexport default function ScheduleDeleteModal({ isOpen, onClose, onConfirm }: ScheduleDeleteModalProps) {\n    useModalScrollLock(isOpen)\n\n    if (!isOpen) return null\n\n    return (\n        <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-xl p-6 max-w-xl w-full mx-4 relative\">\n                <button\n                    onClick={onClose}\n                    className=\"absolute top-4 right-4 text-black hover:text-gray-600 transition-colors\"\n                >\n                    <X className=\"w-6 h-6\" />\n                </button>\n\n                <div className=\"text-center\">\n                    <div className=\"w-16 h-16 bg-[#E54B46] rounded-full flex items-center justify-center mx-auto mb-4 mt-15\">\n                        <Trash2 className=\"w-8 h-8 text-white\" />\n                    </div>\n\n                    <h2 className=\"text-xl font-semibold text-red-500 mb-4\">Schedule Delete</h2>\n\n                    <div className=\"text-[#282828] mb-8 space-y-1\">\n                        <p>Your Schedule will be deleted for set dated,</p>\n                        <p>You have to rescheduled the posts</p>\n                    </div>\n                    <button\n                        type=\"button\"\n                        onClick={onConfirm}\n                        className=\"w-full px-4 py-2 bg-[#E54B46] text-white rounded-full font-semibold text-lg transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-[#5046E5]/20 flex items-center justify-center cursor-pointer\">\n                        Cancel Schedule\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;;;;;AAQe,SAAS,oBAAoB,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAA4B;;IAChG,IAAA,+KAAkB,EAAC;IAEnB,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACI,iNAAC;QAAI,WAAU;kBACX,cAAA,iNAAC;YAAI,WAAU;;8BACX,iNAAC;oBACG,SAAS;oBACT,WAAU;8BAEV,cAAA,iNAAC,wNAAC;wBAAC,WAAU;;;;;;;;;;;8BAGjB,iNAAC;oBAAI,WAAU;;sCACX,iNAAC;4BAAI,WAAU;sCACX,cAAA,iNAAC,2OAAM;gCAAC,WAAU;;;;;;;;;;;sCAGtB,iNAAC;4BAAG,WAAU;sCAA0C;;;;;;sCAExD,iNAAC;4BAAI,WAAU;;8CACX,iNAAC;8CAAE;;;;;;8CACH,iNAAC;8CAAE;;;;;;;;;;;;sCAEP,iNAAC;4BACG,MAAK;4BACL,SAAS;4BACT,WAAU;sCAAkN;;;;;;;;;;;;;;;;;;;;;;;AAOpP;GApCwB;;QACpB,+KAAkB;;;KADE"}},
    {"offset": {"line": 10205, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/schedule-interface.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { Clock } from 'lucide-react'\nimport { useRouter } from 'next/navigation'\nimport ScheduleDeleteModal from './schedule-delete-modal'\nimport { useSchedule } from '@/hooks/useSchedule'\n\ninterface ScheduleInterfaceProps {\n  onStartScheduling: () => void\n  autoScheduleData: any\n  onScheduleDeleted?: () => void\n}\n\ninterface ScheduleItemProps {\n  label: string\n  value: string\n  hasIcon?: boolean\n}\n\nconst ScheduleItem: React.FC<ScheduleItemProps> = ({ label, value, hasIcon = false }) => {\n  const formatDate = (dateString: string) => {\n    if (!dateString) return dateString\n\n    try {\n      const date = new Date(dateString)\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric'\n      })\n    } catch (error) {\n      return dateString\n    }\n  }\n\n  const getDisplayValue = () => {\n    if (label === 'Start Date' || label === 'End Date') {\n      return formatDate(value)\n    } else if (label === 'Day' && Array.isArray(value)) {\n      return value.join(', ')\n    }\n    return value\n  }\n\n  const displayValue = getDisplayValue()\n\n  return (\n    <div>\n      <div className=\"flex flex-col gap-2 \">\n        <span className=\"text-gray-500 text-sm\">{label}</span>\n        <span className=\"text-gray-800 font-medium\">{displayValue}</span>\n      </div>\n    </div>\n  )\n}\n\nexport default function ScheduleInterface({ onStartScheduling, autoScheduleData, onScheduleDeleted }: ScheduleInterfaceProps) {\n  const [showDeleteModal, setShowDeleteModal] = useState(false)\n  const { deleteSchedule } = useSchedule()\n  const router = useRouter()\n\n  const handleDeleteClick = () => {\n    setShowDeleteModal(true)\n  }\n\n  const handleDeleteConfirm = async () => {\n    try {\n      const scheduleId = autoScheduleData?.id\n      const success = await deleteSchedule(scheduleId)\n      \n      if (success) {\n        // Call the callback to refresh schedule data\n        if (onScheduleDeleted) {\n          onScheduleDeleted()\n        }\n      }\n    } catch (error) {\n      console.error('Error in handleDeleteConfirm:', error)\n    } finally {\n      setShowDeleteModal(false)\n    }\n  }\n\n  const handleDeleteCancel = () => {\n    setShowDeleteModal(false)\n  }\n\n  const handleReviewAndUpdate = () => {\n    router.push('/scheduled-post')\n  }\n  if (autoScheduleData) {\n    return (\n      <>\n        <div className=\"flex flex-col items-center justify-center py-20\">\n          <div className=\"text-center\">\n            <div className=\"w-20 h-20 bg-[#5046E5] rounded-full flex items-center justify-center mx-auto mb-6\">\n              <Clock className=\"w-10 h-10 text-white\" />\n            </div>\n            <h3 className=\"text-2xl font-semibold text-gray-800 mb-8\">Your Schedule Posts</h3>\n\n            <div className=\"bg-gray-100 rounded-lg p-6 mb-6 w-full max-w-[666px] lg:w-[666px] xl:w-[666px] mx-auto\">\n              <div className=\"grid grid-cols-2 gap-8 justify-between\">\n                <div className=\"space-y-4 text-start\">\n                  <ScheduleItem\n                    label=\"Frequency\"\n                    value={autoScheduleData.scheduleInfo?.frequency || 'Twice a Week'}\n                    hasIcon={true}\n                  />\n                  <ScheduleItem\n                    label=\"Day\"\n                    value={autoScheduleData.scheduleInfo?.days || autoScheduleData.days || 'Monday, Tuesday'}\n                    hasIcon={true}\n                  />\n                </div>\n\n                <div className=\"space-y-4 text-right\">\n                  <ScheduleItem\n                    label=\"Start Date\"\n                    value={autoScheduleData?.scheduleInfo.startDate || 'Sep 15, 2025'}\n                  />\n                  <ScheduleItem\n                    label=\"End Date\"\n                    value={autoScheduleData?.scheduleInfo?.endDate || 'Oct 15, 2025'}\n                  />\n                </div>\n              </div>\n              <button\n                type=\"button\"\n                onClick={handleReviewAndUpdate}\n                className=\"w-full mt-6 px-4 py-2 bg-white border border-[#5046E5] text-[#5046E5] rounded-full font-medium hover:bg-[#5046E5] hover:text-white transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#5046E5]/20\"\n              >\n                Review & Update\n              </button>\n            </div>\n            {autoScheduleData.status===\"ready\" && (\n              <button\n                type=\"button\"\n                onClick={handleDeleteClick}\n                className=\"w-full px-4 py-2 bg-[#5046E5] text-white rounded-full font-semibold text-lg hover:bg-[#4338CA] transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-[#5046E5]/20 flex items-center justify-center cursor-pointer\">\n                Cancel Schedule\n              </button>\n            )}\n          </div>\n        </div>\n\n        <ScheduleDeleteModal\n          isOpen={showDeleteModal}\n          onClose={handleDeleteCancel}\n          onConfirm={handleDeleteConfirm}\n        />\n      </>\n    )\n  }\n\n  return (\n    <div className=\"flex flex-col items-center justify-center py-20\">\n      <div className=\"text-center\">\n        <div className=\"w-20 h-20 bg-[#5046E5] rounded-full flex items-center justify-center mx-auto mb-6\">\n          <Clock className=\"w-10 h-10 text-white\" />\n        </div>\n        <h3 className=\"text-2xl font-semibold text-gray-800 mb-4\">Schedule Your Posts</h3>\n        <p className=\"text-gray-600 mb-8 max-w-md mx-auto\">\n          Create and schedule your social media posts to be published automatically at your preferred times.\n        </p>\n        <div className=\"flex justify-center\">\n          <button\n            type=\"button\"\n            onClick={onStartScheduling}\n            className=\"px-8 py-4 bg-[#5046E5] text-white rounded-full font-semibold text-lg hover:bg-[#4338CA] transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-[#5046E5]/20 flex items-center justify-center gap-3 cursor-pointer\"\n          >\n            <Clock className=\"w-5 h-5\" />\n            Start Scheduling\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10541, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/create-video-modal.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { AlertCircle } from 'lucide-react'\nimport Image from 'next/image'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '@/store'\nimport { apiService } from '@/lib/api-service'\nimport { API_CONFIG } from '@/lib/config'\nimport { useAvatarStorage } from '@/hooks/useAvatarStorage'\nimport { useUnifiedSocketContext } from '@/components/providers/UnifiedSocketProvider'\nimport { VideoInProgress } from '@/hooks/useUnifiedSocket'\nimport { useModalScrollLock } from '@/components/providers/ModalScrollLockProvider'\nimport { toast } from 'sonner'\n\n\ninterface CreateVideoModalProps {\n  isOpen: boolean\n  onClose: () => void\n  videoTitle: string\n  startAtComplete?: boolean\n  videoData?: { title: string; youtubeUrl: string; thumbnail: string } | null\n  webhookResponse?: {\n    prompt?: string\n    description?: string\n    conclusion?: string\n    company_name?: string\n    social_handles?: string\n    license?: string\n    avatar?: string\n    email?: string\n    voice_id?: string\n    music_url?: string\n  } | null;\n}\n\ntype ModalStep = 'form' | 'loading' | 'complete'\n\nconst CHARACTER_LIMITS = {\n  prompt: 350,  \n  description: 1050,\n  conclusion: 350\n} as const\n\ninterface VideoGenerationData {\n  hook: string\n  body: string\n  conclusion: string\n  company_name: string\n  social_handles: string\n  license: string\n  email: string\n  title: string\n  avatar_title: string\n  avatar_body: string\n  avatar_conclusion: string\n  music?: string\n  text?: string\n}\n\nexport default function CreateVideoModal({ isOpen, onClose, startAtComplete = false, videoData, webhookResponse }: CreateVideoModalProps) {\n  const [currentStep, setCurrentStep] = useState<ModalStep>(startAtComplete ? 'complete' : 'form')\n  const [formData, setFormData] = useState({\n    prompt: webhookResponse?.prompt || '',\n    description: webhookResponse?.description || '',\n    conclusion: webhookResponse?.conclusion || ''\n  })\n  const [errors, setErrors] = useState({\n    prompt: '',\n    description: '',\n    conclusion: ''\n  })\n  const [aiGeneratedContent, setAiGeneratedContent] = useState({\n    prompt: webhookResponse?.prompt || '',\n    description: webhookResponse?.description || '',\n    conclusion: webhookResponse?.conclusion || ''\n  })\n  const [characterErrors, setCharacterErrors] = useState({\n    prompt: '',\n    description: '',\n    conclusion: ''\n  })\n  const [isDownloading, setIsDownloading] = useState(false)\n  const [countdown, setCountdown] = useState(20)\n  const [videoGenerationreDirected, setVideoGenerationreDirected] = useState(false)\n  const [avatarError, setAvatarError] = useState<string>('')\n  const REDIRECT_KEY = 'videoModalRedirectExecuted'\n  // Track if this is a new submission (modal just opened for new video)\n  const isNewSubmissionRef = useRef(false)\n\n  // Auto-dismiss avatar error after 10 seconds\n  useEffect(() => {\n    if (avatarError) {\n      const timer = setTimeout(() => {\n        setAvatarError('')\n      }, 10000) // 10 seconds\n\n      return () => {\n        clearTimeout(timer)\n      }\n    }\n  }, [avatarError])\n\n  function redirectToCreateVideoOnce() {\n    if (typeof window === 'undefined') return\n    // Avoid duplicate redirects within the same session and if already on target page\n    if (sessionStorage.getItem(REDIRECT_KEY)) return\n    if (window.location.pathname === '/create-video') return\n    sessionStorage.setItem(REDIRECT_KEY, 'true')\n    window.location.href = '/create-video'\n  }\n\n  // Custom hook for avatar storage\n  const { getAvatarIds, validateAvatarSelection } = useAvatarStorage()\n\n  // Get unified socket context for video processing updates\n  const {\n    latestVideoUpdate,\n    clearVideoUpdates,\n    clearCompletedVideoUpdates,\n    addPendingVideo\n  } = useUnifiedSocketContext()\n\n  // Use global modal scroll lock\n  const { openModal, closeModal } = useModalScrollLock()\n\n  // Get video topic and user info from Redux store\n  const videoTopic = useSelector((state: RootState) => state.video.videoTopic)\n\n  // Lock body scroll when modal is open\n  useEffect(() => {\n    if (isOpen) {\n      openModal()\n      setIsDownloading(false)\n      // Reset modal step to 'form' when modal opens for new submission\n      // Only reset if not viewing completed video and not starting at complete\n      if (!startAtComplete && !videoData) {\n        setCurrentStep('form')\n        // Mark as new submission to prevent socket updates from overriding\n        isNewSubmissionRef.current = true\n      }\n    } else {\n      closeModal()\n      // Reset new submission flag when modal closes\n      isNewSubmissionRef.current = false\n    }\n\n    // Cleanup function to close modal when component unmounts\n    return () => {\n      closeModal()\n    }\n  }, [isOpen, openModal, closeModal, startAtComplete, videoData])\n\n  // Update form data and AI-generated content when webhookResponse changes\n  useEffect(() => {\n    if (webhookResponse) {\n      const newFormData = {\n        prompt: webhookResponse.prompt || '',\n        description: webhookResponse.description || '',\n        conclusion: webhookResponse.conclusion || ''\n      }\n      setFormData(newFormData)\n      setAiGeneratedContent({\n        prompt: webhookResponse.prompt || '',\n        description: webhookResponse.description || '',\n        conclusion: webhookResponse.conclusion || ''\n      })\n    }\n  }, [webhookResponse])\n\n  // Listen for video processing updates from socket\n  // But ignore updates when viewing a completed video (modal opened with videoData)\n  useEffect(() => {\n    if (!latestVideoUpdate) return\n\n    // Don't respond to socket updates when viewing a completed video\n    // The modal should stay in 'complete' state when opened for viewing\n    if (startAtComplete || videoData) {\n      return\n    }\n\n    // Ignore socket updates if this is a new submission and we're still on form step\n    // This prevents existing video progress from skipping the form step\n    if (isNewSubmissionRef.current && currentStep === 'form') {\n      return\n    }\n\n    const { status, message } = latestVideoUpdate\n\n    console.log('ðŸŽ¥ Create Video Modal received update:', { status, message })\n\n    if (status === 'processing' || status === 'pending') {\n      // Video is being processed - ensure we're in loading state\n      if (currentStep !== 'loading') {\n        setCurrentStep('loading')\n      }\n    } else if (status === 'completed' || status === 'success') {\n      // Video is completed - move to complete state\n      setCurrentStep('complete')\n      // Don't clear all updates - let notification handle its own lifecycle\n      // clearVideoUpdates() // Removed to prevent notification flickering\n    } else if (status === 'failed') {\n      // Video failed - go back to form with error\n      setCurrentStep('form')\n      setAvatarError('Video generation failed. Please try again.')\n      // Don't clear all updates - let notification handle its own lifecycle\n      // clearVideoUpdates() // Removed to prevent notification flickering\n    }\n  }, [latestVideoUpdate, currentStep, clearVideoUpdates, startAtComplete, videoData])\n\n  const handleClose = useCallback(() => {\n    const wasLoading = currentStep === 'loading'\n    // Check if we're viewing a completed video (not creating a new one)\n    const isViewingVideo = startAtComplete || !!videoData\n\n    setCurrentStep(startAtComplete ? 'complete' : 'form')\n    setFormData({\n      prompt: webhookResponse?.prompt || '',\n      description: webhookResponse?.description || '',\n      conclusion: webhookResponse?.conclusion || ''\n    })\n    setErrors({ prompt: '', description: '', conclusion: '' })\n    setCharacterErrors({ prompt: '', description: '', conclusion: '' })\n    setAiGeneratedContent({\n      prompt: webhookResponse?.prompt || '',\n      description: webhookResponse?.description || '',\n      conclusion: webhookResponse?.conclusion || ''\n    })\n    setIsDownloading(false)\n\n    // Only clear localStorage keys and completed updates when closing after creating a new video\n    // Don't clear these when just viewing a completed video\n    if (!isViewingVideo) {\n      clearCompletedVideoUpdates()\n      localStorage.removeItem('videoGenerationStarted')\n      localStorage.removeItem('videoProgress')\n    }\n\n    onClose()\n\n    // Only redirect if modal was visible, was in loading state, and we're creating a new video (not viewing)\n    if (isOpen && wasLoading && !isViewingVideo) {\n      setTimeout(redirectToCreateVideoOnce, 100)\n    }\n  }, [currentStep, startAtComplete, webhookResponse, onClose, clearCompletedVideoUpdates, isOpen, videoData])\n\n  // Auto close modal with countdown when in loading state\n  useEffect(() => {\n    let countdownTimer: NodeJS.Timeout\n\n    if (currentStep === 'loading') {\n      // Start countdown\n      countdownTimer = setInterval(() => {\n        setCountdown(prev => {\n          if (prev <= 1) {\n            clearInterval(countdownTimer!)\n            // Close modal and navigate to /create-video when countdown reaches 0\n            setTimeout(() => {\n              // Close the modal first\n              onClose()\n              setTimeout(() => {\n                if (window.location.pathname !== '/create-video' && videoGenerationreDirected) {\n                  setVideoGenerationreDirected(false);\n                  window.location.href = '/create-video'\n                }\n              }, 100)\n            }, 1000)\n            return 0\n          }\n          return prev - 1\n        })\n      }, 1000)\n    } else {\n      // Reset countdown when not in loading state\n      setCountdown(20)\n    }\n\n    return () => {\n      if (countdownTimer) {\n        clearInterval(countdownTimer)\n      }\n    }\n  }, [currentStep, onClose])\n\n  const getUserAddedContent = (field: keyof typeof formData, currentValue: string): string => {\n    const aiContent = aiGeneratedContent[field]\n    \n    if (aiContent.length === 0) {\n      return currentValue\n    }\n    if (currentValue.length <= aiContent.length) {\n      return ''\n    }\n    \n    if (currentValue.startsWith(aiContent)) {\n      return currentValue.slice(aiContent.length)\n    }\n    \n    if (currentValue.length > aiContent.length) {\n      return ' '.repeat(currentValue.length - aiContent.length)\n    }\n    return ''\n  }\n\n  const hasUserAddedContent = (field: keyof typeof formData): boolean => {\n    const currentValue = formData[field]\n    const userAdded = getUserAddedContent(field, currentValue)\n    return userAdded.length > 0\n  }\n\n  const shouldShowRedStyling = (field: keyof typeof formData): boolean => {\n    const hasUserContent = hasUserAddedContent(field)\n    const exceedsLimit = formData[field].length > CHARACTER_LIMITS[field]\n    return hasUserContent && exceedsLimit\n  }\n  const validateCharacterLimit = (\n    field: keyof typeof formData,\n    currentValue: string,\n    aiContent: string,\n    maxLength: number\n  ): string => {\n    const oldCharacter = aiContent\n    const newCharacter = getUserAddedContent(field, currentValue)\n    if (oldCharacter.length > 0 && newCharacter.length > 0) {\n      const totalLength = currentValue.length\n      if (totalLength > maxLength) {\n        return `Total content exceeds ${maxLength} characters. Please reduce your additions.`\n      }\n    }\n    return ''\n  }\n\n  const handleInputChange = (field: keyof typeof formData, value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }))\n\n    // Clear required field error when user starts typing\n    if (errors[field]) {\n      setErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }))\n    }\n    const aiContent = aiGeneratedContent[field]\n    const maxLength = CHARACTER_LIMITS[field]\n    const characterError = validateCharacterLimit(field, value, aiContent, maxLength)\n    \n    setCharacterErrors(prev => ({\n      ...prev,\n      [field]: characterError\n    }))\n  }\n\n\n  const validateForm = () => {\n    const newErrors = {\n      prompt: '',\n      description: '',\n      conclusion: ''\n    }\n\n    // Required field validation\n    if (!formData.prompt.trim()) {\n      newErrors.prompt = 'Prompt is required'\n    }\n    if (!formData.description.trim()) {\n      newErrors.description = 'Description is required'\n    }\n    if (!formData.conclusion.trim()) {\n      newErrors.conclusion = 'Conclusion is required'\n    }\n\n    const newCharacterErrors = {\n      prompt: '',\n      description: '',\n      conclusion: ''\n    }\n\n    Object.keys(CHARACTER_LIMITS).forEach((field) => {\n      const fieldKey = field as keyof typeof formData\n      const aiContent = aiGeneratedContent[fieldKey]\n      const currentValue = formData[fieldKey]\n      const maxLength = CHARACTER_LIMITS[fieldKey]\n      newCharacterErrors[fieldKey] = validateCharacterLimit(fieldKey, currentValue, aiContent, maxLength)\n    })\n\n    setErrors(newErrors)\n    setCharacterErrors(newCharacterErrors)\n    \n    // Form is valid if no required field errors and no character limit errors\n    const hasRequiredErrors = !!(newErrors.prompt || newErrors.description || newErrors.conclusion)\n    const hasCharacterErrors = !!(newCharacterErrors.prompt || newCharacterErrors.description || newCharacterErrors.conclusion)\n    \n    return !hasRequiredErrors && !hasCharacterErrors\n  }\n\n\n  const handleCreateVideo = async () => {\n    // Clear previous avatar errors and video updates\n    setAvatarError('')\n    clearVideoUpdates()\n\n    if (!validateForm()) {\n      return\n    }\n\n    try {\n      // Get and validate avatar IDs from localStorage\n      const avatarIds = getAvatarIds()\n      if (!avatarIds) {\n        setAvatarError('Avatar selection not found. Please go back and select avatars.')\n        return\n      }\n\n      // Validate that all required avatars are selected\n      validateAvatarSelection(avatarIds)\n      isNewSubmissionRef.current = false\n      setCurrentStep('loading')\n\n      // Only proceed if voice_id exists - text-to-speech is required\n      if (!webhookResponse?.voice_id) {\n        setAvatarError('Voice ID is required for video generation.')\n        setCurrentStep('form')\n        return\n      }\n\n      try {\n        console.log('ðŸŽ™ï¸ Calling ElevenLabs text-to-speech API with voice_id:', webhookResponse.voice_id)\n        const textToSpeechData = {\n          voice_id: webhookResponse.voice_id,\n          hook: formData.prompt,\n          body: formData.description,\n          conclusion: formData.conclusion,\n          output_format: 'mp3_44100_128'\n        }\n        \n        const textToSpeechResponse = await apiService.textToSpeech(textToSpeechData)\n        console.log('ðŸŽ™ï¸ Text-to-speech API response:', textToSpeechResponse)\n\n        // Check if text-to-speech API was successful\n        if (!textToSpeechResponse?.success || !textToSpeechResponse?.data) {\n          // Text-to-speech API failed - STOP and show error\n          console.error('âŒ Text-to-speech API failed - NOT calling generateVideo:', textToSpeechResponse)\n          setAvatarError('Text-to-speech generation failed. Please try again.')\n          setCurrentStep('form') // Stop loading, go back to form\n          return // Exit - do NOT call generateVideo\n        }\n\n        // Validate that all required URLs are present\n        const { hook_url, body_url, conclusion_url } = textToSpeechResponse.data\n        if (!hook_url || !body_url || !conclusion_url) {\n          // URLs are missing - STOP and show error\n          console.error('âŒ Text-to-speech API returned missing URLs - NOT calling generateVideo:', {\n            hook_url: !!hook_url,\n            body_url: !!body_url,\n            conclusion_url: !!conclusion_url,\n          })\n          setAvatarError('Text-to-speech URLs are missing. Please try again.')\n          setCurrentStep('form') // Stop loading, go back to form\n          return // Exit - do NOT call generateVideo\n        }\n\n        // Text-to-speech was successful and all URLs are present - proceed with video generation\n        const videoGenerationData: VideoGenerationData = {\n          hook: hook_url,\n          body: body_url,\n          text: formData.description,\n          conclusion: conclusion_url,\n          company_name: webhookResponse?.company_name || '',\n          social_handles: webhookResponse?.social_handles || '',\n          license: webhookResponse?.license || '',\n          email: webhookResponse?.email || '',\n          title: videoTopic || 'Custom Video',\n          avatar_title: avatarIds.avatar_title,\n          avatar_body: avatarIds.avatar_body,\n          avatar_conclusion: avatarIds.avatar_conclusion,\n          music: webhookResponse?.music_url || ''\n        }\n\n        // Only call generateVideo after successful text-to-speech\n        const response = await apiService.generateVideo(videoGenerationData)\n        const videoId = `video-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n        const videoTitle = videoTopic || 'Custom Video'\n\n        // Add video to pending videos array\n        if (response.success && response.data) {\n          const videoInProgress: VideoInProgress = {\n            id: videoId,\n            title: videoTitle,\n            status: 'processing',\n            timestamp: response.data.timestamp || new Date().toISOString(),\n            message: response.message || 'Video generation started'\n          }\n          addPendingVideo(videoInProgress)\n          console.log('ðŸŽ¬ Added pending video:', videoInProgress)\n        }\n\n        // Store a key in localStorage to indicate video generation has started\n        localStorage.setItem('videoGenerationStarted', JSON.stringify({\n          timestamp: Date.now(),\n          videoTitle: videoTitle\n        }))\n        console.log('ðŸŽ¬ Video generation API called - localStorage key set')\n        setVideoGenerationreDirected(true)\n\n      } catch (error) {\n        // Text-to-speech API threw an error - STOP and show error\n        console.error('âŒ Text-to-speech API error - NOT calling generateVideo:', error)\n        setAvatarError('Text-to-speech generation failed. Please try again.')\n        setCurrentStep('form') // Stop loading, go back to form\n        return // Exit - do NOT call generateVideo\n      }\n    } catch (error: any) {\n      console.error('Video creation failed:', error)\n      localStorage.removeItem('videoGenerationStarted')\n      console.log('ðŸ§¹ Cleared localStorage key due to API error')\n\n      // Set appropriate error message\n      if (error.message.includes('Missing avatar selection')) {\n        setAvatarError(error.message)\n      } else {\n        setAvatarError('Failed to create video. Please try again.')\n      }\n\n      setCurrentStep('form') // Go back to form on error\n    }\n  }\n\n  const getDownloadUrl = () => {\n    if (!videoData?.youtubeUrl) {\n      return null\n    }\n\n    const token = localStorage.getItem(API_CONFIG.AUTH.TOKEN_KEY)\n    if (!token) {\n      return null\n    }\n\n    return `${API_CONFIG.BACKEND_URL}/api/video/download-proxy?token=${encodeURIComponent(token)}&url=${encodeURIComponent(videoData.youtubeUrl)}`\n  }\n\n  const downloadUrl = getDownloadUrl()\n\n  const handleDownloadClick = () => {\n    if (!downloadUrl) {\n      toast.error('Authentication required. Please log in again.')\n      return\n    }\n\n    setIsDownloading(true)\n    \n    setTimeout(() => {\n      setIsDownloading(false)\n    }, 5000)\n  }\n\n  const isFormValid = () => {\n    if (!formData.prompt.trim() || !formData.description.trim() || !formData.conclusion.trim()) {\n      return false\n    }\n    if (characterErrors.prompt || characterErrors.description || characterErrors.conclusion) {\n      return false\n    }\n    return true\n  }\n  const getCharacterCount = (field: keyof typeof formData): string => {\n    const currentLength = formData[field].length\n    const maxLength = CHARACTER_LIMITS[field]\n    return `${currentLength} / ${maxLength} characters`\n  }\n\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-[12px] max-w-[1260px] w-full max-h-[90vh] flex flex-col relative\">\n        {/* Modal Header */}\n        <div className=\"flex items-center justify-between px-6 pt-4 flex-shrink-0\">\n          <h3 className=\"md:text-[32px] text-[24px] font-semibold text-[#282828]\">\n            {currentStep === 'form' && 'Create new video'}\n            {currentStep === 'loading' && 'Creating a new video'}\n            {currentStep === 'complete' && `${videoData ? `${videoData.title}` : 'Your video is Rendered'}`}\n          </h3>\n\n          {/* Hide close button when in loading state */}\n          {currentStep !== 'loading' && (\n            <button\n              onClick={() => handleClose()}\n              className=\"cursor-pointer\"\n            >\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M22.5 1.5L1.5 22.5M1.5 1.5L22.5 22.5\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n              </svg>\n            </button>\n          )}\n        </div>\n        {currentStep === 'complete' && !videoData && (\n          <p className='md:text-[20px] text-[16px] font-normal text-[#5F5F5F] pl-6'>\n            It has also been sent to your email.\n          </p>\n        )}\n\n        {/* Modal Content */}\n        <div className=\"px-6 pt-2 pb-6 overflow-y-auto flex-1\">\n          {/* Step 1: Form */}\n          {currentStep === 'form' && (\n            <>\n              <div className=\"flex gap-2 mb-8 md:flex-row flex-col\">\n                <div className='w-full'>\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <label className=\"block text-base font-normal text-[#5F5F5F]\">\n                      Intro <span className=\"text-red-500\">*</span>\n                    </label>\n                    <span className={`text-sm ${shouldShowRedStyling('prompt') ? 'text-red-500' : 'text-[#5F5F5F]'}`}>\n                      {getCharacterCount('prompt')}\n                    </span>\n                  </div>\n                  <textarea\n                    value={formData.prompt}\n                    onChange={(e) => handleInputChange('prompt', e.target.value)}\n                    placeholder=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to\"\n                    className={`w-full md:h-[371px] h-[200px] px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] resize-none focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white ${errors.prompt || (characterErrors.prompt && hasUserAddedContent('prompt')) ? 'ring-2 ring-red-500' : ''\n                      }`}\n                  />\n                  {errors.prompt && (\n                    <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {errors.prompt}\n                    </p>\n                  )}\n                  {characterErrors.prompt && (\n                    <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {characterErrors.prompt}\n                    </p>\n                  )}\n                </div>\n\n                <div className='w-full'>\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <label className=\"block text-base font-normal text-[#5F5F5F]\">\n                      Body <span className=\"text-red-500\">*</span>\n                    </label>\n                    <span className={`text-sm ${shouldShowRedStyling('description') ? 'text-red-500' : 'text-[#5F5F5F]'}`}>\n                      {getCharacterCount('description')}\n                    </span>\n                  </div>\n                  <textarea\n                    value={formData.description}\n                    onChange={(e) => handleInputChange('description', e.target.value)}\n                    placeholder=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to\"\n                    className={`w-full md:h-[371px] h-[200px] px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] resize-none focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white ${errors.description || (characterErrors.description && hasUserAddedContent('description')) ? 'ring-2 ring-red-500' : ''\n                      }`}\n                  />\n                  {errors.description && (\n                    <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {errors.description}\n                    </p>\n                  )}\n                  {characterErrors.description && (\n                    <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {characterErrors.description}\n                    </p>\n                  )}\n                </div>\n\n                <div className='w-full'>\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <label className=\"block text-base font-normal text-[#5F5F5F]\">\n                      Conclusion <span className=\"text-red-500\">*</span>\n                    </label>\n                    <span className={`text-sm ${shouldShowRedStyling('conclusion') ? 'text-red-500' : 'text-[#5F5F5F]'}`}>\n                      {getCharacterCount('conclusion')}\n                    </span>\n                  </div>\n                  <textarea\n                    value={formData.conclusion}\n                    onChange={(e) => handleInputChange('conclusion', e.target.value)}\n                    placeholder=\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to\"\n                    className={`w-full md:h-[371px] h-[200px] px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] resize-none focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white ${errors.conclusion || (characterErrors.conclusion && hasUserAddedContent('conclusion')) ? 'ring-2 ring-red-500' : ''\n                      }`}\n                  />\n                  {errors.conclusion && (\n                    <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {errors.conclusion}\n                    </p>\n                  )}\n                  {characterErrors.conclusion && (\n                    <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {characterErrors.conclusion}\n                    </p>\n                  )}\n                </div>\n              </div>\n\n              {/* Avatar Error Display */}\n              {avatarError && (\n                <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\n                  <div className=\"flex items-center gap-3\">\n                    <AlertCircle className=\"w-5 h-5 text-red-600\" />\n                    <div>\n                      <h3 className=\"text-red-800 font-semibold\">Avatar Selection Error</h3>\n                      <p className=\"text-red-700 text-sm\">{avatarError}</p>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              <button\n                onClick={handleCreateVideo}\n                disabled={!isFormValid()}\n                className={`w-full bg-[#5046E5] text-white py-[11.4px] px-6 rounded-full font-semibold text-[20px] border-2 border-[#5046E5] transition-colors duration-300 ${\n                  !isFormValid()\n                    ? 'opacity-50 cursor-not-allowed'\n                    : 'hover:bg-transparent hover:text-[#5046E5] cursor-pointer'\n                }`}\n              >\n                Create Video\n              </button>\n            </>\n          )}\n\n          {/* Step 2: Loading */}\n          {currentStep === 'loading' && (\n            <div className=\"text-center py-12\">\n              <div className=\"mb-6\">\n                <h4 className=\"md:text-[32px] text-[24px] font-semibold text-[#282828] mb-4\">\n                  Video Generation Started!\n                </h4>\n                <p className=\"text-[#5F5F5F] text-lg mb-6\">\n                  Your video is being generated in the background. This typically takes 10-15 minutes.\n                </p>\n                <p className=\"text-[#5046E5] text-[18px] mb-4\">\n                  We will notify you when the video is ready.\n                </p>\n\n                {/* Countdown Message */}\n                <div className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                  <p className=\"text-[#5046E5] text-[16px] font-medium\">\n                    Redirecting to gallery in <span className=\"font-bold text-lg\">{countdown}</span> seconds...\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Step 3: Complete */}\n          {currentStep === 'complete' && (\n            <div className=\"space-y-6\">\n              {videoData ? (\n                <>\n                  {/* Video Preview */}\n                  <div className=\"relative mt-7 h-[420px] w-full aspect-video bg-gray-100 rounded-[8px] overflow-hidden\">\n                    <video\n                      src={videoData?.youtubeUrl || ''}\n                      title={videoData?.title || 'Video'}\n                      className=\"w-full h-full rounded-[8px] object-contain cursor-pointer\"\n                      controls\n                      preload=\"metadata\"\n                      poster={videoData.thumbnail}\n                    >\n                      Your browser does not support the video tag.\n                    </video>\n                  </div>\n                </>\n              ) : (\n                <>\n\n                  {/* Video Preview */}\n                  <div className=\"relative mt-7 h-[420px] w-full aspect-video bg-gray-100 rounded-[8px] overflow-hidden\">\n                    <div className=\"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center\">\n                      <Image src=\"/images/modal-image.png\" alt=\"Video Preview\" width={1000} height={1000} className='w-full h-full object-cover' />\n                    </div>\n                  </div>\n                </>\n              )}\n\n            <a\n              href={downloadUrl || '#'}\n              download={downloadUrl ? `${videoData?.title || 'video'}.mp4` : undefined}\n              className={`w-full bg-[#5046E5] text-white py-[11.4px] px-6 rounded-full font-semibold text-[20px] border-2 border-[#5046E5] transition-colors duration-300 flex items-center justify-center gap-2 no-underline ${isDownloading\n                ? 'opacity-50 cursor-not-allowed'\n                : 'hover:bg-transparent hover:text-[#5046E5] cursor-pointer'\n                }`}\n              onClick={handleDownloadClick}\n              style={{ pointerEvents: downloadUrl ? 'auto' : 'none' }}\n            >\n              {isDownloading ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\n                  Downloading...\n                </>\n              ) : (\n                'Download'\n              )}\n            </a>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 11667, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/hybrid-topic-input.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect, useRef } from 'react'\nimport { IoMdArrowDropdown } from \"react-icons/io\"\nimport { Check, AlertCircle } from 'lucide-react'\nimport { Trend } from '@/lib/api-service'\n\ninterface HybridTopicInputProps {\n  field: string\n  placeholder: string\n  currentValue: string\n  selectedTrend: Trend | undefined\n  isOpen: boolean\n  hasError: any\n  trendsLoading: boolean\n  trendsError: string | null\n  safeTrends: Trend[]\n  onToggle: (field: any) => void\n  onSelect: (field: any, value: string) => void\n  onBlur: (field: any) => void\n  onRetry: () => void\n  onCustomTopicClick?: () => void\n}\n\nexport default function HybridTopicInput({\n  field,\n  placeholder,\n  currentValue,\n  selectedTrend,\n  isOpen,\n  hasError,\n  trendsLoading,\n  trendsError,\n  safeTrends,\n  onToggle,\n  onSelect,\n  onBlur,\n  onRetry,\n  onCustomTopicClick\n}: HybridTopicInputProps) {\n  const [inputValue, setInputValue] = useState(currentValue || '')\n  const [filteredTrends, setFilteredTrends] = useState<Trend[]>([])\n  const inputRef = useRef<HTMLInputElement>(null)\n  const dropdownRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    setInputValue(currentValue || '')\n  }, [currentValue])\n\n  useEffect(() => {\n    // Always show all trends - no filtering based on input\n    setFilteredTrends(safeTrends)\n  }, [safeTrends])\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    // Disable manual input - only allow dropdown selection\n    e.preventDefault()\n    return\n  }\n\n  const handleInputFocus = () => {\n    onToggle(field)\n  }\n\n  const handleInputBlur = () => {\n    setTimeout(() => {\n      if (!dropdownRef.current?.contains(document.activeElement)) {\n        onBlur(field)\n      }\n    }, 200)\n  }\n\n  const handleToggle = () => {\n    onToggle(field)\n  }\n\n  const handleTrendSelect = (trend: Trend) => {\n    setInputValue(trend.description)\n    onSelect(field, trend.description)\n  }\n\n\n  const isCustomInput = selectedTrend === undefined && currentValue && currentValue.trim()\n  \n  const hasValidSelection = currentValue && currentValue.trim()\n\n  const wordCount = (inputValue || '').trim().split(/\\s+/).filter(Boolean).length\n  const isShortContent = wordCount <=3\n\n  return (\n    <div className=\"relative\" ref={dropdownRef}>\n      <div className=\"relative\">\n        <input\n          ref={inputRef}\n          type=\"text\"\n          value={inputValue}\n          onChange={handleInputChange}\n          onFocus={handleInputFocus}\n          onBlur={handleInputBlur}\n          placeholder={placeholder}\n          readOnly\n          className={`w-full px-4 ${isShortContent ? 'text-[18px] py-[10.5px]' : 'text-[14px] py-[13.5px]'} font-normal bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-left transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white cursor-pointer ${hasError ? 'ring-2 ring-red-500' : ''} ${hasValidSelection ? 'text-gray-800' : 'text-[#11101066]'} ${isCustomInput ? 'bg-[#F5F5F5]' : ''}`}\n          aria-describedby={hasError ? `${field}-error` : undefined}\n        />\n        <button\n          type=\"button\"\n          onClick={handleToggle}\n          className=\"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 hover:bg-gray-100 rounded transition-colors\"\n        >\n          <IoMdArrowDropdown \n            className={`w-4 h-4 transition-transform text-black duration-300 ${isOpen ? 'rotate-180' : ''}`} \n          />\n        </button>\n      </div>\n\n      {isOpen && (\n        <div className=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-[8px] shadow-lg max-h-60 overflow-y-auto\">\n          {trendsLoading ? (\n            <div className=\"px-4 py-3 text-center text-gray-500\">\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-[#5046E5] mx-auto mb-2\"></div>\n              Loading trends...\n            </div>\n          ) : trendsError && safeTrends.length === 0 ? (\n            <div className=\"px-4 py-3 text-center text-red-500\">\n              <p className=\"text-sm\">{trendsError}</p>\n              <button\n                type=\"button\"\n                onClick={onRetry}\n                className=\"mt-2 px-3 py-1 text-xs bg-[#5046E5] text-white rounded hover:bg-[#4338CA] transition-colors\"\n              >\n                Retry\n              </button>\n            </div>\n          ) : (\n            <>\n              {/* Custom Topic Button */}\n              {onCustomTopicClick && (\n                <button\n                  type=\"button\"\n                  onClick={onCustomTopicClick}\n                  className=\"w-full px-4 py-3 text-left hover:bg-[#F5F5F5] transition-colors duration-200 flex items-center justify-between text-[#282828] cursor-pointer border-b border-gray-100 bg-green-50\"\n                >\n                  <div className=\"flex items-normal flex-1\">\n                    <span className=\"w-4 h-4 text-green-600 mr-2 flex-shrink-0 text-lg font-bold\">+</span>\n                    <div className=\"flex-1\">\n                      <div className=\"text-sm font-medium text-green-800 mb-1\">\n                        Add Custom Topic\n                      </div>\n                      <div className=\"text-xs text-green-600\">\n                        Create your own topic field\n                      </div>\n                    </div>\n                  </div>\n                  <Check className=\"w-4 h-4 text-green-600 mt-1 flex-shrink-0\" />\n                </button>\n              )}\n\n              {/* All Trends - Always show all options */}\n              {filteredTrends.length > 0 ? (\n                filteredTrends.map((trend, index) => (\n                  <button\n                    key={index}\n                    type=\"button\"\n                    onClick={() => handleTrendSelect(trend)}\n                    className=\"w-full px-4 py-3 text-left hover:bg-[#F5F5F5] transition-colors duration-200 flex items-start justify-between text-[#282828] cursor-pointer border-b border-gray-100 last:border-b-0\"\n                  >\n                    <div className=\"flex-1\">\n                      <div className=\"text-sm font-medium text-gray-800 mb-1\">\n                        {trend.description}\n                      </div>\n                      <div className=\"text-xs text-gray-500\">\n                        Key Points: {trend.keypoints}\n                      </div>\n                    </div>\n                    {currentValue === trend.description && (\n                      <Check className=\"w-4 h-4 text-[#5046E5] mt-1 flex-shrink-0\" />\n                    )}\n                  </button>\n                ))\n              ) : (\n                <div className=\"px-4 py-3 text-center text-gray-500\">\n                  <p className=\"text-sm\">No trends available</p>\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      )}\n\n      {hasError && (\n        <p id={`${field}-error`} className=\"text-red-500 text-sm mt-1 flex items-center gap-1\" role=\"alert\">\n          <AlertCircle className=\"w-4 h-4\" />\n          {hasError.message}\n        </p>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 11984, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/form-input.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { AlertCircle } from 'lucide-react'\nimport { UseFormRegister, FieldErrors, FieldError } from 'react-hook-form'\n\ninterface FormInputProps {\n  field: string\n  placeholder: string\n  type?: string\n  autoComplete?: string\n  register: UseFormRegister<any>\n  errors: FieldErrors<any>\n  disabled?: boolean\n  onBlur?: (value: string) => void\n  onChange?: () => void\n}\n\nexport default function FormInput({\n  field,\n  placeholder,\n  type = 'text',\n  autoComplete,\n  register,\n  errors,\n  disabled = false,\n  onBlur,\n  onChange\n}: FormInputProps) {\n  const error = errors[field] as FieldError | undefined\n  const { onChange: registerOnChange, ...registerProps } = register(field)\n\n  return (\n    <div className=\"relative\">\n      <input\n        {...registerProps}\n        type={type}\n        placeholder={placeholder}\n        autoComplete={autoComplete}\n        disabled={disabled}\n        onChange={(e) => {\n          registerOnChange(e)\n          if (onChange) {\n            onChange()\n          }\n        }}\n        onBlur={(e) => {\n          if (onBlur) {\n            onBlur(e.target.value)\n          }\n        }}\n        aria-describedby={error ? `${field}-error` : undefined}\n        aria-invalid={error ? 'true' : 'false'}\n        className={`w-full px-4 py-[10.5px] text-[18px] font-normal placeholder:text-[#11101066] border-0 rounded-[8px] text-gray-800 transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white\n        ${error ? 'ring-2 ring-red-500' : ''}\n        ${disabled\n          ? 'bg-gray-100 text-gray-600 cursor-not-allowed'\n          : 'bg-[#EEEEEE] hover:bg-[#F5F5F5]'\n        }`}\n      />\n      {error?.message && (\n        <p\n          id={`${field}-error`}\n          className=\"text-red-500 text-sm mt-1 flex items-center gap-1\"\n          role=\"alert\"\n        >\n          <AlertCircle className=\"w-4 h-4\" />\n          {typeof error.message === 'string' ? error.message : String(error.message)}\n        </p>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAkBe,SAAS,UAAU,EAChC,KAAK,EACL,WAAW,EACX,OAAO,MAAM,EACb,YAAY,EACZ,QAAQ,EACR,MAAM,EACN,WAAW,KAAK,EAChB,MAAM,EACN,QAAQ,EACO;IACf,MAAM,QAAQ,MAAM,CAAC,MAAM;IAC3B,MAAM,EAAE,UAAU,gBAAgB,EAAE,GAAG,eAAe,GAAG,SAAS;IAElE,qBACE,iNAAC;QAAI,WAAU;;0BACb,iNAAC;gBACE,GAAG,aAAa;gBACjB,MAAM;gBACN,aAAa;gBACb,cAAc;gBACd,UAAU;gBACV,UAAU,CAAC;oBACT,iBAAiB;oBACjB,IAAI,UAAU;wBACZ;oBACF;gBACF;gBACA,QAAQ,CAAC;oBACP,IAAI,QAAQ;wBACV,OAAO,EAAE,MAAM,CAAC,KAAK;oBACvB;gBACF;gBACA,oBAAkB,QAAQ,GAAG,MAAM,MAAM,CAAC,GAAG;gBAC7C,gBAAc,QAAQ,SAAS;gBAC/B,WAAW,CAAC;QACZ,EAAE,QAAQ,wBAAwB,GAAG;QACrC,EAAE,WACE,iDACA,mCACF;;;;;;YAEH,OAAO,yBACN,iNAAC;gBACC,IAAI,GAAG,MAAM,MAAM,CAAC;gBACpB,WAAU;gBACV,MAAK;;kCAEL,iNAAC,0PAAW;wBAAC,WAAU;;;;;;oBACtB,OAAO,MAAM,OAAO,KAAK,WAAW,MAAM,OAAO,GAAG,OAAO,MAAM,OAAO;;;;;;;;;;;;;AAKnF;KAtDwB"}},
    {"offset": {"line": 12062, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/form-header.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { Clock } from 'lucide-react'\nimport { API_CONFIG, getApiUrl, getAuthenticatedHeaders } from '@/lib/config'\n\ninterface FormHeaderProps {\n  title: string\n  onSchedulePost?: () => void\n  userEmail?: string\n  isScheduleMode?: boolean\n  onToggleScheduleMode?: () => void\n}\n\nexport default function FormHeader({ title, onSchedulePost, userEmail, isScheduleMode, onToggleScheduleMode }: FormHeaderProps) {\n  const [hasUserSettings, setHasUserSettings] = useState(false)\n  const [checkingSettings, setCheckingSettings] = useState(false)\n\n  // Check if user has saved settings\n  useEffect(() => {\n    const checkUserSettings = async () => {\n      if (!userEmail) return\n\n      setCheckingSettings(true)\n      try {\n        const response = await fetch(\n          `${getApiUrl(API_CONFIG.ENDPOINTS.USER_SETTINGS)}?email=${userEmail}`,\n          {\n            method: 'GET',\n            headers: getAuthenticatedHeaders()\n          }\n        )\n\n        if (response.ok) {\n          const userSettings = await response.json()\n          // Check if user has any meaningful settings data\n          const hasData = userSettings.success && userSettings.data && (\n            userSettings.data.name ||\n            userSettings.data.position ||\n            userSettings.data.companyName ||\n            userSettings.data.avatar ||\n            userSettings.data.prompt\n          )\n          setHasUserSettings(hasData)\n        } else {\n          setHasUserSettings(false)\n        }\n      } catch (error) {\n        console.error('Error checking user settings:', error)\n        setHasUserSettings(false)\n      } finally {\n        setCheckingSettings(false)\n      }\n    }\n\n    checkUserSettings()\n  }, [userEmail])\n\n  return (\n    <div className=\"flex items-center md:flex-row flex-col gap-y-6 md:justify-between justify-start mb-10\">\n      <h2 className=\"text-2xl md:text-[32px] font-semibold text-[#282828]\">\n        {title}\n      </h2>\n      {hasUserSettings && onToggleScheduleMode && (\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-[#5046E5] font-bold\" style={{ fontSize: '20px' }}>Schedule Post</span>\n          <label className='flex cursor-pointer select-none items-center'>\n            <div className='relative'>\n              <input\n                type='checkbox'\n                checked={isScheduleMode}\n                onChange={onToggleScheduleMode}\n                className='sr-only'\n              />\n              <div \n                className='block h-8 w-14 rounded-full transition-colors'\n                style={{\n                  backgroundColor: isScheduleMode ? '#5046E5' : '#E5E7EB'\n                }}\n              ></div>\n              <div \n                className='dot absolute left-1 top-1 h-6 w-6 rounded-full bg-white transition'\n                style={{\n                  transform: isScheduleMode ? 'translateX(24px)' : 'translateX(0px)'\n                }}\n              ></div>\n            </div>\n          </label>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;;;AAJA;;;AAce,SAAS,WAAW,EAAE,KAAK,EAAE,cAAc,EAAE,SAAS,EAAE,cAAc,EAAE,oBAAoB,EAAmB;;IAC5H,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,6LAAQ,EAAC;IACvD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,6LAAQ,EAAC;IAEzD,mCAAmC;IACnC,IAAA,8LAAS;gCAAC;YACR,MAAM;0DAAoB;oBACxB,IAAI,CAAC,WAAW;oBAEhB,oBAAoB;oBACpB,IAAI;wBACF,MAAM,WAAW,MAAM,MACrB,GAAG,IAAA,wJAAS,EAAC,yJAAU,CAAC,SAAS,CAAC,aAAa,EAAE,OAAO,EAAE,WAAW,EACrE;4BACE,QAAQ;4BACR,SAAS,IAAA,sKAAuB;wBAClC;wBAGF,IAAI,SAAS,EAAE,EAAE;4BACf,MAAM,eAAe,MAAM,SAAS,IAAI;4BACxC,iDAAiD;4BACjD,MAAM,UAAU,aAAa,OAAO,IAAI,aAAa,IAAI,IAAI,CAC3D,aAAa,IAAI,CAAC,IAAI,IACtB,aAAa,IAAI,CAAC,QAAQ,IAC1B,aAAa,IAAI,CAAC,WAAW,IAC7B,aAAa,IAAI,CAAC,MAAM,IACxB,aAAa,IAAI,CAAC,MAAM,AAC1B;4BACA,mBAAmB;wBACrB,OAAO;4BACL,mBAAmB;wBACrB;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,iCAAiC;wBAC/C,mBAAmB;oBACrB,SAAU;wBACR,oBAAoB;oBACtB;gBACF;;YAEA;QACF;+BAAG;QAAC;KAAU;IAEd,qBACE,iNAAC;QAAI,WAAU;;0BACb,iNAAC;gBAAG,WAAU;0BACX;;;;;;YAEF,mBAAmB,sCAClB,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAK,WAAU;wBAA2B,OAAO;4BAAE,UAAU;wBAAO;kCAAG;;;;;;kCACxE,iNAAC;wBAAM,WAAU;kCACf,cAAA,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;oCACC,MAAK;oCACL,SAAS;oCACT,UAAU;oCACV,WAAU;;;;;;8CAEZ,iNAAC;oCACC,WAAU;oCACV,OAAO;wCACL,iBAAiB,iBAAiB,YAAY;oCAChD;;;;;;8CAEF,iNAAC;oCACC,WAAU;oCACV,OAAO;wCACL,WAAW,iBAAiB,qBAAqB;oCACnD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhB;GA9EwB;KAAA"}},
    {"offset": {"line": 12206, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/form-field.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { UseFormRegister, FieldErrors } from 'react-hook-form'\nimport FormInput from './form-input'\n\ninterface FormFieldProps {\n  field: string\n  label: string\n  placeholder: string\n  type?: string\n  autoComplete?: string\n  required?: boolean\n  register: UseFormRegister<any>\n  errors: FieldErrors<any>\n  disabled?: boolean\n  onBlur?: (value: string) => void\n}\n\nexport default function FormField({\n  field,\n  label,\n  placeholder,\n  type = 'text',\n  autoComplete,\n  required = false,\n  register,\n  errors,\n  disabled = false,\n  onBlur\n}: FormFieldProps) {\n  return (\n    <div>\n      <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">\n        {label} {required && <span className=\"text-red-500\">*</span>}\n      </label>\n      <FormInput\n        field={field}\n        placeholder={placeholder}\n        type={type}\n        autoComplete={autoComplete}\n        register={register}\n        errors={errors}\n        disabled={disabled}\n        onBlur={onBlur}\n      />\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AAJA;;;AAmBe,SAAS,UAAU,EAChC,KAAK,EACL,KAAK,EACL,WAAW,EACX,OAAO,MAAM,EACb,YAAY,EACZ,WAAW,KAAK,EAChB,QAAQ,EACR,MAAM,EACN,WAAW,KAAK,EAChB,MAAM,EACS;IACf,qBACE,iNAAC;;0BACC,iNAAC;gBAAM,WAAU;;oBACd;oBAAM;oBAAE,0BAAY,iNAAC;wBAAK,WAAU;kCAAe;;;;;;;;;;;;0BAEtD,iNAAC,2KAAS;gBACR,OAAO;gBACP,aAAa;gBACb,MAAM;gBACN,cAAc;gBACd,UAAU;gBACV,QAAQ;gBACR,UAAU;gBACV,QAAQ;;;;;;;;;;;;AAIhB;KA7BwB"}},
    {"offset": {"line": 12268, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/form-field-row.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { UseFormRegister, FieldErrors, UseFormWatch, UseFormTrigger } from 'react-hook-form'\nimport FormField from './form-field'\nimport FormDropdown from './form-dropdown'\n\ninterface FormFieldData {\n  field: string\n  label: string\n  placeholder: string\n  type?: string\n  autoComplete?: string\n  required?: boolean\n  disabled?: boolean\n  options?: { value: string; label: string }[]\n}\n\ninterface FormFieldRowProps {\n  fields: FormFieldData[]\n  register: UseFormRegister<any>\n  errors: FieldErrors<any>\n  columns?: '1' | '2' | '3' | '4'\n  onCityBlur?: (city: string) => void\n  watch?: UseFormWatch<any>\n  trigger?: UseFormTrigger<any>\n  openDropdown?: string | null\n  onDropdownToggle?: (field: string) => void\n  onDropdownSelect?: (field: string, value: string) => void\n}\n\nexport default function FormFieldRow({ \n  fields, \n  register, \n  errors, \n  columns = '4',\n  onCityBlur,\n  watch,\n  trigger,\n  openDropdown,\n  onDropdownToggle,\n  onDropdownSelect\n}: FormFieldRowProps) {\n  const getGridCols = () => {\n    switch (columns) {\n      case '1': return 'grid-cols-1'\n      case '2': return 'grid-cols-1 sm:grid-cols-2'\n      case '3': return 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-3'\n      case '4': return 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-4'\n      default: return 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-4'\n    }\n  }\n\n  return (\n    <div className={`grid ${getGridCols()} gap-4`}>\n      {fields.map((fieldData) => {\n        // Render dropdown if field has options or type is 'dropdown'\n        if (fieldData.type === 'dropdown' || fieldData.options) {\n          if (!watch || !trigger || !onDropdownToggle || !onDropdownSelect) {\n            console.warn(`Dropdown field \"${fieldData.field}\" requires watch, trigger, onDropdownToggle, and onDropdownSelect props`)\n            return null\n          }\n          \n          const currentValue = watch(fieldData.field) || ''\n          const isOpen = openDropdown === fieldData.field\n          const hasError = errors[fieldData.field]\n          \n          return (\n            <div key={fieldData.field}>\n              <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">\n                {fieldData.label} {fieldData.required && <span className=\"text-red-500\">*</span>}\n              </label>\n              <FormDropdown\n                field={fieldData.field}\n                options={fieldData.options || []}\n                placeholder={fieldData.placeholder}\n                currentValue={currentValue}\n                isOpen={isOpen}\n                hasError={hasError}\n                register={register}\n                errors={errors}\n                onToggle={(field) => onDropdownToggle?.(String(field))}\n                onSelect={(field, value) => onDropdownSelect?.(String(field), value)}\n                onBlur={() => {}}\n              />\n            </div>\n          )\n        }\n        \n        // Render regular input field\n        return (\n          <FormField\n            key={fieldData.field}\n            field={fieldData.field}\n            label={fieldData.label}\n            placeholder={fieldData.placeholder}\n            type={fieldData.type}\n            autoComplete={fieldData.autoComplete}\n            required={fieldData.required}\n            register={register}\n            errors={errors}\n            disabled={fieldData.disabled}\n            onBlur={fieldData.field === 'city' ? onCityBlur : undefined}\n          />\n        )\n      })}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AALA;;;;AA+Be,SAAS,aAAa,EACnC,MAAM,EACN,QAAQ,EACR,MAAM,EACN,UAAU,GAAG,EACb,UAAU,EACV,KAAK,EACL,OAAO,EACP,YAAY,EACZ,gBAAgB,EAChB,gBAAgB,EACE;IAClB,MAAM,cAAc;QAClB,OAAQ;YACN,KAAK;gBAAK,OAAO;YACjB,KAAK;gBAAK,OAAO;YACjB,KAAK;gBAAK,OAAO;YACjB,KAAK;gBAAK,OAAO;YACjB;gBAAS,OAAO;QAClB;IACF;IAEA,qBACE,iNAAC;QAAI,WAAW,CAAC,KAAK,EAAE,cAAc,MAAM,CAAC;kBAC1C,OAAO,GAAG,CAAC,CAAC;YACX,6DAA6D;YAC7D,IAAI,UAAU,IAAI,KAAK,cAAc,UAAU,OAAO,EAAE;gBACtD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,oBAAoB,CAAC,kBAAkB;oBAChE,QAAQ,IAAI,CAAC,CAAC,gBAAgB,EAAE,UAAU,KAAK,CAAC,uEAAuE,CAAC;oBACxH,OAAO;gBACT;gBAEA,MAAM,eAAe,MAAM,UAAU,KAAK,KAAK;gBAC/C,MAAM,SAAS,iBAAiB,UAAU,KAAK;gBAC/C,MAAM,WAAW,MAAM,CAAC,UAAU,KAAK,CAAC;gBAExC,qBACE,iNAAC;;sCACC,iNAAC;4BAAM,WAAU;;gCACd,UAAU,KAAK;gCAAC;gCAAE,UAAU,QAAQ,kBAAI,iNAAC;oCAAK,WAAU;8CAAe;;;;;;;;;;;;sCAE1E,iNAAC,8KAAY;4BACX,OAAO,UAAU,KAAK;4BACtB,SAAS,UAAU,OAAO,IAAI,EAAE;4BAChC,aAAa,UAAU,WAAW;4BAClC,cAAc;4BACd,QAAQ;4BACR,UAAU;4BACV,UAAU;4BACV,QAAQ;4BACR,UAAU,CAAC,QAAU,mBAAmB,OAAO;4BAC/C,UAAU,CAAC,OAAO,QAAU,mBAAmB,OAAO,QAAQ;4BAC9D,QAAQ,KAAO;;;;;;;mBAfT,UAAU,KAAK;;;;;YAmB7B;YAEA,6BAA6B;YAC7B,qBACE,iNAAC,2KAAS;gBAER,OAAO,UAAU,KAAK;gBACtB,OAAO,UAAU,KAAK;gBACtB,aAAa,UAAU,WAAW;gBAClC,MAAM,UAAU,IAAI;gBACpB,cAAc,UAAU,YAAY;gBACpC,UAAU,UAAU,QAAQ;gBAC5B,UAAU;gBACV,QAAQ;gBACR,UAAU,UAAU,QAAQ;gBAC5B,QAAQ,UAAU,KAAK,KAAK,SAAS,aAAa;eAV7C,UAAU,KAAK;;;;;QAa1B;;;;;;AAGN;KA7EwB"}},
    {"offset": {"line": 12385, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/submit-button.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\n\ninterface SubmitButtonProps {\n  isLoading: boolean\n  disabled?: boolean\n  loadingText?: string\n  buttonText?: string\n  className?: string\n  onClick?: () => void\n}\n\nexport default function SubmitButton({\n  isLoading,\n  disabled = false,\n  loadingText = 'Creating Video...',\n  buttonText = 'Submit',\n  className = '',\n  onClick\n}: SubmitButtonProps) {\n  return (\n    <div className=\"flex justify-center pt-4\">\n      <button\n        type={onClick ? \"button\" : \"submit\"}\n        onClick={onClick}\n        disabled={isLoading || disabled}\n        className={`w-full max-w-full px-8 py-[12.4px] bg-[#5046E5] text-white rounded-full font-semibold text-lg hover:bg-transparent hover:text-[#5046E5] border-2 border-[#5046E5] transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-[#5046E5]/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 cursor-pointer ${className}`}\n      >\n        {isLoading ? (\n          <>\n            <svg className=\"animate-spin h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n            {loadingText}\n          </>\n        ) : (\n          buttonText\n        )}\n      </button>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAae,SAAS,aAAa,EACnC,SAAS,EACT,WAAW,KAAK,EAChB,cAAc,mBAAmB,EACjC,aAAa,QAAQ,EACrB,YAAY,EAAE,EACd,OAAO,EACW;IAClB,qBACE,iNAAC;QAAI,WAAU;kBACb,cAAA,iNAAC;YACC,MAAM,UAAU,WAAW;YAC3B,SAAS;YACT,UAAU,aAAa;YACvB,WAAW,CAAC,4VAA4V,EAAE,WAAW;sBAEpX,0BACC;;kCACE,iNAAC;wBAAI,WAAU;wBAAuB,OAAM;wBAA6B,MAAK;wBAAO,SAAQ;;0CAC3F,iNAAC;gCAAO,WAAU;gCAAa,IAAG;gCAAK,IAAG;gCAAK,GAAE;gCAAK,QAAO;gCAAe,aAAY;;;;;;0CACxF,iNAAC;gCAAK,WAAU;gCAAa,MAAK;gCAAe,GAAE;;;;;;;;;;;;oBAEpD;;+BAGH;;;;;;;;;;;AAKV;KA9BwB"}},
    {"offset": {"line": 12459, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/schedule-info-banner.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { Info } from 'lucide-react'\n\ninterface ScheduleInfoBannerProps {\n    className?: string\n    startDate?: string | null\n}\n\nexport default function ScheduleInfoBanner({ className = '', startDate }: ScheduleInfoBannerProps) {\n    // Use the provided startDate or calculate next month's date\n    const displayDate = startDate || (() => {\n        const today = new Date()\n        const currentDay = today.getDate()\n        const currentMonth = today.getMonth()\n        const currentYear = today.getFullYear()\n        \n        // Get the last day of next month\n        const nextMonth = new Date(currentYear, currentMonth + 1, 0)\n        const lastDayOfNextMonth = nextMonth.getDate()\n        \n        // Use the same day if it exists, otherwise use the last day of next month\n        const targetDay = Math.min(currentDay, lastDayOfNextMonth)\n        \n        const nextMonthDate = new Date(currentYear, currentMonth + 1, targetDay)\n\n        // Format as DD-MMM-YYYY (e.g., \"07-NOV-2025\")\n        const day = nextMonthDate.getDate().toString().padStart(2, '0')\n        const monthNames = ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN',\n            'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC']\n        const month = monthNames[nextMonthDate.getMonth()]\n        const year = nextMonthDate.getFullYear()\n\n        return `${day}-${month}-${year}`\n    })()\n\n    return (\n        <div className={`rounded-lg p-4 flex items-start gap-3 ${className}`} style={{ backgroundColor: '#EF99431A', borderColor: '#EF9943', borderWidth: '1px', borderStyle: 'solid' }}>\n            <div className=\"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\" style={{ backgroundColor: '#EF99431A' }}>\n                <Info className=\"w-4 h-4\" style={{ color: '#EF9943' }} />\n            </div>\n            <p className=\"text-sm\" style={{ color: '#EF9943' }}>\n                These posts will be scheduled for whole month and this schedule will starts from {displayDate}.\n            </p>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAUe,SAAS,mBAAmB,EAAE,YAAY,EAAE,EAAE,SAAS,EAA2B;IAC7F,4DAA4D;IAC5D,MAAM,cAAc,aAAa,CAAC;QAC9B,MAAM,QAAQ,IAAI;QAClB,MAAM,aAAa,MAAM,OAAO;QAChC,MAAM,eAAe,MAAM,QAAQ;QACnC,MAAM,cAAc,MAAM,WAAW;QAErC,iCAAiC;QACjC,MAAM,YAAY,IAAI,KAAK,aAAa,eAAe,GAAG;QAC1D,MAAM,qBAAqB,UAAU,OAAO;QAE5C,0EAA0E;QAC1E,MAAM,YAAY,KAAK,GAAG,CAAC,YAAY;QAEvC,MAAM,gBAAgB,IAAI,KAAK,aAAa,eAAe,GAAG;QAE9D,8CAA8C;QAC9C,MAAM,MAAM,cAAc,OAAO,GAAG,QAAQ,GAAG,QAAQ,CAAC,GAAG;QAC3D,MAAM,aAAa;YAAC;YAAO;YAAO;YAAO;YAAO;YAAO;YACnD;YAAO;YAAO;YAAO;YAAO;YAAO;SAAM;QAC7C,MAAM,QAAQ,UAAU,CAAC,cAAc,QAAQ,GAAG;QAClD,MAAM,OAAO,cAAc,WAAW;QAEtC,OAAO,GAAG,IAAI,CAAC,EAAE,MAAM,CAAC,EAAE,MAAM;IACpC,CAAC;IAED,qBACI,iNAAC;QAAI,WAAW,CAAC,sCAAsC,EAAE,WAAW;QAAE,OAAO;YAAE,iBAAiB;YAAa,aAAa;YAAW,aAAa;YAAO,aAAa;QAAQ;;0BAC1K,iNAAC;gBAAI,WAAU;gBAA6E,OAAO;oBAAE,iBAAiB;gBAAY;0BAC9H,cAAA,iNAAC,iOAAI;oBAAC,WAAU;oBAAU,OAAO;wBAAE,OAAO;oBAAU;;;;;;;;;;;0BAExD,iNAAC;gBAAE,WAAU;gBAAU,OAAO;oBAAE,OAAO;gBAAU;;oBAAG;oBACkC;oBAAY;;;;;;;;;;;;;AAI9G;KArCwB"}},
    {"offset": {"line": 12562, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/schedule-post-modal.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useCallback } from 'react'\nimport { X, AlertCircle, Info } from 'lucide-react'\nimport { useScheduleValidation } from '@/hooks/useScheduleValidation'\nimport { type ScheduleData } from '@/types/post-types'\nimport ScheduleInfoBanner from './schedule-info-banner'\nimport SubmitButton from './submit-button'\n\ninterface SchedulePostModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onNext: (scheduleData: ScheduleData) => void\n  title?: string\n}\n\nconst frequencyOptions = [\n  'Once a Week',\n  'Twice a Week',\n  'Three Times a Week',\n  'Daily',\n]\n\nconst dayOptions = [\n  'Monday',\n  'Tuesday', \n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday',\n  'Sunday'\n]\n\nexport default function SchedulePostModal({ isOpen, onClose, onNext, title = \"Schedule Post\" }: SchedulePostModalProps) {\n  const [frequency, setFrequency] = useState('Twice a Week')\n  const [posts, setPosts] = useState([\n    { day: '', date: '', time: '', _isNextWeek: false },\n    { day: '', date: '', time: '', _isNextWeek: false }\n  ])\n  const [showFrequencyDropdown, setShowFrequencyDropdown] = useState(false)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  \n  const hasSelectedDays = posts.some(post => post.day)\n  \n  const getEarliestDate = () => {\n    const validPosts = posts.filter(post => post.date)\n    if (validPosts.length === 0) return null\n    \n    const dates = validPosts.map(post => new Date(post.date))\n    const earliestDate = new Date(Math.min(...dates.map(date => date.getTime())))\n    \n    const day = earliestDate.getDate().toString().padStart(2, '0')\n    const monthNames = ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN',\n        'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC']\n    const month = monthNames[earliestDate.getMonth()]\n    const year = earliestDate.getFullYear()\n    \n    return `${day}-${month}-${year}`\n  }\n  \n  const startDate = getEarliestDate()\n  \n  const { \n    validateScheduleData, \n    clearValidationErrors, \n    getFieldError, \n    isFormComplete,\n    getValidationSummary,\n    hasErrors \n  } = useScheduleValidation()\n\n  const getPostCount = (frequency: string) => {\n    switch (frequency) {\n      case 'Once a Week':\n        return 1\n      case 'Twice a Week':\n        return 2\n      case 'Three Times a Week':\n        return 3\n      case 'Daily':\n        return 1\n      default:\n        return 1\n    }\n  }\n  React.useEffect(() => {\n    const newPostCount = getPostCount(frequency)\n    \n    if (frequency === 'Daily') {\n      setPosts(prevPosts => {\n        if (prevPosts.length !== 1) {\n          const existingPost = prevPosts[0] || { day: '', date: '', time: '', _isNextWeek: false }\n          return [{\n            day: '',\n            date: '',\n            time: existingPost.time || '',\n            _isNextWeek: false\n          }]\n        }\n        return prevPosts\n      })\n    } else {\n      setPosts(prevPosts => {\n        const newPosts = Array.from({ length: newPostCount }, (_, index) => \n          prevPosts[index] || { day: '', date: '', time: '', _isNextWeek: false }\n        )\n        return newPosts\n      })\n    }\n  }, [frequency])\n\n  const handlePostChange = (index: number, field: 'day' | 'date' | 'time', value: string) => {\n    const newPosts = [...posts]\n    newPosts[index][field] = value\n    \n    if (field === 'day' && value) {\n      const dayIndex = dayOptions.indexOf(value)\n      if (dayIndex !== -1) {\n        const today = new Date()\n        const currentDay = today.getDay()\n        const targetDay = dayIndex === 6 ? 0 : dayIndex + 1\n        \n        let daysUntilTarget = targetDay - currentDay\n        \n        // If the selected day is today or in the past, schedule for next week\n        if (daysUntilTarget <= 0) {\n          daysUntilTarget += 7\n        }\n        \n        const targetDate = new Date(today)\n        targetDate.setDate(today.getDate() + daysUntilTarget)\n        \n        newPosts[index].date = targetDate.toISOString().split('T')[0]\n        \n        // Check if this is next week (more than 7 days from today)\n        const daysDifference = Math.floor((targetDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24))\n        newPosts[index]._isNextWeek = daysDifference > 7\n        \n        if (newPosts[index].time) {\n          const selectedDay = newPosts[index].day\n          const currentDayName = dayOptions[today.getDay() === 0 ? 6 : today.getDay() - 1]\n          \n          if (selectedDay === currentDayName) {\n            // Get current local time\n            const currentTime = new Date()\n            const currentHour = currentTime.getHours()\n            const currentMinute = currentTime.getMinutes()\n            \n            // Parse selected time (local time)\n            const [selectedHour, selectedMinute] = newPosts[index].time.split(':').map(Number)\n            \n            // Create Date objects for comparison using local time\n            const selectedTime = new Date()\n            selectedTime.setHours(selectedHour, selectedMinute, 0, 0)\n            \n            const currentTimeMs = new Date()\n            currentTimeMs.setHours(currentHour, currentMinute, 0, 0)\n            const minAllowedTime = new Date(currentTimeMs.getTime() + 40 * 60 * 1000)\n            \n            // Check if selected time is 40+ minutes from current local time\n            if (selectedTime >= minAllowedTime) {\n              // Use today's date if time is 40+ minutes away\n              const todayDateStr = today.toISOString().split('T')[0]\n              newPosts[index].date = todayDateStr\n              newPosts[index]._isNextWeek = false\n              console.log('âœ… Setting date to today (day selected with existing time):', todayDateStr)\n            } else {\n              // Use next week's date if time is less than 40 minutes away\n              newPosts[index]._isNextWeek = true\n            }\n          }\n        }\n      }\n    }\n    \n    if (field === 'time' && value && newPosts[index].day) {\n      const selectedDay = newPosts[index].day\n      const today = new Date()\n      const currentDayName = dayOptions[today.getDay() === 0 ? 6 : today.getDay() - 1]\n      \n      if (selectedDay === currentDayName) {\n        // Get current local time\n        const currentTime = new Date()\n        const currentHour = currentTime.getHours()\n        const currentMinute = currentTime.getMinutes()\n        \n        // Parse selected time (local time)\n        const [selectedHour, selectedMinute] = value.split(':').map(Number)\n        \n        // Create Date objects for comparison using local time\n        const selectedTime = new Date()\n        selectedTime.setHours(selectedHour, selectedMinute, 0, 0)\n        \n        const currentTimeMs = new Date()\n        currentTimeMs.setHours(currentHour, currentMinute, 0, 0)\n        const minAllowedTime = new Date(currentTimeMs.getTime() + 40 * 60 * 1000)\n        \n        // Check if selected time is 40+ minutes from current local time\n        if (selectedTime >= minAllowedTime) {\n          // Use today's date if time is 40+ minutes away\n          const todayDateStr = today.toISOString().split('T')[0]\n          newPosts[index].date = todayDateStr\n          newPosts[index]._isNextWeek = false\n          console.log('âœ… Setting date to today:', todayDateStr, 'for time:', value, '(40+ min away)')\n        } else {\n          // Use next week's date if time is less than 40 minutes away\n          const currentDay = today.getDay()\n          const targetDay = dayOptions.indexOf(selectedDay) === 6 ? 0 : dayOptions.indexOf(selectedDay) + 1\n          let daysUntilTarget = targetDay - currentDay\n          if (daysUntilTarget <= 0) {\n            daysUntilTarget += 7\n          }\n          const targetDate = new Date(today)\n          targetDate.setDate(today.getDate() + daysUntilTarget)\n          newPosts[index].date = targetDate.toISOString().split('T')[0]\n          newPosts[index]._isNextWeek = true\n          console.log('âš ï¸ Setting date to next week:', targetDate.toISOString().split('T')[0], 'for time:', value, '(less than 40 min away)')\n        }\n      } else {\n        newPosts[index]._isNextWeek = false\n      }\n    }\n    \n    if (frequency === 'Daily' && field === 'day') {\n      newPosts.forEach((post, idx) => {\n        if (post.day) {\n          const dayIndex = dayOptions.indexOf(post.day)\n          if (dayIndex !== -1) {\n            const today = new Date()\n            const currentDay = today.getDay()\n            const targetDay = dayIndex === 6 ? 0 : dayIndex + 1\n            let daysUntilTarget = targetDay - currentDay\n            \n            // If the selected day is today or in the past, schedule for next week\n            if (daysUntilTarget <= 0) {\n              daysUntilTarget += 7\n            }\n            \n            const targetDate = new Date(today)\n            targetDate.setDate(today.getDate() + daysUntilTarget)\n            newPosts[idx].date = targetDate.toISOString().split('T')[0]\n            \n            // Check if this is next week (more than 7 days from today)\n            const daysDifference = Math.floor((targetDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24))\n            newPosts[idx]._isNextWeek = daysDifference > 7\n          }\n        }\n      })\n    }\n    if (field === 'day' && !value) {\n      newPosts[index].date = ''\n      newPosts[index]._isNextWeek = false\n    }\n    \n    setPosts(newPosts)\n    \n    if (value.trim() !== '') {\n      clearValidationErrors()\n    }\n  }\n\n  const handleClose = () => {\n    const resetFrequency = 'Once a Week'\n    const postCount = getPostCount(resetFrequency)\n    setFrequency(resetFrequency)\n    setPosts(\n      Array.from({ length: postCount }, () => ({\n        day: '',\n        date: '',\n        time: '',\n        _isNextWeek: false\n      }))\n    )\n    setShowFrequencyDropdown(false)\n    setIsSubmitting(false)\n    clearValidationErrors()\n    onClose()\n  }\n\n  const handleNext = async () => {\n    setIsSubmitting(true)\n    clearValidationErrors()\n    \n    const scheduleData: ScheduleData = {\n      frequency,\n      posts: frequency === 'Daily' \n        ? posts.filter(post => post.time && post.time.trim() !== '')\n        : posts.filter(post => (post.day || post.date) && post.time)\n    }\n    \n    const validation = validateScheduleData(scheduleData)\n    \n    if (!validation.isValid) {\n      setIsSubmitting(false)\n      return\n    }\n    \n    try {\n      await onNext(scheduleData)\n    } catch (error) {\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-500 bg-opacity-30 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <h2 className=\"text-2xl font-bold text-gray-800\">{title}</h2>\n          <button\n            onClick={handleClose}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        <div className=\"p-6 space-y-6\">\n          {hasSelectedDays && <ScheduleInfoBanner startDate={startDate} />}\n          <div className=\"space-y-3\">\n            <label className=\"block text-sm font-medium text-gray-700\">\n              Frequency of Posting\n            </label>\n            <div className=\"relative\">\n              <button\n                type=\"button\"\n                onClick={() => setShowFrequencyDropdown(!showFrequencyDropdown)}\n                className=\"w-full px-4 !py-3 bg-gray-100 hover:bg-gray-200 border-0 rounded-lg text-left transition-colors duration-200 flex items-center justify-between cursor-pointer\"\n              >\n                <span className=\"text-gray-800\">{frequency}</span>\n                <svg\n                  className={`w-4 h-4 transition-transform duration-200 ${showFrequencyDropdown ? 'rotate-180' : ''}`}\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n              </button>\n\n              {showFrequencyDropdown && (\n                <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg\">\n                  {frequencyOptions.map((option) => (\n                    <button\n                      key={option}\n                      type=\"button\"\n                      onClick={() => {\n                        setFrequency(option)\n                        setShowFrequencyDropdown(false)\n                      }}\n                      className=\"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center justify-between text-gray-800 cursor-pointer border-b border-gray-100 last:border-b-0\"\n                    >\n                      <span>{option}</span>\n                      {frequency === option && (\n                        <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\n                      )}\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div>\n              <h3 className=\"text-sm font-medium text-gray-700 mb-3\">\n                {frequency === 'Daily' \n                  ? `Select Time for Daily Posts`\n                  : `Select Date & Time for each post (${posts.length} ${posts.length === 1 ? 'post' : 'posts'})`\n                }\n              </h3>\n              <div className=\"w-full h-px bg-gray-200\"></div>\n            </div>\n\n            {posts.map((post, index) => (\n              <div key={index}>\n              <div className={`grid gap-4 ${\n                frequency === 'Daily' \n                  ? 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-3' \n                  : posts.length > 4 \n                    ? 'grid-cols-1 lg:grid-cols-2' \n                    : 'grid-cols-1 sm:grid-cols-2'\n              }`}>\n                {frequency !== 'Daily' && (\n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      Day {index + 1}\n                    </label>\n                    <div className=\"relative\">\n                      {(frequency === 'Once a Week' || frequency === 'Twice a Week' || frequency === 'Three Times a Week') ? (\n                        <select\n                          value={post.day}\n                          onChange={(e) => handlePostChange(index, 'day', e.target.value)}\n                          className={`w-full px-4 !py-3 bg-gray-100 hover:bg-gray-200 border-0 rounded-lg text-gray-800 transition-colors duration-200 focus:outline-none focus:ring-2 ${\n                            getFieldError(`day_${index}`) ? 'focus:ring-red-500 border-red-300 ring-2 ring-red-200' : 'focus:ring-blue-500'\n                          }`}\n                        >\n                          <option value=\"\">Select Day</option>\n                          {dayOptions.map((day) => {\n                            const isDaySelected = posts.some((otherPost, otherIndex) => \n                              otherIndex !== index && otherPost.day === day\n                            )\n                            \n                            return (\n                              <option \n                                key={day} \n                                value={day}\n                                disabled={isDaySelected}\n                                style={{ \n                                  color: isDaySelected ? '#9CA3AF' : 'inherit',\n                                  backgroundColor: isDaySelected ? '#F3F4F6' : 'inherit'\n                                }}\n                              >\n                                {day} {isDaySelected ? '(Already selected)' : ''}\n                              </option>\n                            )\n                          })}\n                        </select>\n                      ) : (\n                        <input\n                          type=\"date\"\n                          value={post.date}\n                          onChange={(e) => handlePostChange(index, 'date', e.target.value)}\n                          className={`w-full px-4 !py-3 bg-gray-100 hover:bg-gray-200 border-0 rounded-lg text-gray-800 placeholder-gray-500 transition-colors duration-200 focus:outline-none focus:ring-2 ${\n                            getFieldError(`day_${index}`) ? 'focus:ring-red-500 border-red-300 ring-2 ring-red-200' : 'focus:ring-blue-500'\n                          }`}\n                          style={{\n                            WebkitAppearance: 'none',\n                            MozAppearance: 'textfield'\n                          }}\n                          placeholder=\"Select Date\"\n                        />\n                      )}\n                    </div>\n                    {getFieldError(`day_${index}`) && (\n                      <p className=\"text-red-500 text-sm flex items-center gap-1\">\n                        <AlertCircle className=\"w-4 h-4\" />\n                        {getFieldError(`day_${index}`)}\n                      </p>\n                    )}\n                  </div>\n                )}\n\n                <div className=\"space-y-2\">\n                  <label className=\"block text-sm font-medium text-gray-700\">\n                    {frequency === 'Daily' ? `Time for Day ${index + 1}` : `Time ${index + 1}`}\n                  </label>\n                  <div className=\"relative\">\n                    <input\n                      type=\"time\"\n                      value={post.time}\n                      onChange={(e) => handlePostChange(index, 'time', e.target.value)}\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        // Open time picker by focusing and clicking\n                        e.currentTarget.showPicker?.()\n                      }}\n                      className={`w-full px-4 !py-3 bg-gray-100 hover:bg-gray-200 border-0 rounded-lg text-gray-800 placeholder-gray-500 transition-colors duration-200 focus:outline-none focus:ring-2 ${\n                        getFieldError(`time_${index}`) ? 'focus:ring-red-500 border-red-300 ring-2 ring-red-200' : 'focus:ring-blue-500'\n                      }`}\n                      style={{\n                        WebkitAppearance: 'none',\n                        MozAppearance: 'textfield'\n                      }}\n                      placeholder=\"Select Time\"\n                    />\n                  </div>\n                  {getFieldError(`time_${index}`) && (\n                    <p className=\"text-red-500 text-sm flex items-center gap-1\">\n                      <AlertCircle className=\"w-4 h-4\" />\n                      {getFieldError(`time_${index}`)}\n                    </p>\n                  )}\n                 \n                </div>\n              </div>\n              {post._isNextWeek && (\n                <div className=\"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\n                  <div className=\"flex items-start gap-2\">\n                    <Info className=\"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5\" />\n                    <p className=\"text-red-800 text-sm\">\n                    <span className=\"font-bold\">To post today,</span> please select a time at least 40 minutes from now, otherwise the post will be scheduled for next week.\n                    </p>\n                  </div>\n                </div>\n              )}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"p-6 border-t border-gray-200\">\n          {hasErrors && (\n            <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n              <div className=\"flex items-center gap-2 text-red-700 text-sm mb-2\">\n                <AlertCircle className=\"w-4 h-4\" />\n                <span>Please fix the errors above before proceeding</span>\n              </div>\n              <div className=\"text-red-600 text-xs\">\n                {getValidationSummary().fieldErrors.slice(0, 3).map((error, idx) => (\n                  <div key={idx} className=\"flex items-center gap-1\">\n                    <span className=\"w-1 h-1 bg-red-500 rounded-full\"></span>\n                    <span>{error}</span>\n                  </div>\n                ))}\n                {getValidationSummary().totalErrors > 3 && (\n                  <div className=\"text-red-500 text-xs mt-1\">\n                    +{getValidationSummary().totalErrors - 3} more error{getValidationSummary().totalErrors - 3 > 1 ? 's' : ''}\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n          \n          <SubmitButton\n            isLoading={isSubmitting}\n            disabled={!isFormComplete({ frequency, posts }) || hasErrors}\n            loadingText=\"Validating...\"\n            buttonText=\"Next\"\n            onClick={handleNext}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;;;AAPA;;;;;;AAgBA,MAAM,mBAAmB;IACvB;IACA;IACA;IACA;CACD;AAED,MAAM,aAAa;IACjB;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEc,SAAS,kBAAkB,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,eAAe,EAA0B;;IACpH,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,6LAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6LAAQ,EAAC;QACjC;YAAE,KAAK;YAAI,MAAM;YAAI,MAAM;YAAI,aAAa;QAAM;QAClD;YAAE,KAAK;YAAI,MAAM;YAAI,MAAM;YAAI,aAAa;QAAM;KACnD;IACD,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,IAAA,6LAAQ,EAAC;IACnE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,6LAAQ,EAAC;IAEjD,MAAM,kBAAkB,MAAM,IAAI,CAAC,CAAA,OAAQ,KAAK,GAAG;IAEnD,MAAM,kBAAkB;QACtB,MAAM,aAAa,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,IAAI;QACjD,IAAI,WAAW,MAAM,KAAK,GAAG,OAAO;QAEpC,MAAM,QAAQ,WAAW,GAAG,CAAC,CAAA,OAAQ,IAAI,KAAK,KAAK,IAAI;QACvD,MAAM,eAAe,IAAI,KAAK,KAAK,GAAG,IAAI,MAAM,GAAG,CAAC,CAAA,OAAQ,KAAK,OAAO;QAExE,MAAM,MAAM,aAAa,OAAO,GAAG,QAAQ,GAAG,QAAQ,CAAC,GAAG;QAC1D,MAAM,aAAa;YAAC;YAAO;YAAO;YAAO;YAAO;YAAO;YACnD;YAAO;YAAO;YAAO;YAAO;YAAO;SAAM;QAC7C,MAAM,QAAQ,UAAU,CAAC,aAAa,QAAQ,GAAG;QACjD,MAAM,OAAO,aAAa,WAAW;QAErC,OAAO,GAAG,IAAI,CAAC,EAAE,MAAM,CAAC,EAAE,MAAM;IAClC;IAEA,MAAM,YAAY;IAElB,MAAM,EACJ,oBAAoB,EACpB,qBAAqB,EACrB,aAAa,EACb,cAAc,EACd,oBAAoB,EACpB,SAAS,EACV,GAAG,IAAA,qLAAqB;IAEzB,MAAM,eAAe,CAAC;QACpB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IACA,4LAAK,CAAC,SAAS;uCAAC;YACd,MAAM,eAAe,aAAa;YAElC,IAAI,cAAc,SAAS;gBACzB;mDAAS,CAAA;wBACP,IAAI,UAAU,MAAM,KAAK,GAAG;4BAC1B,MAAM,eAAe,SAAS,CAAC,EAAE,IAAI;gCAAE,KAAK;gCAAI,MAAM;gCAAI,MAAM;gCAAI,aAAa;4BAAM;4BACvF,OAAO;gCAAC;oCACN,KAAK;oCACL,MAAM;oCACN,MAAM,aAAa,IAAI,IAAI;oCAC3B,aAAa;gCACf;6BAAE;wBACJ;wBACA,OAAO;oBACT;;YACF,OAAO;gBACL;mDAAS,CAAA;wBACP,MAAM,WAAW,MAAM,IAAI,CAAC;4BAAE,QAAQ;wBAAa;oEAAG,CAAC,GAAG,QACxD,SAAS,CAAC,MAAM,IAAI;oCAAE,KAAK;oCAAI,MAAM;oCAAI,MAAM;oCAAI,aAAa;gCAAM;;wBAExE,OAAO;oBACT;;YACF;QACF;sCAAG;QAAC;KAAU;IAEd,MAAM,mBAAmB,CAAC,OAAe,OAAgC;QACvE,MAAM,WAAW;eAAI;SAAM;QAC3B,QAAQ,CAAC,MAAM,CAAC,MAAM,GAAG;QAEzB,IAAI,UAAU,SAAS,OAAO;YAC5B,MAAM,WAAW,WAAW,OAAO,CAAC;YACpC,IAAI,aAAa,CAAC,GAAG;gBACnB,MAAM,QAAQ,IAAI;gBAClB,MAAM,aAAa,MAAM,MAAM;gBAC/B,MAAM,YAAY,aAAa,IAAI,IAAI,WAAW;gBAElD,IAAI,kBAAkB,YAAY;gBAElC,sEAAsE;gBACtE,IAAI,mBAAmB,GAAG;oBACxB,mBAAmB;gBACrB;gBAEA,MAAM,aAAa,IAAI,KAAK;gBAC5B,WAAW,OAAO,CAAC,MAAM,OAAO,KAAK;gBAErC,QAAQ,CAAC,MAAM,CAAC,IAAI,GAAG,WAAW,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;gBAE7D,2DAA2D;gBAC3D,MAAM,iBAAiB,KAAK,KAAK,CAAC,CAAC,WAAW,OAAO,KAAK,MAAM,OAAO,EAAE,IAAI,CAAC,OAAO,KAAK,KAAK,EAAE;gBACjG,QAAQ,CAAC,MAAM,CAAC,WAAW,GAAG,iBAAiB;gBAE/C,IAAI,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE;oBACxB,MAAM,cAAc,QAAQ,CAAC,MAAM,CAAC,GAAG;oBACvC,MAAM,iBAAiB,UAAU,CAAC,MAAM,MAAM,OAAO,IAAI,IAAI,MAAM,MAAM,KAAK,EAAE;oBAEhF,IAAI,gBAAgB,gBAAgB;wBAClC,yBAAyB;wBACzB,MAAM,cAAc,IAAI;wBACxB,MAAM,cAAc,YAAY,QAAQ;wBACxC,MAAM,gBAAgB,YAAY,UAAU;wBAE5C,mCAAmC;wBACnC,MAAM,CAAC,cAAc,eAAe,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC;wBAE3E,sDAAsD;wBACtD,MAAM,eAAe,IAAI;wBACzB,aAAa,QAAQ,CAAC,cAAc,gBAAgB,GAAG;wBAEvD,MAAM,gBAAgB,IAAI;wBAC1B,cAAc,QAAQ,CAAC,aAAa,eAAe,GAAG;wBACtD,MAAM,iBAAiB,IAAI,KAAK,cAAc,OAAO,KAAK,KAAK,KAAK;wBAEpE,gEAAgE;wBAChE,IAAI,gBAAgB,gBAAgB;4BAClC,+CAA+C;4BAC/C,MAAM,eAAe,MAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;4BACtD,QAAQ,CAAC,MAAM,CAAC,IAAI,GAAG;4BACvB,QAAQ,CAAC,MAAM,CAAC,WAAW,GAAG;4BAC9B,QAAQ,GAAG,CAAC,8DAA8D;wBAC5E,OAAO;4BACL,4DAA4D;4BAC5D,QAAQ,CAAC,MAAM,CAAC,WAAW,GAAG;wBAChC;oBACF;gBACF;YACF;QACF;QAEA,IAAI,UAAU,UAAU,SAAS,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE;YACpD,MAAM,cAAc,QAAQ,CAAC,MAAM,CAAC,GAAG;YACvC,MAAM,QAAQ,IAAI;YAClB,MAAM,iBAAiB,UAAU,CAAC,MAAM,MAAM,OAAO,IAAI,IAAI,MAAM,MAAM,KAAK,EAAE;YAEhF,IAAI,gBAAgB,gBAAgB;gBAClC,yBAAyB;gBACzB,MAAM,cAAc,IAAI;gBACxB,MAAM,cAAc,YAAY,QAAQ;gBACxC,MAAM,gBAAgB,YAAY,UAAU;gBAE5C,mCAAmC;gBACnC,MAAM,CAAC,cAAc,eAAe,GAAG,MAAM,KAAK,CAAC,KAAK,GAAG,CAAC;gBAE5D,sDAAsD;gBACtD,MAAM,eAAe,IAAI;gBACzB,aAAa,QAAQ,CAAC,cAAc,gBAAgB,GAAG;gBAEvD,MAAM,gBAAgB,IAAI;gBAC1B,cAAc,QAAQ,CAAC,aAAa,eAAe,GAAG;gBACtD,MAAM,iBAAiB,IAAI,KAAK,cAAc,OAAO,KAAK,KAAK,KAAK;gBAEpE,gEAAgE;gBAChE,IAAI,gBAAgB,gBAAgB;oBAClC,+CAA+C;oBAC/C,MAAM,eAAe,MAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;oBACtD,QAAQ,CAAC,MAAM,CAAC,IAAI,GAAG;oBACvB,QAAQ,CAAC,MAAM,CAAC,WAAW,GAAG;oBAC9B,QAAQ,GAAG,CAAC,4BAA4B,cAAc,aAAa,OAAO;gBAC5E,OAAO;oBACL,4DAA4D;oBAC5D,MAAM,aAAa,MAAM,MAAM;oBAC/B,MAAM,YAAY,WAAW,OAAO,CAAC,iBAAiB,IAAI,IAAI,WAAW,OAAO,CAAC,eAAe;oBAChG,IAAI,kBAAkB,YAAY;oBAClC,IAAI,mBAAmB,GAAG;wBACxB,mBAAmB;oBACrB;oBACA,MAAM,aAAa,IAAI,KAAK;oBAC5B,WAAW,OAAO,CAAC,MAAM,OAAO,KAAK;oBACrC,QAAQ,CAAC,MAAM,CAAC,IAAI,GAAG,WAAW,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;oBAC7D,QAAQ,CAAC,MAAM,CAAC,WAAW,GAAG;oBAC9B,QAAQ,GAAG,CAAC,iCAAiC,WAAW,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,aAAa,OAAO;gBAC3G;YACF,OAAO;gBACL,QAAQ,CAAC,MAAM,CAAC,WAAW,GAAG;YAChC;QACF;QAEA,IAAI,cAAc,WAAW,UAAU,OAAO;YAC5C,SAAS,OAAO,CAAC,CAAC,MAAM;gBACtB,IAAI,KAAK,GAAG,EAAE;oBACZ,MAAM,WAAW,WAAW,OAAO,CAAC,KAAK,GAAG;oBAC5C,IAAI,aAAa,CAAC,GAAG;wBACnB,MAAM,QAAQ,IAAI;wBAClB,MAAM,aAAa,MAAM,MAAM;wBAC/B,MAAM,YAAY,aAAa,IAAI,IAAI,WAAW;wBAClD,IAAI,kBAAkB,YAAY;wBAElC,sEAAsE;wBACtE,IAAI,mBAAmB,GAAG;4BACxB,mBAAmB;wBACrB;wBAEA,MAAM,aAAa,IAAI,KAAK;wBAC5B,WAAW,OAAO,CAAC,MAAM,OAAO,KAAK;wBACrC,QAAQ,CAAC,IAAI,CAAC,IAAI,GAAG,WAAW,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;wBAE3D,2DAA2D;wBAC3D,MAAM,iBAAiB,KAAK,KAAK,CAAC,CAAC,WAAW,OAAO,KAAK,MAAM,OAAO,EAAE,IAAI,CAAC,OAAO,KAAK,KAAK,EAAE;wBACjG,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,iBAAiB;oBAC/C;gBACF;YACF;QACF;QACA,IAAI,UAAU,SAAS,CAAC,OAAO;YAC7B,QAAQ,CAAC,MAAM,CAAC,IAAI,GAAG;YACvB,QAAQ,CAAC,MAAM,CAAC,WAAW,GAAG;QAChC;QAEA,SAAS;QAET,IAAI,MAAM,IAAI,OAAO,IAAI;YACvB;QACF;IACF;IAEA,MAAM,cAAc;QAClB,MAAM,iBAAiB;QACvB,MAAM,YAAY,aAAa;QAC/B,aAAa;QACb,SACE,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAU,GAAG,IAAM,CAAC;gBACvC,KAAK;gBACL,MAAM;gBACN,MAAM;gBACN,aAAa;YACf,CAAC;QAEH,yBAAyB;QACzB,gBAAgB;QAChB;QACA;IACF;IAEA,MAAM,aAAa;QACjB,gBAAgB;QAChB;QAEA,MAAM,eAA6B;YACjC;YACA,OAAO,cAAc,UACjB,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,OAAO,MACvD,MAAM,MAAM,CAAC,CAAA,OAAQ,CAAC,KAAK,GAAG,IAAI,KAAK,IAAI,KAAK,KAAK,IAAI;QAC/D;QAEA,MAAM,aAAa,qBAAqB;QAExC,IAAI,CAAC,WAAW,OAAO,EAAE;YACvB,gBAAgB;YAChB;QACF;QAEA,IAAI;YACF,MAAM,OAAO;QACf,EAAE,OAAO,OAAO,CAChB,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,iNAAC;QAAI,WAAU;kBACb,cAAA,iNAAC;YAAI,WAAU;;8BACb,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAG,WAAU;sCAAoC;;;;;;sCAClD,iNAAC;4BACC,SAAS;4BACT,WAAU;sCAEV,cAAA,iNAAC,wNAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAIjB,iNAAC;oBAAI,WAAU;;wBACZ,iCAAmB,iNAAC,wLAAkB;4BAAC,WAAW;;;;;;sCACnD,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;oCAAM,WAAU;8CAA0C;;;;;;8CAG3D,iNAAC;oCAAI,WAAU;;sDACb,iNAAC;4CACC,MAAK;4CACL,SAAS,IAAM,yBAAyB,CAAC;4CACzC,WAAU;;8DAEV,iNAAC;oDAAK,WAAU;8DAAiB;;;;;;8DACjC,iNAAC;oDACC,WAAW,CAAC,0CAA0C,EAAE,wBAAwB,eAAe,IAAI;oDACnG,MAAK;oDACL,QAAO;oDACP,SAAQ;8DAER,cAAA,iNAAC;wDAAK,eAAc;wDAAQ,gBAAe;wDAAQ,aAAa;wDAAG,GAAE;;;;;;;;;;;;;;;;;wCAIxE,uCACC,iNAAC;4CAAI,WAAU;sDACZ,iBAAiB,GAAG,CAAC,CAAC,uBACrB,iNAAC;oDAEC,MAAK;oDACL,SAAS;wDACP,aAAa;wDACb,yBAAyB;oDAC3B;oDACA,WAAU;;sEAEV,iNAAC;sEAAM;;;;;;wDACN,cAAc,wBACb,iNAAC;4DAAI,WAAU;;;;;;;mDAVZ;;;;;;;;;;;;;;;;;;;;;;sCAmBjB,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;;sDACC,iNAAC;4CAAG,WAAU;sDACX,cAAc,UACX,CAAC,2BAA2B,CAAC,GAC7B,CAAC,kCAAkC,EAAE,MAAM,MAAM,CAAC,CAAC,EAAE,MAAM,MAAM,KAAK,IAAI,SAAS,QAAQ,CAAC,CAAC;;;;;;sDAGnG,iNAAC;4CAAI,WAAU;;;;;;;;;;;;gCAGhB,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,iNAAC;;0DACD,iNAAC;gDAAI,WAAW,CAAC,WAAW,EAC1B,cAAc,UACV,8CACA,MAAM,MAAM,GAAG,IACb,+BACA,8BACN;;oDACC,cAAc,yBACb,iNAAC;wDAAI,WAAU;;0EACb,iNAAC;gEAAM,WAAU;;oEAA0C;oEACpD,QAAQ;;;;;;;0EAEf,iNAAC;gEAAI,WAAU;0EACZ,AAAC,cAAc,iBAAiB,cAAc,kBAAkB,cAAc,qCAC7E,iNAAC;oEACC,OAAO,KAAK,GAAG;oEACf,UAAU,CAAC,IAAM,iBAAiB,OAAO,OAAO,EAAE,MAAM,CAAC,KAAK;oEAC9D,WAAW,CAAC,iJAAiJ,EAC3J,cAAc,CAAC,IAAI,EAAE,OAAO,IAAI,0DAA0D,uBAC1F;;sFAEF,iNAAC;4EAAO,OAAM;sFAAG;;;;;;wEAChB,WAAW,GAAG,CAAC,CAAC;4EACf,MAAM,gBAAgB,MAAM,IAAI,CAAC,CAAC,WAAW,aAC3C,eAAe,SAAS,UAAU,GAAG,KAAK;4EAG5C,qBACE,iNAAC;gFAEC,OAAO;gFACP,UAAU;gFACV,OAAO;oFACL,OAAO,gBAAgB,YAAY;oFACnC,iBAAiB,gBAAgB,YAAY;gFAC/C;;oFAEC;oFAAI;oFAAE,gBAAgB,uBAAuB;;+EARzC;;;;;wEAWX;;;;;;yFAGF,iNAAC;oEACC,MAAK;oEACL,OAAO,KAAK,IAAI;oEAChB,UAAU,CAAC,IAAM,iBAAiB,OAAO,QAAQ,EAAE,MAAM,CAAC,KAAK;oEAC/D,WAAW,CAAC,sKAAsK,EAChL,cAAc,CAAC,IAAI,EAAE,OAAO,IAAI,0DAA0D,uBAC1F;oEACF,OAAO;wEACL,kBAAkB;wEAClB,eAAe;oEACjB;oEACA,aAAY;;;;;;;;;;;4DAIjB,cAAc,CAAC,IAAI,EAAE,OAAO,mBAC3B,iNAAC;gEAAE,WAAU;;kFACX,iNAAC,0PAAW;wEAAC,WAAU;;;;;;oEACtB,cAAc,CAAC,IAAI,EAAE,OAAO;;;;;;;;;;;;;kEAMrC,iNAAC;wDAAI,WAAU;;0EACb,iNAAC;gEAAM,WAAU;0EACd,cAAc,UAAU,CAAC,aAAa,EAAE,QAAQ,GAAG,GAAG,CAAC,KAAK,EAAE,QAAQ,GAAG;;;;;;0EAE5E,iNAAC;gEAAI,WAAU;0EACb,cAAA,iNAAC;oEACC,MAAK;oEACL,OAAO,KAAK,IAAI;oEAChB,UAAU,CAAC,IAAM,iBAAiB,OAAO,QAAQ,EAAE,MAAM,CAAC,KAAK;oEAC/D,SAAS,CAAC;wEACR,EAAE,eAAe;wEACjB,4CAA4C;wEAC5C,EAAE,aAAa,CAAC,UAAU;oEAC5B;oEACA,WAAW,CAAC,sKAAsK,EAChL,cAAc,CAAC,KAAK,EAAE,OAAO,IAAI,0DAA0D,uBAC3F;oEACF,OAAO;wEACL,kBAAkB;wEAClB,eAAe;oEACjB;oEACA,aAAY;;;;;;;;;;;4DAGf,cAAc,CAAC,KAAK,EAAE,OAAO,mBAC5B,iNAAC;gEAAE,WAAU;;kFACX,iNAAC,0PAAW;wEAAC,WAAU;;;;;;oEACtB,cAAc,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;;;;;;;;;;4CAMrC,KAAK,WAAW,kBACf,iNAAC;gDAAI,WAAU;0DACb,cAAA,iNAAC;oDAAI,WAAU;;sEACb,iNAAC,iOAAI;4DAAC,WAAU;;;;;;sEAChB,iNAAC;4DAAE,WAAU;;8EACb,iNAAC;oEAAK,WAAU;8EAAY;;;;;;gEAAqB;;;;;;;;;;;;;;;;;;;uCA1G7C;;;;;;;;;;;;;;;;;8BAoHhB,iNAAC;oBAAI,WAAU;;wBACZ,2BACC,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;oCAAI,WAAU;;sDACb,iNAAC,0PAAW;4CAAC,WAAU;;;;;;sDACvB,iNAAC;sDAAK;;;;;;;;;;;;8CAER,iNAAC;oCAAI,WAAU;;wCACZ,uBAAuB,WAAW,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,OAAO,oBAC1D,iNAAC;gDAAc,WAAU;;kEACvB,iNAAC;wDAAK,WAAU;;;;;;kEAChB,iNAAC;kEAAM;;;;;;;+CAFC;;;;;wCAKX,uBAAuB,WAAW,GAAG,mBACpC,iNAAC;4CAAI,WAAU;;gDAA4B;gDACvC,uBAAuB,WAAW,GAAG;gDAAE;gDAAY,uBAAuB,WAAW,GAAG,IAAI,IAAI,MAAM;;;;;;;;;;;;;;;;;;;sCAOlH,iNAAC,8KAAY;4BACX,WAAW;4BACX,UAAU,CAAC,eAAe;gCAAE;gCAAW;4BAAM,MAAM;4BACnD,aAAY;4BACZ,YAAW;4BACX,SAAS;;;;;;;;;;;;;;;;;;;;;;;AAMrB;GA/ewB;;QAoClB,qLAAqB;;;KApCH"}},
    {"offset": {"line": 13394, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/connect-warning-modal.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { AlertTriangle, X } from 'lucide-react'\n\ninterface ConnectWarningModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onConfirm: () => void\n  platformName: string\n}\n\nexport default function ConnectWarningModal({ \n  isOpen, \n  onClose, \n  onConfirm, \n  platformName \n}: ConnectWarningModalProps) {\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4\">\n      <div className=\"bg-white rounded-lg max-w-sm w-full shadow-xl\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n          <div className=\"flex items-center gap-2\">\n            <AlertTriangle className=\"w-5 h-5 text-amber-500\" />\n            <h3 className=\"text-lg font-semibold text-gray-800\">Warning</h3>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"w-6 h-6 flex items-center justify-center hover:bg-gray-100 rounded-full transition-colors duration-200\"\n            aria-label=\"Close modal\"\n          >\n            <X className=\"w-4 h-4 text-gray-500\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-4\">\n          <div className=\"text-center\">\n            <div className=\"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-3\">\n              <AlertTriangle className=\"w-6 h-6 text-amber-600\" />\n            </div>\n            \n            <h4 className=\"text-base font-medium text-gray-800 mb-2\">\n              Account Connection Warning\n            </h4>\n\n            <p className=\"text-sm text-gray-600 leading-relaxed\">\n            <span className=\"font-medium text-gray-800\">Important:</span> After you connect your <span className=\"font-medium text-gray-800\">{platformName}</span> account, it cannot be removed later. Please double-check that you&apos;re comfortable with a permanent connection before proceeding.\n            </p>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex gap-3 p-4 border-t border-gray-200\">\n          <button\n            onClick={onClose}\n            className=\"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors duration-200\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={onConfirm}\n            className=\"flex-1 px-4 py-2 text-sm font-medium text-white bg-[#5046E5] hover:bg-[#4338CA] rounded-lg transition-colors duration-200\"\n          >\n            Connect\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAHA;;;AAYe,SAAS,oBAAoB,EAC1C,MAAM,EACN,OAAO,EACP,SAAS,EACT,YAAY,EACa;IACzB,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,iNAAC;QAAI,WAAU;kBACb,cAAA,iNAAC;YAAI,WAAU;;8BAEb,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAI,WAAU;;8CACb,iNAAC,gQAAa;oCAAC,WAAU;;;;;;8CACzB,iNAAC;oCAAG,WAAU;8CAAsC;;;;;;;;;;;;sCAEtD,iNAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,iNAAC,wNAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAKjB,iNAAC;oBAAI,WAAU;8BACb,cAAA,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCAAI,WAAU;0CACb,cAAA,iNAAC,gQAAa;oCAAC,WAAU;;;;;;;;;;;0CAG3B,iNAAC;gCAAG,WAAU;0CAA2C;;;;;;0CAIzD,iNAAC;gCAAE,WAAU;;kDACb,iNAAC;wCAAK,WAAU;kDAA4B;;;;;;oCAAiB;kDAAwB,iNAAC;wCAAK,WAAU;kDAA6B;;;;;;oCAAoB;;;;;;;;;;;;;;;;;;8BAM1J,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,iNAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX;KA7DwB"}},
    {"offset": {"line": 13574, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/connect-accounts-modal.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { X, ExternalLink, CheckCircle } from 'lucide-react'\nimport { useSocialAccounts } from '@/hooks/useSocialAccounts'\nimport { getAccountTypeIcon } from '@/utils/socialMediaIcons'\nimport { ConnectedAccount, VideoData } from '@/types/post-types'\nimport { API_CONFIG, getApiUrl, getAuthenticatedHeaders } from '@/lib/config'\nimport ConnectWarningModal from './connect-warning-modal'\nimport { useUnifiedSocketContext } from '@/components/providers/UnifiedSocketProvider'\nimport { useModalScrollLock } from '@/components/providers/ModalScrollLockProvider'\n\ninterface ConnectAccountsModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onNext: () => void\n  buttonText?: string\n  video?: VideoData\n  scheduleData?: any\n  onCreatePost?: (accounts: ConnectedAccount[], video: VideoData) => void\n  onScheduleCreated?: () => void\n}\n\nexport default function ConnectAccountsModal({ isOpen, onClose, onNext, video, scheduleData, onCreatePost, onScheduleCreated, buttonText='Next' }: ConnectAccountsModalProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [apiResponse, setApiResponse] = useState<any>(null)\n  const [showWarningModal, setShowWarningModal] = useState(false)\n  const [selectedPlatform, setSelectedPlatform] = useState<{ id: string; name: string } | null>(null)\n  \n  // Use global modal scroll lock\n  const { openModal, closeModal } = useModalScrollLock()\n\n  const {\n    connectedAccounts,\n    availablePlatforms,\n    loading,\n    error,\n    fetchConnectedAccounts,\n    connectPlatform,\n    isPlatformConnected,\n    getConnectedAccount\n  } = useSocialAccounts()\n\n  const { socket } = useUnifiedSocketContext()\n\n  // Listen for schedule status updates\n  useEffect(() => {\n    if (socket) {\n      const handleScheduleStatus = (data: any) => {\n        console.log('ðŸ“… Schedule status update received:', data)\n        \n        if (data.status === 'ready') {\n          console.log('ðŸ“… Schedule is ready! Calling onScheduleCreated')\n          // Call the callback to refresh schedule data\n          if (onScheduleCreated) {\n            onScheduleCreated()\n          }\n        }\n      }\n\n      socket.on('schedule-status', handleScheduleStatus)\n\n      return () => {\n        socket.off('schedule-status', handleScheduleStatus)\n      }\n    }\n  }, [socket, onScheduleCreated])\n\n  useEffect(() => {\n    if (isOpen) {\n      openModal()\n    } else {\n      closeModal()\n    }\n    \n    return () => {\n      closeModal()\n    }\n  }, [isOpen, openModal, closeModal])\n\n\n  const handleConnectClick = (platformId: string, platformName: string) => {\n    setSelectedPlatform({ id: platformId, name: platformName })\n    setShowWarningModal(true)\n  }\n\n  const handleWarningConfirm = () => {\n    if (selectedPlatform) {\n      connectPlatform(selectedPlatform.id)\n      setShowWarningModal(false)\n      setSelectedPlatform(null)\n    }\n  }\n\n  const handleWarningCancel = () => {\n    setShowWarningModal(false)\n    setSelectedPlatform(null)\n  }\n\n  const handleNext = async () => {\n    // Get connected accounts\n    const selectedAccounts = connectedAccounts.filter(account => account.active)\n    \n    if (selectedAccounts.length === 0) {\n      alert('Please connect at least one account before proceeding')\n      return\n    }\n\n    // If we have schedule data, call the schedule API\n    if (scheduleData && scheduleData.posts && scheduleData.posts.length > 0) {\n      setIsSubmitting(true)\n      setApiResponse(null)\n      \n      try {\n        // Transform schedule data to match API format\n        const times = scheduleData.posts.map((post: any) => post.time)\n        const days = scheduleData.posts.map((post: any) => post.day)\n        const startDate = new Date().toISOString().split('T')[0] // Format: YYYY-MM-DD\n        \n        // Map frequency to API format\n        const getFrequencyMapping = (frequency: string) => {\n          switch (frequency?.toLowerCase()) {\n            case 'once a week':\n              return 'once_week'\n            case 'twice a week':\n              return 'twice_week'\n            case 'three times a week':\n              return 'three_week'\n            case 'daily':\n              return 'daily'\n            case 'custom':\n              return 'custom'\n            default:\n              return 'daily'\n          }\n        }\n        \n        const requestBody = {\n          frequency: getFrequencyMapping(scheduleData.frequency),\n          schedule: {\n            days: scheduleData.frequency === 'Daily' ? [] : days,\n            times: times\n          },\n          startDate: startDate\n        }\n        \n        const response = await fetch(getApiUrl(API_CONFIG.ENDPOINTS.VIDEO_SCHEDULE.SCHEDULE), {\n          method: 'POST',\n          headers: getAuthenticatedHeaders(),\n          body: JSON.stringify(requestBody)\n        })\n        \n        if (response.ok) {\n          const responseData = await response.json()\n          setApiResponse(responseData)\n          \n          if (responseData.success) {\n            console.log('Schedule creation initiated:', responseData)\n            \n            // Check if it's async generation\n            if (responseData.data?.generation_status === 'processing') {\n              // Emit socket event for processing status\n              if (socket) {\n                socket.emit('schedule-status', {\n                  scheduleId: responseData.data.scheduleId || responseData.data.id,\n                  status: 'processing',\n                  message: 'Your video schedule is being generated. This may take 2-3 minutes.',\n                  timestamp: new Date().toISOString()\n                })\n              }\n            }\n            \n            // Show success notification\n            if ((window as any).showNotification) {\n              (window as any).showNotification({\n                type: 'success',\n                title: 'Schedule Creation Started',\n                message: 'Your video schedule is being generated. You will receive a notification when ready!',\n                duration: 5000\n              })\n            }\n            \n            // Close modal immediately after API response\n            onClose()\n          } else {\n            console.error('Schedule API Error:', responseData)\n            const errorMessage = responseData.error || responseData.message || 'Failed to create schedule'\n            \n            if ((window as any).showNotification) {\n              (window as any).showNotification({\n                type: 'error',\n                title: 'Schedule Failed',\n                message: errorMessage,\n                duration: 8000\n              })\n            }\n          }\n        } else {\n          // Handle CORS and other HTTP errors\n          let errorMessage = 'Failed to create schedule. Please try again.'\n          \n          if (response.status === 0) {\n            errorMessage = 'CORS Error: Unable to connect to the server. Please check if the backend is running and CORS is configured properly.'\n          } else if (response.status === 404) {\n            errorMessage = 'API endpoint not found. Please check the server configuration.'\n          } else if (response.status === 500) {\n            errorMessage = 'Server error. Please try again later.'\n          }\n          \n          setApiResponse({ success: false, message: errorMessage })\n          \n          if ((window as any).showNotification) {\n            (window as any).showNotification({\n              type: 'error',\n              title: 'Connection Error',\n              message: errorMessage,\n              duration: 8000\n            })\n          }\n        }\n      } catch (error) {\n        console.error('Error creating schedule:', error)\n        const errorMessage = 'Failed to create schedule. Please try again.'\n        \n        setApiResponse({\n          success: false,\n          error: errorMessage,\n          message: errorMessage\n        })\n        \n        if ((window as any).showNotification) {\n          (window as any).showNotification({\n            type: 'error',\n            title: 'Network Error',\n            message: errorMessage,\n            duration: 8000\n          })\n        }\n      } finally {\n        setIsSubmitting(false)\n      }\n    } else if (video && onCreatePost) {\n      onCreatePost(selectedAccounts, video)\n    } else {\n      onNext()\n    }\n  }\n\n\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg max-w-md w-full max-h-[550px] xl:h-fit md:h-full overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between md:p-6 p-4 border-b border-gray-200\">\n          <h2 className=\"text-2xl font-bold text-black\">Connect accounts</h2>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full transition-colors duration-200\"\n          >\n            <X className=\"w-5 h-5 text-black\" />\n          </button>\n        </div>\n\n        {/* Social Media Accounts */}\n        <div className=\"md:p-6 p-4 space-y-4\">\n          {loading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5046E5]\"></div>\n            </div>\n          ) : error ? (\n            <div className=\"text-center py-8\">\n              <p className=\"text-red-500 mb-4\">{error}</p>\n              <button\n                onClick={fetchConnectedAccounts}\n                className=\"bg-[#5046E5] text-white px-4 py-2 rounded-lg hover:bg-[#4338CA] transition-colors\"\n              >\n                Try Again\n              </button>\n            </div>\n          ) : (\n            availablePlatforms.map((platform) => {\n              const isConnected = isPlatformConnected(platform.type)\n              const connectedAccount = getConnectedAccount(platform.type)\n              \n              return (\n                <div key={platform.id} className=\"flex items-center md:gap-4 gap-1\">\n                  {/* Social Media Icon */}\n                  {getAccountTypeIcon(platform.type)}\n                  \n                  {/* Account Info */}\n                  <div className=\"flex-1\">\n                    {isConnected && connectedAccount ? (\n                      // Show connected account info\n                      <div className=\"px-3 py-2\">\n                        <p className=\"text-gray-800 font-medium break-all leading-[120%]\">{connectedAccount.name}</p>\n                        {/* <p className=\"text-sm text-gray-500\">{connectedAccount._type}</p> */}\n                      </div>\n                    ) : (\n                      // Show platform name for unconnected\n                      <div className=\"px-3 py-2\">\n                        <p className=\"text-gray-800 font-medium break-all leading-[120%]\">{platform.name}</p>\n                        {/* <p className=\"text-sm text-gray-500\">{platform._type}</p> */}\n                      </div>\n                    )}\n                  </div>\n                  \n                  {/* Connect/Status Buttons */}\n                  <div className=\"flex gap-2\">\n                    {isConnected ? (\n                      <>\n                        {/* <button\n                          onClick={() => connectedAccount && handleDisconnectAccount(connectedAccount.id, connectedAccount.name)}\n                          disabled={disconnecting === connectedAccount?.id}\n                          className=\"px-3 py-2 rounded-lg font-medium text-sm bg-red-100 text-red-700 border border-red-300 hover:bg-red-200 transition-colors duration-200 flex items-center gap-2 disabled:opacity-50\"\n                        >\n                          {disconnecting === connectedAccount?.id ? (\n                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-red-700\"></div>\n                          ) : (\n                            <>\n                              <Trash2 className=\"w-4 h-4\" />\n                              Disconnect\n                            </>\n                          )}\n                        </button> */}\n                        <div className=\"px-3 py-[8px] bg-green-100 rounded-lg flex items-center gap-2\">\n                          <CheckCircle className=\"w-[14px] h-[14px] text-green-700\" />\n                          <p className=\"text-green-700 font-medium text-sm\">Connected</p>\n                        </div>\n                      </>\n                    ) : (\n                      /* Connect Button */\n                      <button\n                        onClick={() => handleConnectClick(platform.id, platform.name)}\n                        className=\"px-5 py-2 rounded-lg font-medium text-sm bg-[#5046E5] text-white hover:bg-[#4338CA] cursor-pointer transition-colors duration-200 flex items-center gap-2\"\n                      >\n                        Connect\n                        <ExternalLink className=\"w-4 h-4\" />\n                      </button>\n                    )}\n                  </div>\n                </div>\n              )\n            })\n          )}\n        </div>\n\n        {/* Footer */}\n        <div className=\"p-6\">\n          {loading ? <></> : <button\n            onClick={handleNext}\n            disabled={isSubmitting}\n            className=\"w-full bg-[#5046E5] text-white py-3 px-6 font-semibold rounded-full text-lg hover:bg-[#4338CA] transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3\"\n          >\n            {isSubmitting ? (\n              <>\n                <svg className=\"animate-spin h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                Creating Schedule...\n              </>\n            ) : (\n              buttonText\n            )}\n          </button>}\n          \n          {/* API Response Display */}\n          {apiResponse && (\n            <div className={`mt-4 p-3 rounded-lg text-sm ${\n              apiResponse.success \n                ? 'bg-green-50 border border-green-200 text-green-700' \n                : 'bg-red-50 border border-red-200 text-red-700'\n            }`}>\n              <div className=\"font-medium\">\n                {apiResponse.success ? 'Success!' : 'Error'}\n              </div>\n              <div className=\"text-xs mt-1\">\n                {apiResponse.message || apiResponse.error || 'Unknown response'}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Warning Modal */}\n      <ConnectWarningModal\n        isOpen={showWarningModal}\n        onClose={handleWarningCancel}\n        onConfirm={handleWarningConfirm}\n        platformName={selectedPlatform?.name || ''}\n      />\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAVA;;;;;;;;;AAuBe,SAAS,qBAAqB,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,YAAY,EAAE,iBAAiB,EAAE,aAAW,MAAM,EAA6B;;IAC1K,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,6LAAQ,EAAC;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,6LAAQ,EAAM;IACpD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,6LAAQ,EAAC;IACzD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,6LAAQ,EAAsC;IAE9F,+BAA+B;IAC/B,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,GAAG,IAAA,uMAAkB;IAEpD,MAAM,EACJ,iBAAiB,EACjB,kBAAkB,EAClB,OAAO,EACP,KAAK,EACL,sBAAsB,EACtB,eAAe,EACf,mBAAmB,EACnB,mBAAmB,EACpB,GAAG,IAAA,6KAAiB;IAErB,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,0MAAuB;IAE1C,qCAAqC;IACrC,IAAA,8LAAS;0CAAC;YACR,IAAI,QAAQ;gBACV,MAAM;2EAAuB,CAAC;wBAC5B,QAAQ,GAAG,CAAC,uCAAuC;wBAEnD,IAAI,KAAK,MAAM,KAAK,SAAS;4BAC3B,QAAQ,GAAG,CAAC;4BACZ,6CAA6C;4BAC7C,IAAI,mBAAmB;gCACrB;4BACF;wBACF;oBACF;;gBAEA,OAAO,EAAE,CAAC,mBAAmB;gBAE7B;sDAAO;wBACL,OAAO,GAAG,CAAC,mBAAmB;oBAChC;;YACF;QACF;yCAAG;QAAC;QAAQ;KAAkB;IAE9B,IAAA,8LAAS;0CAAC;YACR,IAAI,QAAQ;gBACV;YACF,OAAO;gBACL;YACF;YAEA;kDAAO;oBACL;gBACF;;QACF;yCAAG;QAAC;QAAQ;QAAW;KAAW;IAGlC,MAAM,qBAAqB,CAAC,YAAoB;QAC9C,oBAAoB;YAAE,IAAI;YAAY,MAAM;QAAa;QACzD,oBAAoB;IACtB;IAEA,MAAM,uBAAuB;QAC3B,IAAI,kBAAkB;YACpB,gBAAgB,iBAAiB,EAAE;YACnC,oBAAoB;YACpB,oBAAoB;QACtB;IACF;IAEA,MAAM,sBAAsB;QAC1B,oBAAoB;QACpB,oBAAoB;IACtB;IAEA,MAAM,aAAa;QACjB,yBAAyB;QACzB,MAAM,mBAAmB,kBAAkB,MAAM,CAAC,CAAA,UAAW,QAAQ,MAAM;QAE3E,IAAI,iBAAiB,MAAM,KAAK,GAAG;YACjC,MAAM;YACN;QACF;QAEA,kDAAkD;QAClD,IAAI,gBAAgB,aAAa,KAAK,IAAI,aAAa,KAAK,CAAC,MAAM,GAAG,GAAG;YACvE,gBAAgB;YAChB,eAAe;YAEf,IAAI;gBACF,8CAA8C;gBAC9C,MAAM,QAAQ,aAAa,KAAK,CAAC,GAAG,CAAC,CAAC,OAAc,KAAK,IAAI;gBAC7D,MAAM,OAAO,aAAa,KAAK,CAAC,GAAG,CAAC,CAAC,OAAc,KAAK,GAAG;gBAC3D,MAAM,YAAY,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,qBAAqB;;gBAE9E,8BAA8B;gBAC9B,MAAM,sBAAsB,CAAC;oBAC3B,OAAQ,WAAW;wBACjB,KAAK;4BACH,OAAO;wBACT,KAAK;4BACH,OAAO;wBACT,KAAK;4BACH,OAAO;wBACT,KAAK;4BACH,OAAO;wBACT,KAAK;4BACH,OAAO;wBACT;4BACE,OAAO;oBACX;gBACF;gBAEA,MAAM,cAAc;oBAClB,WAAW,oBAAoB,aAAa,SAAS;oBACrD,UAAU;wBACR,MAAM,aAAa,SAAS,KAAK,UAAU,EAAE,GAAG;wBAChD,OAAO;oBACT;oBACA,WAAW;gBACb;gBAEA,MAAM,WAAW,MAAM,MAAM,IAAA,wJAAS,EAAC,yJAAU,CAAC,SAAS,CAAC,cAAc,CAAC,QAAQ,GAAG;oBACpF,QAAQ;oBACR,SAAS,IAAA,sKAAuB;oBAChC,MAAM,KAAK,SAAS,CAAC;gBACvB;gBAEA,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,eAAe,MAAM,SAAS,IAAI;oBACxC,eAAe;oBAEf,IAAI,aAAa,OAAO,EAAE;wBACxB,QAAQ,GAAG,CAAC,gCAAgC;wBAE5C,iCAAiC;wBACjC,IAAI,aAAa,IAAI,EAAE,sBAAsB,cAAc;4BACzD,0CAA0C;4BAC1C,IAAI,QAAQ;gCACV,OAAO,IAAI,CAAC,mBAAmB;oCAC7B,YAAY,aAAa,IAAI,CAAC,UAAU,IAAI,aAAa,IAAI,CAAC,EAAE;oCAChE,QAAQ;oCACR,SAAS;oCACT,WAAW,IAAI,OAAO,WAAW;gCACnC;4BACF;wBACF;wBAEA,4BAA4B;wBAC5B,IAAI,AAAC,OAAe,gBAAgB,EAAE;4BACnC,OAAe,gBAAgB,CAAC;gCAC/B,MAAM;gCACN,OAAO;gCACP,SAAS;gCACT,UAAU;4BACZ;wBACF;wBAEA,6CAA6C;wBAC7C;oBACF,OAAO;wBACL,QAAQ,KAAK,CAAC,uBAAuB;wBACrC,MAAM,eAAe,aAAa,KAAK,IAAI,aAAa,OAAO,IAAI;wBAEnE,IAAI,AAAC,OAAe,gBAAgB,EAAE;4BACnC,OAAe,gBAAgB,CAAC;gCAC/B,MAAM;gCACN,OAAO;gCACP,SAAS;gCACT,UAAU;4BACZ;wBACF;oBACF;gBACF,OAAO;oBACL,oCAAoC;oBACpC,IAAI,eAAe;oBAEnB,IAAI,SAAS,MAAM,KAAK,GAAG;wBACzB,eAAe;oBACjB,OAAO,IAAI,SAAS,MAAM,KAAK,KAAK;wBAClC,eAAe;oBACjB,OAAO,IAAI,SAAS,MAAM,KAAK,KAAK;wBAClC,eAAe;oBACjB;oBAEA,eAAe;wBAAE,SAAS;wBAAO,SAAS;oBAAa;oBAEvD,IAAI,AAAC,OAAe,gBAAgB,EAAE;wBACnC,OAAe,gBAAgB,CAAC;4BAC/B,MAAM;4BACN,OAAO;4BACP,SAAS;4BACT,UAAU;wBACZ;oBACF;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,4BAA4B;gBAC1C,MAAM,eAAe;gBAErB,eAAe;oBACb,SAAS;oBACT,OAAO;oBACP,SAAS;gBACX;gBAEA,IAAI,AAAC,OAAe,gBAAgB,EAAE;oBACnC,OAAe,gBAAgB,CAAC;wBAC/B,MAAM;wBACN,OAAO;wBACP,SAAS;wBACT,UAAU;oBACZ;gBACF;YACF,SAAU;gBACR,gBAAgB;YAClB;QACF,OAAO,IAAI,SAAS,cAAc;YAChC,aAAa,kBAAkB;QACjC,OAAO;YACL;QACF;IACF;IAGA,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,iNAAC;QAAI,WAAU;;0BACb,iNAAC;gBAAI,WAAU;;kCAEb,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCAAG,WAAU;0CAAgC;;;;;;0CAC9C,iNAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,iNAAC,wNAAC;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAKjB,iNAAC;wBAAI,WAAU;kCACZ,wBACC,iNAAC;4BAAI,WAAU;sCACb,cAAA,iNAAC;gCAAI,WAAU;;;;;;;;;;mCAEf,sBACF,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;oCAAE,WAAU;8CAAqB;;;;;;8CAClC,iNAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;mCAKH,mBAAmB,GAAG,CAAC,CAAC;4BACtB,MAAM,cAAc,oBAAoB,SAAS,IAAI;4BACrD,MAAM,mBAAmB,oBAAoB,SAAS,IAAI;4BAE1D,qBACE,iNAAC;gCAAsB,WAAU;;oCAE9B,IAAA,8KAAkB,EAAC,SAAS,IAAI;kDAGjC,iNAAC;wCAAI,WAAU;kDACZ,eAAe,mBACd,8BAA8B;sDAC9B,iNAAC;4CAAI,WAAU;sDACb,cAAA,iNAAC;gDAAE,WAAU;0DAAsD,iBAAiB,IAAI;;;;;;;;;;mDAI1F,qCAAqC;sDACrC,iNAAC;4CAAI,WAAU;sDACb,cAAA,iNAAC;gDAAE,WAAU;0DAAsD,SAAS,IAAI;;;;;;;;;;;;;;;;kDAOtF,iNAAC;wCAAI,WAAU;kDACZ,4BACC;sDAeE,cAAA,iNAAC;gDAAI,WAAU;;kEACb,iNAAC,iQAAW;wDAAC,WAAU;;;;;;kEACvB,iNAAC;wDAAE,WAAU;kEAAqC;;;;;;;;;;;;4DAItD,kBAAkB,iBAClB,iNAAC;4CACC,SAAS,IAAM,mBAAmB,SAAS,EAAE,EAAE,SAAS,IAAI;4CAC5D,WAAU;;gDACX;8DAEC,iNAAC,6PAAY;oDAAC,WAAU;;;;;;;;;;;;;;;;;;+BAnDtB,SAAS,EAAE;;;;;wBAyDzB;;;;;;kCAKJ,iNAAC;wBAAI,WAAU;;4BACZ,wBAAU,mcAAQ,iNAAC;gCAClB,SAAS;gCACT,UAAU;gCACV,WAAU;0CAET,6BACC;;sDACE,iNAAC;4CAAI,WAAU;4CAAuB,OAAM;4CAA6B,MAAK;4CAAO,SAAQ;;8DAC3F,iNAAC;oDAAO,WAAU;oDAAa,IAAG;oDAAK,IAAG;oDAAK,GAAE;oDAAK,QAAO;oDAAe,aAAY;;;;;;8DACxF,iNAAC;oDAAK,WAAU;oDAAa,MAAK;oDAAe,GAAE;;;;;;;;;;;;wCAC/C;;mDAIR;;;;;;4BAKH,6BACC,iNAAC;gCAAI,WAAW,CAAC,4BAA4B,EAC3C,YAAY,OAAO,GACf,uDACA,gDACJ;;kDACA,iNAAC;wCAAI,WAAU;kDACZ,YAAY,OAAO,GAAG,aAAa;;;;;;kDAEtC,iNAAC;wCAAI,WAAU;kDACZ,YAAY,OAAO,IAAI,YAAY,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;;;;;0BAQvD,iNAAC,yLAAmB;gBAClB,QAAQ;gBACR,SAAS;gBACT,WAAW;gBACX,cAAc,kBAAkB,QAAQ;;;;;;;;;;;;AAIhD;GApXwB;;QAOY,uMAAkB;QAWhD,6KAAiB;QAEF,0MAAuB;;;KApBpB"}},
    {"offset": {"line": 14116, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/form-loading-overlay.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect, useRef } from 'react'\n\ninterface FormLoadingOverlayProps {\n  avatarsLoading: boolean\n  autoFilling: boolean\n  isFormReady: boolean\n  hasUserEmail: boolean\n}\n\nexport default function FormLoadingOverlay({\n  avatarsLoading,\n  autoFilling,\n  isFormReady,\n  hasUserEmail\n}: FormLoadingOverlayProps) {\n  const [showOverlay, setShowOverlay] = useState(false)\n  const [isApiComplete, setIsApiComplete] = useState(false)\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null)\n  const delayTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n  useEffect(() => {\n    const isNowLoading = avatarsLoading || autoFilling || !isFormReady\n    \n    if (!isNowLoading && showOverlay && !isApiComplete) {\n      setIsApiComplete(true)\n      \n      if (delayTimeoutRef.current) {\n        clearTimeout(delayTimeoutRef.current)\n      }\n      \n      delayTimeoutRef.current = setTimeout(() => {\n        setShowOverlay(false)\n        setIsApiComplete(false)\n      }, 2000)\n    }\n  }, [avatarsLoading, autoFilling, isFormReady, showOverlay, isApiComplete])\n\n  useEffect(() => {\n    if (showOverlay && !isApiComplete) {\n      const fallbackTimeout = setTimeout(() => {\n        setShowOverlay(false)\n        setIsApiComplete(false)\n      }, 15000)\n\n      return () => clearTimeout(fallbackTimeout)\n    }\n  }, [showOverlay, isApiComplete])\n\n  useEffect(() => {\n    const isDataLoading = avatarsLoading || autoFilling || !isFormReady\n    \n    if (isDataLoading && !showOverlay) {\n      setShowOverlay(true)\n      setIsApiComplete(false)\n    }\n  }, [avatarsLoading, autoFilling, isFormReady, showOverlay])\n\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current)\n        timeoutRef.current = null\n      }\n      if (delayTimeoutRef.current) {\n        clearTimeout(delayTimeoutRef.current)\n        delayTimeoutRef.current = null\n      }\n    }\n  }, [])\n\n  if (!showOverlay) return null\n\n  return (\n    <div className=\"absolute inset-0 bg-white/90 backdrop-blur-sm z-10 flex items-center justify-center\">\n      <div className=\"bg-white rounded-xl p-8 shadow-2xl max-w-md w-full mx-4\">\n        <div className=\"text-center\">\n          {/* Main spinner */}\n          <div className=\"flex justify-center mb-6\">\n            <svg className=\"animate-spin h-12 w-12 text-[#5046E5]\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n          </div>\n          \n          {/* Loading title */}\n          <h3 className=\"text-xl font-semibold text-gray-800 mb-4\">\n            {isApiComplete ? 'Form Ready!' : (autoFilling ? 'Loading Your Settings' : 'Preparing Form')}\n          </h3>\n          \n          {/* Progress indicators */}\n          <div className=\"space-y-3 text-left\">\n            <div className={`flex items-center gap-3 ${(!avatarsLoading || isApiComplete) ? 'text-green-600' : 'text-gray-500'}`}>\n              <div className={`w-4 h-4 rounded-full flex items-center justify-center ${(!avatarsLoading || isApiComplete) ? 'bg-green-100' : 'bg-gray-200'}`}>\n                {(!avatarsLoading || isApiComplete) ? (\n                  <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                  </svg>\n                ) : (\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-pulse\"></div>\n                )}\n              </div>\n              <span className=\"text-sm font-medium\">\n                {avatarsLoading && !isApiComplete ? 'Loading avatars...' : 'Avatars loaded'}\n              </span>\n            </div>\n            \n            {hasUserEmail && (\n              <div className={`flex items-center gap-3 ${(!autoFilling && isFormReady) || isApiComplete ? 'text-green-600' : 'text-gray-500'}`}>\n                <div className={`w-4 h-4 rounded-full flex items-center justify-center ${(!autoFilling && isFormReady) || isApiComplete ? 'bg-green-100' : 'bg-gray-200'}`}>\n                  {(!autoFilling && isFormReady) || isApiComplete ? (\n                    <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                    </svg>\n                  ) : (\n                    <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-pulse\"></div>\n                  )}\n                </div>\n                <span className=\"text-sm font-medium\">\n                  {isApiComplete ? 'Settings loaded' : (autoFilling ? 'Loading your settings...' : isFormReady ? 'Settings loaded' : 'Preparing settings...')}\n                </span>\n              </div>\n            )}\n          </div>\n          \n          {/* Loading message */}\n          <div className=\"mt-6 text-sm text-gray-600\">\n            {isApiComplete ? 'Everything is ready! You can now start creating your video.' : (autoFilling ? '' : 'Please wait while we prepare everything for you')}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 14400, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-selection-status.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { CheckCircle, AlertCircle } from 'lucide-react'\nimport { Avatar } from '@/lib/api-service'\n\ninterface AvatarSelectionStatusProps {\n  selectedAvatars: {\n    title: Avatar | null\n    body: Avatar | null\n    conclusion: Avatar | null\n  }\n}\n\nexport default function AvatarSelectionStatus({ selectedAvatars }: AvatarSelectionStatusProps) {\n  const totalSelected = [selectedAvatars.title, selectedAvatars.body, selectedAvatars.conclusion].filter(Boolean).length\n  const isComplete = selectedAvatars.title && selectedAvatars.body && selectedAvatars.conclusion\n\n  return (\n    <>\n      {/* Success Status - Show when avatars are selected */}\n      {totalSelected > 0 && (\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n          <div className=\"flex items-center gap-3\">\n            <CheckCircle className=\"w-5 h-5 text-blue-600\" />\n            <div>\n              <h3 className=\"text-blue-800 font-semibold\">Avatar Selection</h3>\n              <p className=\"text-blue-700 text-sm\">\n                {totalSelected} of 3 avatars selected\n                {totalSelected < 3 && (\n                  <span className=\"block text-xs text-blue-600 mt-1\">\n                    Select {3 - totalSelected} more avatar{3 - totalSelected > 1 ? 's' : ''} to continue\n                  </span>\n                )}\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Warning Status - Show when assignment is incomplete */}\n      {!isComplete && (\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n          <div className=\"flex items-center gap-3\">\n            <AlertCircle className=\"w-5 h-5 text-yellow-600\" />\n            <div>\n              <h3 className=\"text-yellow-800 font-semibold\">Avatar Assignment Required</h3>\n              <p className=\"text-yellow-700 text-sm\">\n                Please assign selected avatars to: \n                {!selectedAvatars.title && <span className=\"font-semibold\"> Title,</span>}\n                {!selectedAvatars.body && <span className=\"font-semibold\"> Body <span className=\"font-normal\">and</span></span>}\n                {!selectedAvatars.conclusion && <span className=\"font-semibold\"> Conclusion</span>}\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAHA;;;AAce,SAAS,sBAAsB,EAAE,eAAe,EAA8B;IAC3F,MAAM,gBAAgB;QAAC,gBAAgB,KAAK;QAAE,gBAAgB,IAAI;QAAE,gBAAgB,UAAU;KAAC,CAAC,MAAM,CAAC,SAAS,MAAM;IACtH,MAAM,aAAa,gBAAgB,KAAK,IAAI,gBAAgB,IAAI,IAAI,gBAAgB,UAAU;IAE9F,qBACE;;YAEG,gBAAgB,mBACf,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAI,WAAU;;sCACb,iNAAC,iQAAW;4BAAC,WAAU;;;;;;sCACvB,iNAAC;;8CACC,iNAAC;oCAAG,WAAU;8CAA8B;;;;;;8CAC5C,iNAAC;oCAAE,WAAU;;wCACV;wCAAc;wCACd,gBAAgB,mBACf,iNAAC;4CAAK,WAAU;;gDAAmC;gDACzC,IAAI;gDAAc;gDAAa,IAAI,gBAAgB,IAAI,MAAM;gDAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAUrF,CAAC,4BACA,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAI,WAAU;;sCACb,iNAAC,0PAAW;4BAAC,WAAU;;;;;;sCACvB,iNAAC;;8CACC,iNAAC;oCAAG,WAAU;8CAAgC;;;;;;8CAC9C,iNAAC;oCAAE,WAAU;;wCAA0B;wCAEpC,CAAC,gBAAgB,KAAK,kBAAI,iNAAC;4CAAK,WAAU;sDAAgB;;;;;;wCAC1D,CAAC,gBAAgB,IAAI,kBAAI,iNAAC;4CAAK,WAAU;;gDAAgB;8DAAM,iNAAC;oDAAK,WAAU;8DAAc;;;;;;;;;;;;wCAC7F,CAAC,gBAAgB,UAAU,kBAAI,iNAAC;4CAAK,WAAU;sDAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhF;KA7CwB"}},
    {"offset": {"line": 14579, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/form-field-configs.ts"],"sourcesContent":["// Form field configurations for CreateVideoForm\n\nexport interface FormFieldConfig {\n  field: string\n  label: string\n  placeholder: string\n  type?: string\n  autoComplete?: string\n  required?: boolean\n  disabled?: boolean\n  options?: { value: string; label: string }[] // For dropdown fields\n}\n\n// Row 2 fields configuration\nexport const row2Fields: FormFieldConfig[] = [\n  {\n    field: 'callToAction',\n    label: 'Call to Action',\n    placeholder: 'e.g. Call for consultation',\n    type: 'text',\n    required: true\n  },\n  {\n    field: 'license',\n    label: 'License',\n    placeholder: 'e.g. License #12345',\n    type: 'text',\n    required: true\n  },\n  {\n    field: 'tailoredFit',\n    label: 'Tailored Fit',\n    placeholder: 'e.g. First-time buyer specialist',\n    type: 'text',\n    required: true\n  },\n  {\n    field: 'socialHandles',\n    label: 'Social Handles',\n    placeholder: 'e.g. @johnsmith, @facebook',\n    type: 'text',\n    required: true\n  }\n]\n\n// Row 3 fields configuration\nexport const row3Fields: FormFieldConfig[] = [\n  {\n    field: 'city',\n    label: 'City',\n    placeholder: 'e.g. Los Angeles',\n    type: 'text',\n    autoComplete: 'address-level2',\n    required: true\n  },\n  {\n    field: 'preferredTone',\n    label: 'Preferred Tone',\n    placeholder: 'e.g. Professional, friendly, etc.',\n    type: 'text',\n    required: true\n  },\n  {\n    field: 'email',\n    label: 'Email',\n    placeholder: 'your.email@example.com',\n    type: 'email',\n    autoComplete: 'email',\n    required: true,\n    disabled: true\n  },\n  {\n    field: 'gender',\n    label: 'Gender',\n    placeholder: 'Select Gender',\n    type: 'dropdown',\n    required: true,\n    options: [\n      { value: 'Male', label: 'Male' },\n      { value: 'Female', label: 'Female' },\n    ]\n  }\n]\n"],"names":[],"mappings":"AAAA,gDAAgD;;;;;;;AAczC,MAAM,aAAgC;IAC3C;QACE,OAAO;QACP,OAAO;QACP,aAAa;QACb,MAAM;QACN,UAAU;IACZ;IACA;QACE,OAAO;QACP,OAAO;QACP,aAAa;QACb,MAAM;QACN,UAAU;IACZ;IACA;QACE,OAAO;QACP,OAAO;QACP,aAAa;QACb,MAAM;QACN,UAAU;IACZ;IACA;QACE,OAAO;QACP,OAAO;QACP,aAAa;QACb,MAAM;QACN,UAAU;IACZ;CACD;AAGM,MAAM,aAAgC;IAC3C;QACE,OAAO;QACP,OAAO;QACP,aAAa;QACb,MAAM;QACN,cAAc;QACd,UAAU;IACZ;IACA;QACE,OAAO;QACP,OAAO;QACP,aAAa;QACb,MAAM;QACN,UAAU;IACZ;IACA;QACE,OAAO;QACP,OAAO;QACP,aAAa;QACb,MAAM;QACN,cAAc;QACd,UAAU;QACV,UAAU;IACZ;IACA;QACE,OAAO;QACP,OAAO;QACP,aAAa;QACb,MAAM;QACN,UAAU;QACV,SAAS;YACP;gBAAE,OAAO;gBAAQ,OAAO;YAAO;YAC/B;gBAAE,OAAO;gBAAU,OAAO;YAAS;SACpC;IACH;CACD"}},
    {"offset": {"line": 14666, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/form-validation-schema.ts"],"sourcesContent":["import { z } from 'zod'\n\n// Form validation schema for CreateVideoForm\nexport const createVideoSchema = z.object({\n  prompt: z.string().min(1),\n  avatar: z.string().min(1, 'Please select an avatar'),\n  name: z.string()\n    .min(2, 'Full name must be at least 2 characters')\n    .max(100, 'Full name must be less than 100 characters')\n    .regex(/^[a-zA-Z\\s]+$/, 'Full name can only contain letters and spaces'),\n  position: z.string().min(1, 'Please select a position'),\n  companyName: z.string()\n    .min(2, 'Company name must be at least 2 characters')\n    .max(100, 'Company name must be less than 100 characters'),\n  license: z.string()\n    .min(2, 'License must be at least 2 characters')\n    .max(50, 'License must be less than 50 characters'),\n  tailoredFit: z.string()\n    .min(2, 'Tailored fit must be at least 2 characters')\n    .max(200, 'Tailored fit must be less than 200 characters'),\n  socialHandles: z.string()\n    .min(2, 'Social handles must be at least 2 characters')\n    .max(200, 'Social handles must be less than 200 characters'),\n  videoTopic: z.string()\n    .min(1, 'Please enter a valid topic or key points.')\n    .max(100, 'Topic must be less than 100 characters'),\n  topicKeyPoints: z.string()\n    .min(2, 'Key points are required')\n    .max(500, 'Key points must be less than 500 characters'),\n  city: z.string()\n    .min(2, 'City must be at least 2 characters')\n    .max(50, 'City must be less than 50 characters')\n    .regex(/^[a-zA-Z\\s]+$/, 'City can only contain letters and spaces'),\n  preferredTone: z.string()\n    .min(2, 'Preferred tone must be at least 2 characters')\n    .max(100, 'Preferred tone must be less than 100 characters'),\n  callToAction: z.string()\n    .min(2, 'Call to action must be at least 2 characters')\n    .max(200, 'Call to action must be less than 200 characters'),\n  email: z.string()\n    .email('Please enter a valid email address')\n    .max(255, 'Email must be less than 255 characters'),\n  gender: z.string().min(1, 'Please select a gender'),\n  preset: z.string().optional(),\n  voice: z.string().optional(),\n  music: z.string().optional(),\n  language: z.string().optional(),\n  videoCaption: z.string().min(1, 'Please select an option')\n})\n\n// Type inference from schema\nexport type CreateVideoFormData = z.infer<typeof createVideoSchema>\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,oBAAoB,yMAAC,CAAC,MAAM,CAAC;IACxC,QAAQ,yMAAC,CAAC,MAAM,GAAG,GAAG,CAAC;IACvB,QAAQ,yMAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC1B,MAAM,yMAAC,CAAC,MAAM,GACX,GAAG,CAAC,GAAG,2CACP,GAAG,CAAC,KAAK,8CACT,KAAK,CAAC,iBAAiB;IAC1B,UAAU,yMAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,aAAa,yMAAC,CAAC,MAAM,GAClB,GAAG,CAAC,GAAG,8CACP,GAAG,CAAC,KAAK;IACZ,SAAS,yMAAC,CAAC,MAAM,GACd,GAAG,CAAC,GAAG,yCACP,GAAG,CAAC,IAAI;IACX,aAAa,yMAAC,CAAC,MAAM,GAClB,GAAG,CAAC,GAAG,8CACP,GAAG,CAAC,KAAK;IACZ,eAAe,yMAAC,CAAC,MAAM,GACpB,GAAG,CAAC,GAAG,gDACP,GAAG,CAAC,KAAK;IACZ,YAAY,yMAAC,CAAC,MAAM,GACjB,GAAG,CAAC,GAAG,6CACP,GAAG,CAAC,KAAK;IACZ,gBAAgB,yMAAC,CAAC,MAAM,GACrB,GAAG,CAAC,GAAG,2BACP,GAAG,CAAC,KAAK;IACZ,MAAM,yMAAC,CAAC,MAAM,GACX,GAAG,CAAC,GAAG,sCACP,GAAG,CAAC,IAAI,wCACR,KAAK,CAAC,iBAAiB;IAC1B,eAAe,yMAAC,CAAC,MAAM,GACpB,GAAG,CAAC,GAAG,gDACP,GAAG,CAAC,KAAK;IACZ,cAAc,yMAAC,CAAC,MAAM,GACnB,GAAG,CAAC,GAAG,gDACP,GAAG,CAAC,KAAK;IACZ,OAAO,yMAAC,CAAC,MAAM,GACZ,KAAK,CAAC,sCACN,GAAG,CAAC,KAAK;IACZ,QAAQ,yMAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC1B,QAAQ,yMAAC,CAAC,MAAM,GAAG,QAAQ;IAC3B,OAAO,yMAAC,CAAC,MAAM,GAAG,QAAQ;IAC1B,OAAO,yMAAC,CAAC,MAAM,GAAG,QAAQ;IAC1B,UAAU,yMAAC,CAAC,MAAM,GAAG,QAAQ;IAC7B,cAAc,yMAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAClC"}},
    {"offset": {"line": 14701, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/usage-limit-toast.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { AlertCircle, X, Crown } from 'lucide-react'\nimport { useRouter } from 'next/navigation'\n\ninterface UsageLimitToastProps {\n  isVisible: boolean\n  message: string\n  onClose: () => void\n  onUpgrade?: () => void\n  autoHide?: boolean\n  autoHideDelay?: number\n}\n\nexport default function UsageLimitToast({\n  isVisible,\n  message,\n  onClose,\n  onUpgrade,\n  autoHide = true,\n  autoHideDelay = 8000\n}: UsageLimitToastProps) {\n  const router = useRouter()\n  const [isClosing, setIsClosing] = useState(false)\n\n  useEffect(() => {\n    if (isVisible && autoHide) {\n      const timer = setTimeout(() => {\n        handleClose()\n      }, autoHideDelay)\n\n      return () => clearTimeout(timer)\n    }\n  }, [isVisible, autoHide, autoHideDelay])\n\n  const handleClose = () => {\n    setIsClosing(true)\n    setTimeout(() => {\n      onClose()\n      setIsClosing(false)\n    }, 300)\n  }\n\n  const handleUpgrade = () => {\n    onUpgrade?.()\n    handleClose()\n    // Navigate to pricing page\n    router.push('/account')\n  }\n\n  if (!isVisible) return null\n\n  return (\n    <div className={`fixed top-4 right-4 z-50 max-w-md transition-all duration-300 ${\n      isClosing ? 'opacity-0 translate-x-full' : 'opacity-100 translate-x-0'\n    }`}>\n      <div className=\"bg-white border border-red-200 rounded-lg shadow-lg overflow-hidden\">\n        {/* Header */}\n        <div className=\"bg-red-50 px-4 py-3 border-b border-red-200\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <AlertCircle className=\"w-5 h-5 text-red-600\" />\n              <h3 className=\"text-red-800 font-semibold text-sm\">Video Limit Reached</h3>\n            </div>\n            <button\n              onClick={handleClose}\n              className=\"text-red-400 hover:text-red-600 transition-colors\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"px-4 py-3\">\n          <p className=\"text-gray-700 text-sm mb-3\">{message}</p>\n          \n          {/* Action Buttons */}\n          <div className=\"flex gap-2\">\n            <button\n              onClick={handleUpgrade}\n              className=\"flex-1 bg-[#5046E5] text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-[#4338CA] transition-colors flex items-center justify-center gap-1\"\n            >\n              <Crown className=\"w-4 h-4\" />\n              Upgrade Plan\n            </button>\n            <button\n              onClick={handleClose}\n              className=\"px-3 py-2 text-gray-600 hover:text-gray-800 text-sm font-medium transition-colors\"\n            >\n              Dismiss\n            </button>\n          </div>\n        </div>\n\n        {/* Progress Bar */}\n        <div className=\"h-1 bg-red-100\">\n          <div \n            className=\"h-full bg-red-500 transition-all duration-1000 ease-out\"\n            style={{ width: '100%' }}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;;;AAJA;;;;AAee,SAAS,gBAAgB,EACtC,SAAS,EACT,OAAO,EACP,OAAO,EACP,SAAS,EACT,WAAW,IAAI,EACf,gBAAgB,IAAI,EACC;;IACrB,MAAM,SAAS,IAAA,sKAAS;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,6LAAQ,EAAC;IAE3C,IAAA,8LAAS;qCAAC;YACR,IAAI,aAAa,UAAU;gBACzB,MAAM,QAAQ;uDAAW;wBACvB;oBACF;sDAAG;gBAEH;iDAAO,IAAM,aAAa;;YAC5B;QACF;oCAAG;QAAC;QAAW;QAAU;KAAc;IAEvC,MAAM,cAAc;QAClB,aAAa;QACb,WAAW;YACT;YACA,aAAa;QACf,GAAG;IACL;IAEA,MAAM,gBAAgB;QACpB;QACA;QACA,2BAA2B;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,IAAI,CAAC,WAAW,OAAO;IAEvB,qBACE,iNAAC;QAAI,WAAW,CAAC,8DAA8D,EAC7E,YAAY,+BAA+B,6BAC3C;kBACA,cAAA,iNAAC;YAAI,WAAU;;8BAEb,iNAAC;oBAAI,WAAU;8BACb,cAAA,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCAAI,WAAU;;kDACb,iNAAC,0PAAW;wCAAC,WAAU;;;;;;kDACvB,iNAAC;wCAAG,WAAU;kDAAqC;;;;;;;;;;;;0CAErD,iNAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,iNAAC,wNAAC;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;8BAMnB,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAE,WAAU;sCAA8B;;;;;;sCAG3C,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;oCACC,SAAS;oCACT,WAAU;;sDAEV,iNAAC,oOAAK;4CAAC,WAAU;;;;;;wCAAY;;;;;;;8CAG/B,iNAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;8BAOL,iNAAC;oBAAI,WAAU;8BACb,cAAA,iNAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,OAAO;wBAAO;;;;;;;;;;;;;;;;;;;;;;AAMnC;GA3FwB;;QAQP,sKAAS;;;KARF"}},
    {"offset": {"line": 14910, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/voice-selector/useAudioPlayer.ts"],"sourcesContent":["import { useState, useRef, useEffect, useCallback } from 'react'\nimport { Voice } from './types'\n\nexport function useAudioPlayer() {\n  const [playingVoiceId, setPlayingVoiceId] = useState<string | null>(null)\n  const [voiceProgress, setVoiceProgress] = useState<Record<string, number>>({})\n  const audioRefs = useRef<Map<string, HTMLAudioElement>>(new Map())\n\n  const stopAllAudio = useCallback(() => {\n    try {\n      audioRefs.current.forEach((audio) => {\n        try {\n          if (audio && !audio.paused) {\n            audio.pause()\n            audio.currentTime = 0\n          }\n        } catch {\n          \n        }\n      })\n      setPlayingVoiceId(null)\n      setVoiceProgress({})\n    } catch { \n      setPlayingVoiceId(null)\n      setVoiceProgress({})\n    }\n  }, [])\n\n  const handlePlayPreview = useCallback((e: React.MouseEvent, voice: Voice) => {\n    \n    try {\n      e.stopPropagation()\n      e.preventDefault()\n    } catch {\n      \n    }\n    \n    // Check both previewUrl and preview_url for compatibility\n    const previewUrl = voice.previewUrl || voice.preview_url\n    \n    if (!previewUrl) {\n      console.warn('No preview URL for voice/music:', voice.name)\n      return\n    }\n\n    \n    if (playingVoiceId === voice.id) {\n      stopAllAudio()\n      return\n    }\n\n    \n    stopAllAudio()\n    \n    \n    setPlayingVoiceId(voice.id)\n    \n    setVoiceProgress((prev) => ({ ...prev, [voice.id]: 0 }))\n\n    let audio = audioRefs.current.get(voice.id)\n    \n    \n    const voiceId = voice.id\n    const voiceName = voice.name\n    \n    if (!audio) {\n      audio = new Audio()\n      // Don't set crossOrigin for S3 URLs - they often don't have CORS configured\n      // Audio can still play without crossOrigin, but won't be accessible via Canvas API\n      // Since we're just playing audio (not analyzing), we don't need crossOrigin\n      audio.preload = 'metadata'\n      \n      const handlePlaying = () => {\n        setPlayingVoiceId(voiceId)\n      }\n      \n      const handlePause = () => {\n        setPlayingVoiceId((current) => current === voiceId ? null : current)\n      }\n      \n      const handleEnded = () => {\n        setPlayingVoiceId((current) => current === voiceId ? null : current)\n        setVoiceProgress((prev) => ({ ...prev, [voiceId]: 0 }))\n      }\n      \n      const handleTimeUpdate = () => {\n        try {\n          const audioElement = audioRefs.current.get(voiceId)\n          if (audioElement && audioElement.duration && !isNaN(audioElement.duration)) {\n            const currentTime = audioElement.currentTime || 0\n            const duration = audioElement.duration\n            const progress = Math.min(100, Math.max(0, (currentTime / duration) * 100))\n            \n            if (!isNaN(progress) && isFinite(progress)) {\n              setVoiceProgress((prev) => ({ ...prev, [voiceId]: progress }))\n            }\n          }\n        } catch {\n          \n        }\n      }\n      \n      const handleError = () => {\n        \n        try {\n          const audioElement = audioRefs.current.get(voiceId)\n          if (audioElement?.error) {\n            const errorCode = audioElement.error.code\n            const errorMessage = String(audioElement.error.message || 'Unknown error')\n            \n            // Check if it's a CORS error - try retrying without crossOrigin\n            if (errorCode === 4 || errorMessage.includes('CORS') || errorMessage.includes('cross-origin')) {\n              console.warn('CORS error detected, retrying without crossOrigin:', previewUrl)\n              \n              // Remove crossOrigin and try again\n              try {\n                audioElement.crossOrigin = null\n                audioElement.load()\n                audioElement.play().catch(() => {\n                  // If it still fails, show the error\n                  const errorDetails: Record<string, string | number> = {\n                    error: String(errorCode || 'unknown'),\n                    message: 'CORS error: Audio cannot be played due to CORS policy. Please configure S3 bucket CORS settings.',\n                    voiceName: String(voiceName || ''),\n                    url: String(previewUrl || '')\n                  }\n                  console.error('Audio CORS error:', errorDetails)\n                  setPlayingVoiceId((current) => current === voiceId ? null : current)\n                  setVoiceProgress((prev) => ({ ...prev, [voiceId]: 0 }))\n                })\n                return // Don't set error state yet, let it try to play\n              } catch {\n                // Fall through to normal error handling\n              }\n            }\n            \n            const errorDetails: Record<string, string | number> = {\n              error: String(errorCode || 'unknown'),\n              message: errorMessage,\n              voiceName: String(voiceName || ''),\n              url: String(previewUrl || '')\n            }\n            console.error('Audio error:', errorDetails)\n          } else {\n            console.error('Error loading voice preview:', String(voiceName || ''))\n          }\n        } catch {\n          \n          console.error('Audio error occurred for voice:', String(voiceName || ''))\n        }\n        setPlayingVoiceId((current) => current === voiceId ? null : current)\n        setVoiceProgress((prev) => ({ ...prev, [voiceId]: 0 }))\n      }\n      \n      audio.addEventListener('playing', handlePlaying)\n      audio.addEventListener('pause', handlePause)\n      audio.addEventListener('ended', handleEnded)\n      audio.addEventListener('timeupdate', handleTimeUpdate)\n      audio.addEventListener('error', handleError)\n      \n      \n      audio.src = previewUrl\n      audioRefs.current.set(voice.id, audio)\n    } else {\n\n      if (audio.ended || audio.currentTime > 0) {\n        audio.currentTime = 0\n        setVoiceProgress((prev) => ({ ...prev, [voiceId]: 0 }))\n      }\n    }\n\n    const playAudio = async () => {\n      try {\n        if (audio.readyState >= 2) {\n          await audio.play().catch((playError: unknown) => {\n            try {\n              const err = playError as Error\n              const errorDetails: Record<string, string> = {\n                message: String(err?.message || 'Play failed'),\n                name: String(err?.name || 'Error'),\n                voiceName: String(voiceName || ''),\n                url: String(previewUrl || '')\n              }\n              console.error('Error playing audio:', errorDetails)\n            } catch {\n              console.error('Error playing audio for voice:', String(voiceName || ''))\n            }\n            setPlayingVoiceId((current) => current === voiceId ? null : current)\n            setVoiceProgress((prev) => ({ ...prev, [voiceId]: 0 }))\n            throw playError\n          })\n        } else {\n          const handleCanPlayThrough = () => {\n            audio.play().catch((error: unknown) => {\n              try {\n                const err = error as Error\n                const errorDetails: Record<string, string> = {\n                  message: String(err?.message || 'Unknown error'),\n                  name: String(err?.name || 'Error'),\n                  voiceName: String(voiceName || ''),\n                  url: String(previewUrl || '')\n                }\n                console.error('Error playing audio:', errorDetails)\n              } catch {\n                console.error('Error playing audio for voice:', String(voiceName || ''))\n              }\n              setPlayingVoiceId((current) => current === voiceId ? null : current)\n              setVoiceProgress((prev) => ({ ...prev, [voiceId]: 0 }))\n            })\n          }\n          \n          audio.addEventListener('canplaythrough', handleCanPlayThrough, { once: true })\n          \n          if (audio.readyState === 0) {\n            audio.load()\n          }\n        }\n      } catch (error: unknown) {\n        try {\n          const err = error as Error\n          const errorDetails: Record<string, string> = {\n            message: String(err?.message || 'Unknown error'),\n            name: String(err?.name || 'Error'),\n            voiceName: String(voiceName || ''),\n            url: String(previewUrl || '')\n          }\n          console.error('Error playing audio:', errorDetails)\n        } catch {\n          console.error('Error playing audio for voice:', String(voiceName || ''))\n        }\n        setPlayingVoiceId((current) => current === voiceId ? null : current)\n        setVoiceProgress((prev) => ({ ...prev, [voiceId]: 0 }))\n      }\n    }\n\n    playAudio()\n  }, [playingVoiceId, stopAllAudio])\n\n  useEffect(() => {\n    const currentAudioRefs = audioRefs.current\n    return () => {\n      try {\n        stopAllAudio()\n        currentAudioRefs.forEach((audio) => {\n          try {\n            if (audio) {\n              audio.pause()\n              audio.src = ''\n              audio.load()\n            }\n          } catch {\n          }\n        })\n        currentAudioRefs.clear()\n      } catch {\n        currentAudioRefs.clear()\n      }\n    }\n  }, [stopAllAudio])\n\n  return {\n    playingVoiceId,\n    voiceProgress,\n    handlePlayPreview,\n    stopAllAudio\n  }\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 15244, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/voice-selector/VoiceTypeSelector.tsx"],"sourcesContent":["'use client'\n\nimport { VoiceType } from './types'\n\ninterface VoiceTypeSelectorProps {\n  currentType: VoiceType\n  onTypeChange: (type: VoiceType) => void\n  disabled?: boolean\n  title?: string\n  description?: string\n  lowLabel?: string\n  mediumLabel?: string\n  highLabel?: string\n  customLabel?: string\n  hasCustomVoices?: boolean\n}\n\nexport default function VoiceTypeSelector({ \n  currentType, \n  onTypeChange,\n  disabled = false,\n  title = 'Voice Energy',\n  description = 'Select the level of music and search the best voice for your video',\n  lowLabel = 'Low Voice',\n  mediumLabel = 'Medium Voice',\n  highLabel = 'High Voice',\n  customLabel = 'Custom',\n  hasCustomVoices = false\n}: VoiceTypeSelectorProps) {\n  return (\n    <div className=\"lg:w-[280px] w-full bg-white px-6 flex flex-col\">\n      <div className=\"mb-5\">\n        <h3 className=\"text-[20px] font-semibold text-[#5F5F5F] mb-3\">{title}</h3>\n        <p className=\"text-base leading-[20px] text-[#5F5F5F]\">\n        {description}\n        </p>\n      </div>\n      \n      <div className=\"space-y-1 flex-1 lg:flex-col flex-row flex-wrap\">\n        <button\n          type=\"button\"\n          onClick={() => !disabled && onTypeChange('low')}\n          disabled={disabled}\n          className={`w-full flex items-center gap-4 px-2 py-2 rounded-[4px] transition-all duration-200 ${\n            disabled ? 'cursor-not-allowed opacity-60' : 'cursor-pointer'\n          } ${\n            currentType === 'low'\n              ? 'bg-white shadow-[0_2px_8px_rgba(0,0,0,0.08)]'\n              : 'bg-transparent hover:bg-white/50'\n          }`}\n        >\n          <div className={`lg:w-[60px] lg:h-[65px] w-[45px] h-[45px] rounded-[4px] flex items-center justify-center ${\n            currentType === 'low' ? 'bg-[#5046E51A]' : 'bg-[#5046E51A]'\n          }`}>\n            <svg width=\"27\" height=\"24\" viewBox=\"0 0 27 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M14.5795 3.33027L10.4091 7.4998H5.625C5.00344 7.4998 4.5 8.00324 4.5 8.6248V15.3748C4.5 15.9959 5.00344 16.4998 5.625 16.4998H10.4091L14.5795 20.6693C15.2841 21.3739 16.5 20.8789 16.5 19.8739V4.12574C16.5 3.1198 15.2831 2.62668 14.5795 3.33027ZM20.3545 8.39652C19.8117 8.09981 19.1269 8.29527 18.8259 8.83949C18.5264 9.38371 18.7247 10.0676 19.2689 10.3681C19.8741 10.7004 20.25 11.3262 20.25 11.9998C20.25 12.6739 19.8741 13.2992 19.2694 13.6315C18.7252 13.932 18.5269 14.6159 18.8264 15.1601C19.1278 15.7067 19.8131 15.9007 20.355 15.6031C21.6783 14.8742 22.5005 13.4937 22.5005 11.9993C22.5005 10.505 21.6783 9.12496 20.3545 8.39652Z\" fill=\"#5046E5\"/>\n            </svg>\n          </div>\n          <span className={`text-[16px] ${currentType === 'low' ? 'font-semibold text-[#11101066]' : 'font-normal text-[#11101066]'}`}>\n            {lowLabel}\n          </span>\n        </button>\n\n        <button\n          type=\"button\"\n          onClick={() => !disabled && onTypeChange('medium')}\n          disabled={disabled}\n          className={`w-full flex items-center gap-4 px-2 py-2 rounded-[4px] transition-all duration-200 ${\n            disabled ? 'cursor-not-allowed opacity-60' : 'cursor-pointer'\n          } ${\n            currentType === 'medium'\n              ? 'bg-white shadow-[0_2px_8px_rgba(0,0,0,0.08)]'\n              : 'bg-transparent hover:bg-white/50'\n          }`}\n        >\n          <div className={`lg:w-[60px] lg:h-[65px] w-[45px] h-[45px] rounded-[4px] flex items-center justify-center ${\n            currentType === 'medium' ? 'bg-[#EBE9FE]' : 'bg-[#5046E51A]'\n          }`}>\n            <div className=\"flex gap-0.5\">\n            <svg width=\"27\" height=\"24\" viewBox=\"0 0 27 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M10.0795 3.33052L5.90906 7.50005H1.125C0.503438 7.50005 0 8.00349 0 8.62505V15.375C0 15.9961 0.503438 16.5 1.125 16.5H5.90906L10.0795 20.6696C10.7841 21.3741 12 20.8791 12 19.8741V4.12599C12 3.12005 10.7831 2.62692 10.0795 3.33052ZM22.5 12C22.5 9.02208 20.9972 6.28411 18.4795 4.6763C17.955 4.34161 17.2594 4.49724 16.927 5.02599C16.5947 5.55474 16.7498 6.25458 17.2744 6.58974C19.1377 7.77989 20.25 9.80208 20.25 12C20.25 14.198 19.1377 16.2202 17.2744 17.4104C16.7498 17.745 16.5947 18.4449 16.927 18.9741C17.2322 19.4597 17.917 19.6838 18.4795 19.3238C20.9972 17.716 22.5 14.9785 22.5 12ZM15.8545 8.39677C15.3117 8.10005 14.6269 8.29552 14.3259 8.83974C14.0264 9.38396 14.2247 10.0679 14.7689 10.3683C15.3741 10.7007 15.75 11.3265 15.75 12C15.75 12.6741 15.3741 13.2994 14.7694 13.6318C14.2252 13.9322 14.0269 14.6161 14.3264 15.1604C14.6278 15.7069 15.3131 15.901 15.855 15.6033C17.1783 14.8744 18.0005 13.494 18.0005 11.9996C18.0005 10.5052 17.1783 9.12521 15.8545 8.39677Z\" fill=\"#5046E5\"/>\n              </svg>\n            </div>\n          </div>\n          <span className={`text-[16px] ${currentType === 'medium' ? 'font-semibold text-[#11101066]' : 'font-normal text-[#11101066]'}`}>\n            {mediumLabel}\n          </span>\n        </button>\n\n        <button\n          type=\"button\"\n          onClick={() => !disabled && onTypeChange('high')}\n          disabled={disabled}\n          className={`w-full flex items-center gap-2 px-2 py-2 rounded-[4px] transition-all duration-200 ${\n            disabled ? 'cursor-not-allowed opacity-60' : 'cursor-pointer'\n          } ${\n            currentType === 'high'\n              ? 'bg-white shadow-[0_2px_8px_rgba(0,0,0,0.08)]'\n              : 'bg-transparent hover:bg-white/50'\n          }`}\n        >\n          <div className={`lg:w-[60px] lg:h-[65px] w-[45px] h-[45px] rounded-[4px] flex items-center justify-center ${\n            currentType === 'high' ? 'bg-[#EBE9FE]' : 'bg-[#5046E51A]'\n          }`}>\n            <div className=\"flex gap-0.5\">\n            <svg width=\"27\" height=\"24\" viewBox=\"0 0 27 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <g clipPath=\"url(#clip0_9025_1750)\">\n              <path d=\"M10.0795 3.33044L5.90906 7.49997H1.125C0.503438 7.49997 0 8.00341 0 8.62497V15.375C0 15.9961 0.503438 16.5 1.125 16.5H5.90906L10.0795 20.6695C10.7841 21.374 12 20.879 12 19.874V4.12591C12 3.11997 10.7831 2.62685 10.0795 3.33044ZM21.0164 0.936067C20.4928 0.592473 19.7892 0.737317 19.4456 1.26185C19.1016 1.78544 19.2478 2.48904 19.7714 2.83263C22.8778 4.87122 24.7317 8.29825 24.7317 12.0004C24.7317 15.7026 22.8778 19.1297 19.7714 21.1683C19.2478 21.5114 19.1016 22.2154 19.4456 22.7386C19.7756 23.2406 20.4736 23.4211 21.0164 23.0643C24.7627 20.6053 27 16.4686 27 12C27 7.53138 24.7627 3.39513 21.0164 0.936067ZM22.5 12C22.5 9.02201 20.9972 6.28404 18.4795 4.67622C17.955 4.34154 17.2594 4.49716 16.927 5.02591C16.5947 5.55466 16.7498 6.2545 17.2744 6.58966C19.1377 7.77982 20.25 9.802 20.25 12C20.25 14.1979 19.1377 16.2201 17.2744 17.4103C16.7498 17.745 16.5947 18.4448 16.927 18.974C17.2322 19.4597 17.917 19.6837 18.4795 19.3237C20.9972 17.7159 22.5 14.9784 22.5 12ZM15.8545 8.39669C15.3117 8.09997 14.6269 8.29544 14.3259 8.83966C14.0264 9.38388 14.2247 10.0678 14.7689 10.3683C15.3741 10.7006 15.75 11.3264 15.75 12C15.75 12.674 15.3741 13.2993 14.7694 13.6317C14.2252 13.9322 14.0269 14.6161 14.3264 15.1603C14.6278 15.7068 15.3131 15.9009 15.855 15.6033C17.1783 14.8743 18.0005 13.4939 18.0005 11.9995C18.0005 10.5051 17.1783 9.12513 15.8545 8.39669Z\" fill=\"#5046E5\"/></g><defs><clipPath id=\"clip0_9025_1750\"><rect width=\"27\" height=\"24\" fill=\"white\"/></clipPath></defs></svg>\n            </div>\n          </div>\n          <span className={`text-[16px] ${currentType === 'high' ? 'font-semibold text-[#11101066]' : 'font-normal text-[#11101066]'}`}>\n            {highLabel}\n          </span>\n        </button>\n\n        {hasCustomVoices && (\n          <button\n            type=\"button\"\n            onClick={() => !disabled && onTypeChange('custom')}\n            disabled={disabled}\n            className={`w-full flex items-center gap-4 px-2 py-2 rounded-[4px] transition-all duration-200 ${\n              disabled ? 'cursor-not-allowed opacity-60' : 'cursor-pointer'\n            } ${\n              currentType === 'custom'\n                ? 'bg-white shadow-[0_2px_8px_rgba(0,0,0,0.08)]'\n                : 'bg-transparent hover:bg-white/50'\n            }`}\n          >\n            <div className={`lg:w-[60px] lg:h-[65px] w-[45px] h-[45px] rounded-[4px] flex items-center justify-center ${\n              currentType === 'custom' ? 'bg-[#EBE9FE]' : 'bg-[#5046E51A]'\n            }`}>\n              <svg width=\"27\" height=\"24\" viewBox=\"0 0 27 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M14.5795 3.33027L10.4091 7.4998H5.625C5.00344 7.4998 4.5 8.00324 4.5 8.6248V15.3748C4.5 15.9959 5.00344 16.4998 5.625 16.4998H10.4091L14.5795 20.6693C15.2841 21.3739 16.5 20.8789 16.5 19.8739V4.12574C16.5 3.1198 15.2831 2.62668 14.5795 3.33027ZM20.3545 8.39652C19.8117 8.09981 19.1269 8.29527 18.8259 8.83949C18.5264 9.38371 18.7247 10.0676 19.2689 10.3681C19.8741 10.7004 20.25 11.3262 20.25 11.9998C20.25 12.6739 19.8741 13.2992 19.2694 13.6315C18.7252 13.932 18.5269 14.6159 18.8264 15.1601C19.1278 15.7067 19.8131 15.9007 20.355 15.6031C21.6783 14.8742 22.5005 13.4937 22.5005 11.9993C22.5005 10.505 21.6783 9.12496 20.3545 8.39652Z\" fill=\"#5046E5\"/>\n              </svg>\n            </div>\n            <span className={`text-[16px] ${currentType === 'custom' ? 'font-semibold text-[#11101066]' : 'font-normal text-[#11101066]'}`}>\n              {customLabel}\n            </span>\n          </button>\n        )}\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 15535, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/voice-selector/CircularProgress.tsx"],"sourcesContent":["'use client'\n\ninterface CircularProgressProps {\n  progress: number\n  size?: number\n}\n\nexport default function CircularProgress({ progress, size = 32 }: CircularProgressProps) {\n  const radius = (size - 8) / 2\n  const circumference = 2 * Math.PI * radius\n  const offset = circumference - (progress / 100) * circumference\n  const strokeWidth = 2\n  \n  return (\n    <svg width={size} height={size} className=\"absolute inset-0 -top-1 -left-1\">\n      <circle\n        cx={size / 2}\n        cy={size / 2}\n        r={radius}\n        fill=\"none\"\n        stroke=\"#EBE9FE\"\n        strokeWidth={strokeWidth}\n      />\n      <circle\n        cx={size / 2}\n        cy={size / 2}\n        r={radius}\n        fill=\"none\"\n        stroke=\"#5046E5\"\n        strokeWidth={strokeWidth}\n        strokeDasharray={circumference}\n        strokeDashoffset={offset}\n        strokeLinecap=\"round\"\n        transform={`rotate(-90 ${size / 2} ${size / 2})`}\n        className=\"transition-all duration-100 ease-linear\"\n      />\n    </svg>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAAA;;AAOe,SAAS,iBAAiB,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAyB;IACrF,MAAM,SAAS,CAAC,OAAO,CAAC,IAAI;IAC5B,MAAM,gBAAgB,IAAI,KAAK,EAAE,GAAG;IACpC,MAAM,SAAS,gBAAgB,AAAC,WAAW,MAAO;IAClD,MAAM,cAAc;IAEpB,qBACE,iNAAC;QAAI,OAAO;QAAM,QAAQ;QAAM,WAAU;;0BACxC,iNAAC;gBACC,IAAI,OAAO;gBACX,IAAI,OAAO;gBACX,GAAG;gBACH,MAAK;gBACL,QAAO;gBACP,aAAa;;;;;;0BAEf,iNAAC;gBACC,IAAI,OAAO;gBACX,IAAI,OAAO;gBACX,GAAG;gBACH,MAAK;gBACL,QAAO;gBACP,aAAa;gBACb,iBAAiB;gBACjB,kBAAkB;gBAClB,eAAc;gBACd,WAAW,CAAC,WAAW,EAAE,OAAO,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;gBAChD,WAAU;;;;;;;;;;;;AAIlB;KA/BwB"}},
    {"offset": {"line": 15598, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/voice-selector/VoiceItem.tsx"],"sourcesContent":["'use client'\n\nimport { Volume2 } from 'lucide-react'\nimport Image from 'next/image'\nimport { Voice } from './types'\nimport CircularProgress from './CircularProgress'\n\ninterface VoiceItemProps {\n  voice: Voice\n  isSelected: boolean\n  isPlaying: boolean\n  progress: number\n  onSelect: (voice: Voice) => void\n  onPlay: (e: React.MouseEvent, voice: Voice) => void\n  onDragStart?: (e: React.DragEvent, voice: Voice) => void\n  onDragEnd?: (e: React.DragEvent) => void\n}\n\nexport default function VoiceItem({\n  voice,\n  isSelected,\n  isPlaying,\n  progress,\n  onSelect,\n  onPlay,\n  onDragStart,\n  onDragEnd\n}: VoiceItemProps) {\n  return (\n    <div\n      draggable\n      onDragStart={(e) => onDragStart?.(e, voice)}\n      onDragEnd={onDragEnd}\n      onClick={() => onSelect(voice)}\n      className={`flex items-center gap-4 px-2 py-2 rounded-[4px] transition-all duration-300 cursor-pointer ${\n        isSelected\n          ? 'bg-[#5046E51A] border-2 border-[#5046E5]'\n          : 'bg-white hover:bg-[#F0F1F3] border-2 border-transparent'\n      }`}\n    >\n      {voice.thumbnailUrl ? (\n        <Image\n          src={voice.thumbnailUrl}\n          alt={voice.name}\n          width={56}\n          height={56}\n          className=\"w-[50px] h-[50px] rounded-[6px] object-cover flex-shrink-0\"\n          onError={(e) => {\n            const target = e.target as HTMLImageElement\n            target.src = '/images/default-voice.png'\n          }}\n        />\n      ) : (\n        <div className=\"w-14 h-14 rounded-[10px] bg-[#E2E8F0] flex items-center justify-center flex-shrink-0\">\n          <Volume2 className=\"w-7 h-7 text-[#94A3B8]\" />\n        </div>\n      )}\n\n      <div className=\"flex-1 min-w-0\">\n        <h5 className=\"text-[13px] font-bold text-[#212121] truncate mb-0.5\">\n          {voice.name}\n        </h5>\n        {voice.artist && (\n          <p className=\"text-[11px] text-[#212121] font-medium truncate\">\n            {voice.artist}\n          </p>\n        )}\n      </div>\n\n      {(voice.previewUrl || voice.preview_url) && (\n        <button\n          onClick={(e) => {\n            e.stopPropagation() // Prevent triggering the container's onClick\n            onPlay(e, voice)\n          }}\n          className={`relative flex-shrink-0 w-[30px] h-[30px] rounded-full flex items-center justify-center transition-all duration-200 ${\n            isPlaying\n              ? 'bg-[#EBE9FE] hover:bg-[#E0DDFE]'\n              : 'border-2 border-[#212121] bg-transparent hover:bg-[#212121] text-[#212121] hover:text-white'\n          }`}\n          aria-label={isPlaying ? `Pause preview for ${voice.name}` : `Play preview for ${voice.name}`}\n          type=\"button\"\n        >\n          {isPlaying ? (\n            <>\n              <CircularProgress progress={progress} size={37} />\n              <svg width=\"11\" height=\"11\" viewBox=\"0 0 11 11\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"10.6667\" height=\"10.6667\" rx=\"1.33333\" fill=\"#5046E5\"/></svg>\n            </>\n          ) : (\n            <svg className=\"w-4 h-4 ml-0.5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path d=\"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z\" />\n            </svg>\n          )}\n        </button>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAkBe,SAAS,UAAU,EAChC,KAAK,EACL,UAAU,EACV,SAAS,EACT,QAAQ,EACR,QAAQ,EACR,MAAM,EACN,WAAW,EACX,SAAS,EACM;IACf,qBACE,iNAAC;QACC,SAAS;QACT,aAAa,CAAC,IAAM,cAAc,GAAG;QACrC,WAAW;QACX,SAAS,IAAM,SAAS;QACxB,WAAW,CAAC,2FAA2F,EACrG,aACI,6CACA,2DACJ;;YAED,MAAM,YAAY,iBACjB,iNAAC,+JAAK;gBACJ,KAAK,MAAM,YAAY;gBACvB,KAAK,MAAM,IAAI;gBACf,OAAO;gBACP,QAAQ;gBACR,WAAU;gBACV,SAAS,CAAC;oBACR,MAAM,SAAS,EAAE,MAAM;oBACvB,OAAO,GAAG,GAAG;gBACf;;;;;qCAGF,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC,8OAAO;oBAAC,WAAU;;;;;;;;;;;0BAIvB,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAG,WAAU;kCACX,MAAM,IAAI;;;;;;oBAEZ,MAAM,MAAM,kBACX,iNAAC;wBAAE,WAAU;kCACV,MAAM,MAAM;;;;;;;;;;;;YAKlB,CAAC,MAAM,UAAU,IAAI,MAAM,WAAW,mBACrC,iNAAC;gBACC,SAAS,CAAC;oBACR,EAAE,eAAe,IAAG,6CAA6C;oBACjE,OAAO,GAAG;gBACZ;gBACA,WAAW,CAAC,mHAAmH,EAC7H,YACI,oCACA,+FACJ;gBACF,cAAY,YAAY,CAAC,kBAAkB,EAAE,MAAM,IAAI,EAAE,GAAG,CAAC,iBAAiB,EAAE,MAAM,IAAI,EAAE;gBAC5F,MAAK;0BAEJ,0BACC;;sCACE,iNAAC,mMAAgB;4BAAC,UAAU;4BAAU,MAAM;;;;;;sCAC5C,iNAAC;4BAAI,OAAM;4BAAK,QAAO;4BAAK,SAAQ;4BAAY,MAAK;4BAAO,OAAM;sCAA6B,cAAA,iNAAC;gCAAK,OAAM;gCAAU,QAAO;gCAAU,IAAG;gCAAU,MAAK;;;;;;;;;;;;iDAG1J,iNAAC;oBAAI,WAAU;oBAAiB,MAAK;oBAAe,SAAQ;8BAC1D,cAAA,iNAAC;wBAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;AAOtB;KA/EwB"}},
    {"offset": {"line": 15750, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/voice-selector/VoiceList.tsx"],"sourcesContent":["'use client'\n\nimport { Voice, VoiceType } from './types'\nimport VoiceItem from './VoiceItem'\n\ninterface VoiceListProps {\n  voices: Voice[]\n  voiceType: VoiceType\n  voicesLoading: boolean\n  voicesError: string | null\n  selectedVoiceId: string | null\n  playingVoiceId: string | null\n  voiceProgress: Record<string, number>\n  onVoiceSelect: (voice: Voice) => void\n  onVoicePlay: (e: React.MouseEvent, voice: Voice) => void\n  onDragStart?: (e: React.DragEvent, voice: Voice) => void\n  onDragEnd?: (e: React.DragEvent) => void\n  onDragOver?: (e: React.DragEvent) => void\n  onDragLeave?: (e: React.DragEvent) => void\n  onDrop?: (e: React.DragEvent) => void\n  title?: string\n  loadingText?: string\n  emptyText?: string\n}\n\nexport default function VoiceList({\n  voices,\n  voiceType,\n  voicesLoading,\n  voicesError,\n  selectedVoiceId,\n  playingVoiceId,\n  voiceProgress,\n  onVoiceSelect,\n  onVoicePlay,\n  onDragStart,\n  onDragEnd,\n  onDragOver,\n  onDragLeave,\n  onDrop,\n  title = 'Recommended Voice',\n  loadingText = 'Loading voices...',\n  emptyText\n}: VoiceListProps) {\n  // Filter voices by the selected voiceType\n  const filteredVoices = voices.filter(voice => {\n    const matches = voice.type === voiceType\n    return matches\n  })\n\n\n  const handleDragOverInner = (e: React.DragEvent) => {\n    try {\n      e.preventDefault()\n      e.stopPropagation()\n      if (onDragOver) {\n        onDragOver(e)\n      }\n      const target = e.currentTarget as HTMLElement\n      if (target && target.classList) {\n        target.classList.add('drag-over')\n      }\n    } catch {\n    }\n  }\n\n  const handleDragLeaveInner = (e: React.DragEvent) => {\n    try {\n      e.stopPropagation()\n      if (onDragLeave) {\n        onDragLeave(e)\n      }\n      const target = e.currentTarget as HTMLElement\n      if (target && target.classList) {\n        target.classList.remove('drag-over')\n      }\n    } catch {\n    }\n  }\n\n  const handleDropInner = (e: React.DragEvent) => {\n    try {\n      e.preventDefault()\n      e.stopPropagation()\n      \n      const target = e.currentTarget as HTMLElement\n      if (target && target.classList) {\n        target.classList.remove('drag-over')\n      }\n      \n      if (onDrop) {\n        onDrop(e)\n      }\n    } catch {\n    }\n  }\n\n  return (\n    <div \n      className=\"flex-1 bg-white px-6 overflow-y-auto\"\n      style={{ \n        maxHeight: '100%',\n        overflowY: 'auto',\n        WebkitOverflowScrolling: 'touch'\n      }}\n      onDragOver={handleDragOverInner}\n      onDragLeave={handleDragLeaveInner}\n      onDrop={handleDropInner}\n    >\n      <h4 className=\"text-[20px] font-semibold text-[#5F5F5F] mb-5 lg:mt-0 mt-6\">{title}</h4>\n\n      {voicesLoading ? (\n        <div className=\"flex flex-col justify-center items-center py-20\">\n          <div className=\"animate-spin rounded-full h-10 w-10 border-[3px] border-[#5046E5] border-t-transparent\"></div>\n          <span className=\"mt-4 text-base text-[#5F5F5F]\">{loadingText}</span>\n        </div>\n      ) : voicesError ? (\n        <div className=\"text-center py-20\">\n          <p className=\"text-red-500 text-base font-medium mb-2\">Failed to load voices</p>\n          <p className=\"text-base text-[#5F5F5F]\">{voicesError}</p>\n        </div>\n      ) : filteredVoices.length === 0 ? (\n        <div className=\"text-center py-20\">\n          <p className=\"text-[#A0AEC0] text-base\">{emptyText || `No ${voiceType} voices available`}</p>\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          {filteredVoices.map((voice) => (\n            <VoiceItem\n              key={voice.id}\n              voice={voice}\n              isSelected={selectedVoiceId === voice.id}\n              isPlaying={playingVoiceId === voice.id}\n              progress={voiceProgress[voice.id] || 0}\n              onSelect={onVoiceSelect}\n              onPlay={onVoicePlay}\n              onDragStart={onDragStart}\n              onDragEnd={onDragEnd}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAyBe,SAAS,UAAU,EAChC,MAAM,EACN,SAAS,EACT,aAAa,EACb,WAAW,EACX,eAAe,EACf,cAAc,EACd,aAAa,EACb,aAAa,EACb,WAAW,EACX,WAAW,EACX,SAAS,EACT,UAAU,EACV,WAAW,EACX,MAAM,EACN,QAAQ,mBAAmB,EAC3B,cAAc,mBAAmB,EACjC,SAAS,EACM;IACf,0CAA0C;IAC1C,MAAM,iBAAiB,OAAO,MAAM,CAAC,CAAA;QACnC,MAAM,UAAU,MAAM,IAAI,KAAK;QAC/B,OAAO;IACT;IAGA,MAAM,sBAAsB,CAAC;QAC3B,IAAI;YACF,EAAE,cAAc;YAChB,EAAE,eAAe;YACjB,IAAI,YAAY;gBACd,WAAW;YACb;YACA,MAAM,SAAS,EAAE,aAAa;YAC9B,IAAI,UAAU,OAAO,SAAS,EAAE;gBAC9B,OAAO,SAAS,CAAC,GAAG,CAAC;YACvB;QACF,EAAE,OAAM,CACR;IACF;IAEA,MAAM,uBAAuB,CAAC;QAC5B,IAAI;YACF,EAAE,eAAe;YACjB,IAAI,aAAa;gBACf,YAAY;YACd;YACA,MAAM,SAAS,EAAE,aAAa;YAC9B,IAAI,UAAU,OAAO,SAAS,EAAE;gBAC9B,OAAO,SAAS,CAAC,MAAM,CAAC;YAC1B;QACF,EAAE,OAAM,CACR;IACF;IAEA,MAAM,kBAAkB,CAAC;QACvB,IAAI;YACF,EAAE,cAAc;YAChB,EAAE,eAAe;YAEjB,MAAM,SAAS,EAAE,aAAa;YAC9B,IAAI,UAAU,OAAO,SAAS,EAAE;gBAC9B,OAAO,SAAS,CAAC,MAAM,CAAC;YAC1B;YAEA,IAAI,QAAQ;gBACV,OAAO;YACT;QACF,EAAE,OAAM,CACR;IACF;IAEA,qBACE,iNAAC;QACC,WAAU;QACV,OAAO;YACL,WAAW;YACX,WAAW;YACX,yBAAyB;QAC3B;QACA,YAAY;QACZ,aAAa;QACb,QAAQ;;0BAER,iNAAC;gBAAG,WAAU;0BAA8D;;;;;;YAE3E,8BACC,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAI,WAAU;;;;;;kCACf,iNAAC;wBAAK,WAAU;kCAAiC;;;;;;;;;;;uBAEjD,4BACF,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAE,WAAU;kCAA0C;;;;;;kCACvD,iNAAC;wBAAE,WAAU;kCAA4B;;;;;;;;;;;uBAEzC,eAAe,MAAM,KAAK,kBAC5B,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAE,WAAU;8BAA4B,aAAa,CAAC,GAAG,EAAE,UAAU,iBAAiB,CAAC;;;;;;;;;;qCAG1F,iNAAC;gBAAI,WAAU;0BACZ,eAAe,GAAG,CAAC,CAAC,sBACnB,iNAAC,4LAAS;wBAER,OAAO;wBACP,YAAY,oBAAoB,MAAM,EAAE;wBACxC,WAAW,mBAAmB,MAAM,EAAE;wBACtC,UAAU,aAAa,CAAC,MAAM,EAAE,CAAC,IAAI;wBACrC,UAAU;wBACV,QAAQ;wBACR,aAAa;wBACb,WAAW;uBARN,MAAM,EAAE;;;;;;;;;;;;;;;;AAe3B;KAvHwB"}},
    {"offset": {"line": 15921, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/voice-selector/VoiceSelector.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useMemo, useTransition, useEffect } from 'react'\nimport { IoMdArrowDropdown } from \"react-icons/io\"\nimport { UseFormRegister, FieldErrors } from 'react-hook-form'\nimport { Voice, VoiceType } from './types'\nimport { useAudioPlayer } from './useAudioPlayer'\nimport VoiceTypeSelector from './VoiceTypeSelector'\nimport VoiceList from './VoiceList'\n\ninterface VoiceSelectorProps {\n  field: string\n  placeholder: string\n  currentValue: string\n  isOpen: boolean\n  hasError: any\n  register: UseFormRegister<any>\n  errors: FieldErrors<any>\n  onToggle: (field: any) => void\n  onSelect: (field: any, value: string) => void\n  onBlur: (field: any) => void\n  voices?: Voice[]\n  voicesLoading?: boolean\n  voicesError?: string | null\n  selectedVoice?: Voice | null\n  preset?: string | null\n  initialVoiceType?: VoiceType | null // Override preset-based initialization\n  onVoiceClick?: (voice: Voice) => void\n  onDragStart?: (e: React.DragEvent, voice: Voice) => void\n  onDragEnd?: (e: React.DragEvent) => void\n  onDragOver?: (e: React.DragEvent) => void\n  onDragLeave?: (e: React.DragEvent) => void\n  onDrop?: (e: React.DragEvent) => void\n  typeSelectorTitle?: string\n  typeSelectorDescription?: string\n  typeSelectorLowLabel?: string\n  typeSelectorMediumLabel?: string\n  typeSelectorHighLabel?: string\n  typeSelectorCustomLabel?: string\n  hasCustomVoices?: boolean\n  listTitle?: string\n  listLoadingText?: string\n  listEmptyText?: string\n  onVoiceTypeChange?: (type: VoiceType) => void\n}\n\nexport default function VoiceSelector({\n  field,\n  placeholder,\n  currentValue,\n  isOpen,\n  hasError,\n  register: _register, // eslint-disable-line @typescript-eslint/no-unused-vars\n  errors: _errors, // eslint-disable-line @typescript-eslint/no-unused-vars\n  onToggle,\n  onSelect,\n  onBlur,\n  voices = [],\n  voicesLoading = false,\n  voicesError = null,\n  selectedVoice = null,\n  preset = null,\n  initialVoiceType = null,\n  onVoiceClick,\n  onDragStart,\n  onDragEnd,\n  onDragOver,\n  onDragLeave,\n  onDrop,\n  typeSelectorTitle,\n  typeSelectorDescription,\n  typeSelectorLowLabel,\n  typeSelectorMediumLabel,\n  typeSelectorHighLabel,\n  typeSelectorCustomLabel,\n  hasCustomVoices = false,\n  listTitle,\n  listLoadingText,\n  listEmptyText,\n  onVoiceTypeChange\n}: VoiceSelectorProps) {\n  // Initialize voiceType based on initialVoiceType (from user-settings) or preset, default to 'low'\n  const getInitialVoiceType = (): VoiceType => {\n    // Priority: initialVoiceType (user-settings) > preset > default\n    if (initialVoiceType && (initialVoiceType === 'low' || initialVoiceType === 'medium' || initialVoiceType === 'high' || initialVoiceType === 'custom')) {\n      return initialVoiceType\n    }\n    if (preset) {\n      const presetLower = preset.toLowerCase()\n      if (presetLower === 'medium') return 'medium'\n      if (presetLower === 'high') return 'high'\n      return 'low'\n    }\n    return 'low'\n  }\n  \n  const [voiceType, setVoiceType] = useState<VoiceType>(getInitialVoiceType())\n  const [draggedVoice, setDraggedVoice] = useState<Voice | null>(null)\n  const [, startTransition] = useTransition()\n  \n  const { playingVoiceId, voiceProgress, handlePlayPreview, stopAllAudio } = useAudioPlayer()\n\n  // Get preset from parent if available\n  const presetValue = preset || null\n  // ALWAYS prioritize selectedVoice - it's the source of truth\n  // Only use currentValue if selectedVoice is null\n  const displayValue = selectedVoice?.name || (currentValue ? voices.find(v => v.id === currentValue)?.name : null) || presetValue || placeholder\n  \n  // Update voiceType when initialVoiceType or preset changes\n  // Priority: initialVoiceType (user-settings) > preset\n  useEffect(() => {\n    if (initialVoiceType && (initialVoiceType === 'low' || initialVoiceType === 'medium' || initialVoiceType === 'high' || initialVoiceType === 'custom')) {\n      // Use user-settings voice type (don't override with preset)\n      setVoiceType(initialVoiceType)\n    } else if (preset) {\n      // Fall back to preset if no initialVoiceType\n      const presetLower = preset.toLowerCase()\n      let newType: VoiceType = 'low'\n      if (presetLower === 'medium') newType = 'medium'\n      else if (presetLower === 'high') newType = 'high'\n      setVoiceType(newType)\n    }\n  }, [preset, initialVoiceType])\n\n  const handleVoiceTypeChange = (type: VoiceType) => {\n    console.log('ðŸŽ¤ VoiceSelector - handleVoiceTypeChange called with type:', type)\n    console.log('ðŸŽ¤ VoiceSelector - Current voiceType:', voiceType, 'Current selectedVoice:', selectedVoice?.name, 'selectedVoiceType:', selectedVoice?.type)\n    \n    // Don't auto-select if user is manually changing type - let them select manually\n    // Only update the type filter, don't trigger auto-selection\n    try {\n      stopAllAudio()\n    } catch {\n    }\n    \n    startTransition(() => {\n      try {\n        console.log('ðŸŽ¤ VoiceSelector - Setting voiceType to:', type)\n        setVoiceType(type)\n        // Call the callback - but this will now check if current voice matches type before auto-selecting\n        if (onVoiceTypeChange) {\n          console.log('ðŸŽ¤ VoiceSelector - Calling onVoiceTypeChange callback with type:', type)\n          onVoiceTypeChange(type)\n        }\n      } catch {\n        setVoiceType(type)\n        if (onVoiceTypeChange) {\n          onVoiceTypeChange(type)\n        }\n      }\n    })\n  }\n\n  const handleVoiceSelection = (voice: Voice) => {\n    console.log('ðŸŽ¤ VoiceSelector - handleVoiceSelection called:', {\n      voiceName: voice.name,\n      voiceId: voice.id,\n      voiceType: voice.type,\n      field: field,\n      currentValue: currentValue,\n      selectedVoiceId: selectedVoice?.id\n    })\n    // Ensure we're using the correct voice object from the filtered list\n    if (onVoiceClick) {\n      console.log('ðŸŽ¤ VoiceSelector - Calling onVoiceClick with voice:', voice.name, voice.id)\n      onVoiceClick(voice)\n    }\n    console.log('ðŸŽ¤ VoiceSelector - Calling onSelect with field:', field, 'voiceId:', voice.id)\n    onSelect(field, voice.id)\n    // Close dropdown after selection\n    onToggle(field)\n  }\n\n  const handleDragStart = (e: React.DragEvent, voice: Voice) => {\n    try {\n      setDraggedVoice(voice)\n      if (onDragStart) {\n        onDragStart(e, voice)\n      }\n      e.dataTransfer.effectAllowed = 'move'\n      e.dataTransfer.setData('text/plain', voice.id)\n      const target = e.target as HTMLElement\n      if (target && target.classList) {\n        target.classList.add('dragging')\n      }\n    } catch {\n    }\n  }\n\n  const handleDragEnd = (e: React.DragEvent) => {\n    try {\n      if (onDragEnd) {\n        onDragEnd(e)\n      }\n      const target = e.target as HTMLElement\n      if (target && target.classList) {\n        target.classList.remove('dragging')\n      }\n    } catch {\n    }\n  }\n\n  const handleDrop = (e: React.DragEvent) => {\n    try {\n      if (draggedVoice) {\n        handleVoiceSelection(draggedVoice)\n        setDraggedVoice(null)\n      }\n      if (onDrop) {\n        onDrop(e)\n      }\n    } catch {\n    }\n  }\n\n  const selectedVoiceId = useMemo(() => {\n    console.log('ðŸŽ¤ VoiceSelector - Calculating selectedVoiceId:', {\n      selectedVoiceId: selectedVoice?.id,\n      selectedVoiceName: selectedVoice?.name,\n      currentValue: currentValue,\n      voicesCount: voices.length,\n      voicesTypes: voices.map(v => ({ name: v.name, type: v.type }))\n    })\n    \n    if (selectedVoice?.id) {\n      console.log('ðŸŽ¤ VoiceSelector - Using selectedVoice.id (source of truth):', selectedVoice.id, selectedVoice.name)\n      return selectedVoice.id\n    }\n\n    if (currentValue && voices.some(v => v.id === currentValue)) {\n      const foundVoice = voices.find(v => v.id === currentValue)\n      console.log('ðŸŽ¤ VoiceSelector - Using currentValue from voices list (fallback):', currentValue, foundVoice?.name)\n      return currentValue\n    }\n    \n    console.log('ðŸŽ¤ VoiceSelector - No valid selectedVoiceId, returning null')\n    return null\n  }, [selectedVoice, currentValue, voices])\n\n  const displayedName = selectedVoice?.name || (currentValue ? voices.find(v => v.id === currentValue)?.name : null) || ''\n  const wordCount = (displayedName || '').trim().split(/\\s+/).filter(Boolean).length\n  const isShortContent = wordCount <= 4\n\n  return (\n    <div className=\"relative\">\n      <button\n        type=\"button\"\n        onClick={() => onToggle(field)}\n        onBlur={() => {\n          setTimeout(() => {\n            if ((!currentValue || currentValue.trim() === '') && isOpen) {\n              onBlur(field)\n            }\n          }, 100)\n        }}\n        className={`w-full px-4 py-[10.5px] ${isShortContent ? 'text-[18px]' : 'text-[14px]'} font-normal bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-left transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white flex items-center justify-between cursor-pointer overflow-hidden ${\n          hasError ? 'ring-2 ring-red-500' : ''\n        } ${selectedVoice || currentValue ? 'text-gray-800 bg-[#F5F5F5]' : 'text-[#11101066]'}`}\n        aria-describedby={hasError ? `${field}-error` : undefined}\n      >\n        <span>{displayValue}</span>\n        <IoMdArrowDropdown\n          className={`w-4 h-4 transition-transform duration-300 ${isOpen ? 'rotate-180' : ''}`}\n        />\n      </button>\n\n      {isOpen && (\n        <div className=\"absolute z-50 w-full lg:w-[685px] mt-2 bg-white rounded-[12px] shadow-[0_8px_32px_rgba(0,0,0,0.12)] overflow-hidden xl:-left-16 lg:-left-[150px]\">\n          <div className=\"flex divide-x divide-[#E0E0E0] py-7 lg:flex-row flex-col lg:h-[500px] h-[700px] overflow-hidden\">\n            <VoiceTypeSelector\n              currentType={voiceType}\n              onTypeChange={handleVoiceTypeChange}\n              disabled={false}\n              title={typeSelectorTitle}\n              description={typeSelectorDescription}\n              lowLabel={typeSelectorLowLabel}\n              mediumLabel={typeSelectorMediumLabel}\n              highLabel={typeSelectorHighLabel}\n              customLabel={typeSelectorCustomLabel}\n              hasCustomVoices={hasCustomVoices}\n            />\n\n            <VoiceList\n              voices={voices}  // Already filtered by parent component\n              voiceType={voiceType}  // Used for filtering in VoiceList\n              voicesLoading={voicesLoading}\n              voicesError={voicesError}\n              selectedVoiceId={selectedVoiceId}\n              playingVoiceId={playingVoiceId}\n              voiceProgress={voiceProgress}\n              onVoiceSelect={handleVoiceSelection}\n              onVoicePlay={handlePlayPreview}\n              onDragStart={handleDragStart}\n              onDragEnd={handleDragEnd}\n              onDragOver={onDragOver}\n              onDragLeave={onDragLeave}\n              onDrop={handleDrop}\n              title={listTitle}\n              loadingText={listLoadingText}\n              emptyText={listEmptyText}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 16216, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/voice-selector-wrapper.tsx"],"sourcesContent":["'use client'\n\nimport { UseFormWatch, UseFormRegister, FieldErrors, UseFormTrigger } from 'react-hook-form'\nimport VoiceSelector from './voice-selector/VoiceSelector'\nimport { Voice, VoiceType } from './voice-selector/types'\nimport { CreateVideoFormData } from './form-validation-schema'\n\ninterface VoiceSelectorWrapperProps {\n  field: keyof CreateVideoFormData\n  placeholder: string\n  watch: UseFormWatch<CreateVideoFormData>\n  register: UseFormRegister<CreateVideoFormData>\n  errors: FieldErrors<CreateVideoFormData>\n  trigger: UseFormTrigger<CreateVideoFormData>\n  openDropdown: string | null\n  selectedVoice: Voice | null\n  voices: Voice[]\n  voicesLoading: boolean\n  voicesError: string | null\n  preset: string | null | undefined\n  initialVoiceType?: VoiceType | null // Override preset-based initialization\n  onToggle: (field: any) => void\n  onSelect: (field: any, value: string) => void\n  onVoiceClick: (voice: Voice) => void\n  onVoiceTypeChange?: (type: VoiceType) => void\n  onDragStart: (e: React.DragEvent, voice: Voice) => void\n  onDragEnd: (e: React.DragEvent) => void\n  onDragOver: (e: React.DragEvent) => void\n  onDragLeave: (e: React.DragEvent) => void\n  onDrop: (e: React.DragEvent) => void\n}\n\nexport default function VoiceSelectorWrapper({\n  field,\n  placeholder,\n  watch,\n  register,\n  errors,\n  trigger,\n  openDropdown,\n  selectedVoice,\n  voices,\n  voicesLoading,\n  voicesError,\n  preset,\n  initialVoiceType,\n  onToggle,\n  onSelect,\n  onVoiceClick,\n  onVoiceTypeChange,\n  onDragStart,\n  onDragEnd,\n  onDragOver,\n  onDragLeave,\n  onDrop\n}: VoiceSelectorWrapperProps) {\n  const formValue = watch(field) || ''\n  const isOpen = openDropdown === field\n  const hasError = errors[field]\n  \n  // selectedVoice takes priority - it's the source of truth\n  // Only use formValue if selectedVoice is null and formValue exists in the current voices list\n  const displayedVoice = selectedVoice || (formValue ? voices.find(v => v.id === formValue) : null)\n  \n  // Pass selectedVoice.id as currentValue if it exists, otherwise use formValue\n  // This ensures selectedVoice always takes priority over form state\n  const currentValue = selectedVoice?.id || formValue\n  \n  // Check if there are any custom voices\n  const hasCustomVoices = voices.some(voice => voice.isCustom === true)\n  \n  console.log('ðŸŽ¤ VoiceSelectorWrapper - Rendering:', {\n    field: field,\n    formValue: formValue,\n    currentValue: currentValue,\n    selectedVoiceName: selectedVoice?.name,\n    selectedVoiceId: selectedVoice?.id,\n    displayedVoiceName: displayedVoice?.name,\n    displayedVoiceId: displayedVoice?.id,\n    voicesCount: voices.length,\n    hasCustomVoices: hasCustomVoices\n  })\n\n  return (\n    <VoiceSelector\n      field={field}\n      placeholder={placeholder}\n      currentValue={currentValue}\n      isOpen={isOpen}\n      hasError={hasError}\n      register={register}\n      errors={errors}\n      onToggle={onToggle}\n      onSelect={onSelect}\n      onBlur={(field) => trigger(field)}\n      voices={voices}\n      voicesLoading={voicesLoading}\n      voicesError={voicesError}\n      selectedVoice={displayedVoice || null}\n      preset={preset}\n      initialVoiceType={initialVoiceType}\n      onVoiceClick={onVoiceClick}\n      onVoiceTypeChange={onVoiceTypeChange}\n      onDragStart={onDragStart}\n      onDragEnd={onDragEnd}\n      onDragOver={onDragOver}\n      onDragLeave={onDragLeave}\n      onDrop={onDrop}\n      hasCustomVoices={hasCustomVoices}\n    />\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAgCe,SAAS,qBAAqB,EAC3C,KAAK,EACL,WAAW,EACX,KAAK,EACL,QAAQ,EACR,MAAM,EACN,OAAO,EACP,YAAY,EACZ,aAAa,EACb,MAAM,EACN,aAAa,EACb,WAAW,EACX,MAAM,EACN,gBAAgB,EAChB,QAAQ,EACR,QAAQ,EACR,YAAY,EACZ,iBAAiB,EACjB,WAAW,EACX,SAAS,EACT,UAAU,EACV,WAAW,EACX,MAAM,EACoB;IAC1B,MAAM,YAAY,MAAM,UAAU;IAClC,MAAM,SAAS,iBAAiB;IAChC,MAAM,WAAW,MAAM,CAAC,MAAM;IAE9B,0DAA0D;IAC1D,8FAA8F;IAC9F,MAAM,iBAAiB,iBAAiB,CAAC,YAAY,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,aAAa,IAAI;IAEhG,8EAA8E;IAC9E,mEAAmE;IACnE,MAAM,eAAe,eAAe,MAAM;IAE1C,uCAAuC;IACvC,MAAM,kBAAkB,OAAO,IAAI,CAAC,CAAA,QAAS,MAAM,QAAQ,KAAK;IAEhE,QAAQ,GAAG,CAAC,wCAAwC;QAClD,OAAO;QACP,WAAW;QACX,cAAc;QACd,mBAAmB,eAAe;QAClC,iBAAiB,eAAe;QAChC,oBAAoB,gBAAgB;QACpC,kBAAkB,gBAAgB;QAClC,aAAa,OAAO,MAAM;QAC1B,iBAAiB;IACnB;IAEA,qBACE,iNAAC,gMAAa;QACZ,OAAO;QACP,aAAa;QACb,cAAc;QACd,QAAQ;QACR,UAAU;QACV,UAAU;QACV,QAAQ;QACR,UAAU;QACV,UAAU;QACV,QAAQ,CAAC,QAAU,QAAQ;QAC3B,QAAQ;QACR,eAAe;QACf,aAAa;QACb,eAAe,kBAAkB;QACjC,QAAQ;QACR,kBAAkB;QAClB,cAAc;QACd,mBAAmB;QACnB,aAAa;QACb,WAAW;QACX,YAAY;QACZ,aAAa;QACb,QAAQ;QACR,iBAAiB;;;;;;AAGvB;KA/EwB"}},
    {"offset": {"line": 16289, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/music-selector-wrapper.tsx"],"sourcesContent":["'use client'\n\nimport { UseFormWatch, UseFormRegister, FieldErrors, UseFormTrigger } from 'react-hook-form'\nimport VoiceSelector from './voice-selector/VoiceSelector'\nimport { Voice, VoiceType } from './voice-selector/types'\nimport { CreateVideoFormData } from './form-validation-schema'\n\ninterface MusicSelectorWrapperProps {\n  field: keyof CreateVideoFormData\n  placeholder: string\n  watch: UseFormWatch<CreateVideoFormData>\n  register: UseFormRegister<CreateVideoFormData>\n  errors: FieldErrors<CreateVideoFormData>\n  trigger: UseFormTrigger<CreateVideoFormData>\n  openDropdown: string | null\n  selectedMusic: Voice | null\n  musicList: Voice[]\n  musicLoading: boolean\n  musicError: string | null\n  preset?: string | null\n  initialMusicType?: 'low' | 'medium' | 'high' | null // Override preset-based initialization\n  onToggle: (field: any) => void\n  onSelect: (field: any, value: string) => void\n  onMusicClick: (music: Voice) => void\n  onMusicTypeChange?: (type: VoiceType) => void\n  onDragStart: (e: React.DragEvent, music: Voice) => void\n  onDragEnd: (e: React.DragEvent) => void\n  onDragOver: (e: React.DragEvent) => void\n  onDragLeave: (e: React.DragEvent) => void\n  onDrop: (e: React.DragEvent) => void\n}\n\nexport default function MusicSelectorWrapper({\n  field,\n  placeholder,\n  watch,\n  register,\n  errors,\n  trigger,\n  openDropdown,\n  selectedMusic,\n  musicList,\n  musicLoading,\n  musicError,\n  preset,\n  initialMusicType,\n  onToggle,\n  onSelect,\n  onMusicClick,\n  onMusicTypeChange,\n  onDragStart,\n  onDragEnd,\n  onDragOver,\n  onDragLeave,\n  onDrop\n}: MusicSelectorWrapperProps) {\n  const currentValue = watch(field) || ''\n  const isOpen = openDropdown === field\n  const hasError = errors[field]\n  \n  // Find selected music from state or by ID\n  // Only use currentValue if selectedMusic is null and currentValue exists in the current musicList\n  // Check both id and _id to handle different music object formats\n  const displayedMusic = selectedMusic || (currentValue ? musicList.find(m => \n    m.id === currentValue || m._id === currentValue\n  ) : null)\n\n  return (\n    <VoiceSelector\n      field={field}\n      placeholder={placeholder}\n      currentValue={currentValue}\n      isOpen={isOpen}\n      hasError={hasError}\n      register={register}\n      errors={errors}\n      onToggle={onToggle}\n      onSelect={onSelect}\n      onBlur={(field) => trigger(field)}\n      voices={musicList}\n      voicesLoading={musicLoading}\n      voicesError={musicError}\n      selectedVoice={displayedMusic || null}\n      preset={preset}\n      initialVoiceType={initialMusicType as VoiceType | null}\n      onVoiceClick={onMusicClick}\n      onVoiceTypeChange={onMusicTypeChange}\n      onDragStart={onDragStart}\n      onDragEnd={onDragEnd}\n      onDragOver={onDragOver}\n      onDragLeave={onDragLeave}\n      onDrop={onDrop}\n      typeSelectorTitle=\"Music\"\n      typeSelectorDescription=\"Select the level of music and search the best music for your video\"\n      typeSelectorLowLabel=\"Low Music\"\n      typeSelectorMediumLabel=\"Medium Music\"\n      typeSelectorHighLabel=\"High Music\"\n      listTitle=\"Recommended Music\"\n      listLoadingText=\"Loading music...\"\n      listEmptyText=\"No music available\"\n    />\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAgCe,SAAS,qBAAqB,EAC3C,KAAK,EACL,WAAW,EACX,KAAK,EACL,QAAQ,EACR,MAAM,EACN,OAAO,EACP,YAAY,EACZ,aAAa,EACb,SAAS,EACT,YAAY,EACZ,UAAU,EACV,MAAM,EACN,gBAAgB,EAChB,QAAQ,EACR,QAAQ,EACR,YAAY,EACZ,iBAAiB,EACjB,WAAW,EACX,SAAS,EACT,UAAU,EACV,WAAW,EACX,MAAM,EACoB;IAC1B,MAAM,eAAe,MAAM,UAAU;IACrC,MAAM,SAAS,iBAAiB;IAChC,MAAM,WAAW,MAAM,CAAC,MAAM;IAE9B,0CAA0C;IAC1C,kGAAkG;IAClG,iEAAiE;IACjE,MAAM,iBAAiB,iBAAiB,CAAC,eAAe,UAAU,IAAI,CAAC,CAAA,IACrE,EAAE,EAAE,KAAK,gBAAgB,EAAE,GAAG,KAAK,gBACjC,IAAI;IAER,qBACE,iNAAC,gMAAa;QACZ,OAAO;QACP,aAAa;QACb,cAAc;QACd,QAAQ;QACR,UAAU;QACV,UAAU;QACV,QAAQ;QACR,UAAU;QACV,UAAU;QACV,QAAQ,CAAC,QAAU,QAAQ;QAC3B,QAAQ;QACR,eAAe;QACf,aAAa;QACb,eAAe,kBAAkB;QACjC,QAAQ;QACR,kBAAkB;QAClB,cAAc;QACd,mBAAmB;QACnB,aAAa;QACb,WAAW;QACX,YAAY;QACZ,aAAa;QACb,QAAQ;QACR,mBAAkB;QAClB,yBAAwB;QACxB,sBAAqB;QACrB,yBAAwB;QACxB,uBAAsB;QACtB,WAAU;QACV,iBAAgB;QAChB,eAAc;;;;;;AAGpB;KAtEwB"}},
    {"offset": {"line": 16354, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/custom-dropdown.tsx"],"sourcesContent":["'use client'\n\nimport { Check, AlertCircle } from 'lucide-react'\nimport { IoMdArrowDropdown } from \"react-icons/io\"\nimport { cn } from '@/lib/utils'\n\ninterface DropdownOption {\n  value: string\n  label: string\n}\n\ninterface CustomDropdownProps {\n  options: DropdownOption[]\n  value: string\n  onChange: (value: string) => void\n  placeholder: string\n  label?: string\n  error?: string\n  id?: string\n  isOpen: boolean\n  onToggle: () => void\n  className?: string\n}\n\nexport default function CustomDropdown({\n  options,\n  value,\n  onChange,\n  placeholder,\n  label,\n  error,\n  id,\n  isOpen,\n  onToggle,\n  className\n}: CustomDropdownProps) {\n  const selectedOption = options.find(option => option.value === value)\n  const hasError = !!error\n\n  const handleSelect = (optionValue: string) => {\n    onChange(optionValue)\n  }\n\n  return (\n    <div className={cn(\"w-full\", className)}>\n      {label && (\n        <label className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n          {label}\n        </label>\n      )}\n      \n      <div className=\"relative\">\n        <button\n          type=\"button\"\n          onClick={onToggle}\n          className={`w-full px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-left transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white flex items-center justify-between cursor-pointer ${\n            hasError ? 'ring-2 ring-red-500' : ''\n          } ${selectedOption ? 'text-gray-800' : 'text-[#11101066]'}`}\n          aria-describedby={hasError ? `${id}-error` : undefined}\n        >\n          <span>{selectedOption ? selectedOption.label : placeholder}</span>\n          <IoMdArrowDropdown \n            className={`w-4 h-4 transition-transform duration-300 ${isOpen ? 'rotate-180' : ''}`} \n          />\n        </button>\n        \n        {isOpen && (\n          <div className=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-[8px] shadow-lg max-h-60 overflow-y-auto\">\n            {options.map((option) => (\n              <button\n                key={option.value}\n                type=\"button\"\n                onClick={() => handleSelect(option.value)}\n                className=\"w-full px-4 py-3 text-left hover:bg-[#F5F5F5] transition-colors duration-200 flex items-center justify-between text-[#282828] cursor-pointer\"\n              >\n                <span>{option.label}</span>\n                {value === option.value && (\n                  <Check className=\"w-4 h-4 text-[#5046E5]\" />\n                )}\n              </button>\n            ))}\n          </div>\n        )}\n        \n        {hasError && (\n          <p id={`${id}-error`} className=\"text-red-500 text-sm mt-1 flex items-center gap-1\" role=\"alert\">\n            <AlertCircle className=\"w-4 h-4\" />\n            {error}\n          </p>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AAJA;;;;;AAwBe,SAAS,eAAe,EACrC,OAAO,EACP,KAAK,EACL,QAAQ,EACR,WAAW,EACX,KAAK,EACL,KAAK,EACL,EAAE,EACF,MAAM,EACN,QAAQ,EACR,SAAS,EACW;IACpB,MAAM,iBAAiB,QAAQ,IAAI,CAAC,CAAA,SAAU,OAAO,KAAK,KAAK;IAC/D,MAAM,WAAW,CAAC,CAAC;IAEnB,MAAM,eAAe,CAAC;QACpB,SAAS;IACX;IAEA,qBACE,iNAAC;QAAI,WAAW,IAAA,gJAAE,EAAC,UAAU;;YAC1B,uBACC,iNAAC;gBAAM,WAAU;0BACd;;;;;;0BAIL,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAW,CAAC,gNAAgN,EAC1N,WAAW,wBAAwB,GACpC,CAAC,EAAE,iBAAiB,kBAAkB,oBAAoB;wBAC3D,oBAAkB,WAAW,GAAG,GAAG,MAAM,CAAC,GAAG;;0CAE7C,iNAAC;0CAAM,iBAAiB,eAAe,KAAK,GAAG;;;;;;0CAC/C,iNAAC,0LAAiB;gCAChB,WAAW,CAAC,0CAA0C,EAAE,SAAS,eAAe,IAAI;;;;;;;;;;;;oBAIvF,wBACC,iNAAC;wBAAI,WAAU;kCACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,iNAAC;gCAEC,MAAK;gCACL,SAAS,IAAM,aAAa,OAAO,KAAK;gCACxC,WAAU;;kDAEV,iNAAC;kDAAM,OAAO,KAAK;;;;;;oCAClB,UAAU,OAAO,KAAK,kBACrB,iNAAC,oOAAK;wCAAC,WAAU;;;;;;;+BAPd,OAAO,KAAK;;;;;;;;;;oBAcxB,0BACC,iNAAC;wBAAE,IAAI,GAAG,GAAG,MAAM,CAAC;wBAAE,WAAU;wBAAoD,MAAK;;0CACvF,iNAAC,0PAAW;gCAAC,WAAU;;;;;;4BACtB;;;;;;;;;;;;;;;;;;;AAMb;KArEwB"}},
    {"offset": {"line": 16488, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/profile-info-section.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useRef } from 'react'\nimport { AlertCircle } from 'lucide-react'\n\ninterface ProfileFormData {\n  firstName: string\n  lastName: string\n  email: string\n  phone: string\n  password: string\n}\n\ninterface ProfileFormErrors {\n  firstName: string\n  lastName: string\n  email: string\n  phone: string\n  password: string\n}\n\ninterface ProfileInfoSectionProps {\n  data: ProfileFormData\n  errors: ProfileFormErrors\n  onChange: (field: keyof ProfileFormData, value: string) => void\n  onUpdateProfile?: () => void\n  isUpdating?: boolean\n}\n\nexport default function ProfileInfoSection({ data, errors, onChange, onUpdateProfile, isUpdating = false }: ProfileInfoSectionProps) {\n  const initialValuesRef = useRef<{ firstName: string; lastName: string; phone: string } | null>(null)\n\n  const handleInputChange = (field: keyof ProfileFormData, value: string) => {\n    onChange(field, value)\n  }\n\n  useEffect(() => {\n    if (!initialValuesRef.current && (data.firstName || data.lastName || data.phone || data.email)) {\n      initialValuesRef.current = {\n        firstName: data.firstName || '',\n        lastName: data.lastName || '',\n        phone: data.phone || ''\n      }\n    }\n  }, [data.firstName, data.lastName, data.phone, data.email])\n\n  const prevIsUpdatingRef = useRef(isUpdating)\n  useEffect(() => {\n    if (prevIsUpdatingRef.current && !isUpdating) {\n      initialValuesRef.current = {\n        firstName: data.firstName || '',\n        lastName: data.lastName || '',\n        phone: data.phone || ''\n      }\n    }\n    prevIsUpdatingRef.current = isUpdating\n  }, [isUpdating, data.firstName, data.lastName, data.phone])\n\n  const hasChanges = (): boolean => {\n    if (!initialValuesRef.current) {\n      return false\n    }\n    \n    const initial = initialValuesRef.current\n    const current = {\n      firstName: data.firstName || '',\n      lastName: data.lastName || '',\n      phone: data.phone || ''\n    }\n    \n    return (\n      initial.firstName !== current.firstName ||\n      initial.lastName !== current.lastName ||\n      initial.phone !== current.phone\n    )\n  }\n\n  return (\n    <div className=\"\">\n      <h1 className=\"text-[32px] font-semibold text-[#282828] text-center mb-8\">\n        Profile Info\n      </h1>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {/* First Name */}\n        <div className=\"w-full\">\n          <label htmlFor=\"firstName\" className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n            First Name\n          </label>\n          <input\n            id=\"firstName\"\n            type=\"text\"\n            value={data.firstName || ''}\n            onChange={(e) => handleInputChange('firstName', e.target.value)}\n            placeholder=\"Enter First Name\"\n            aria-describedby={errors.firstName ? 'firstName-error' : undefined}\n            aria-invalid={!!errors.firstName}\n            className={`w-full px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white ${errors.firstName ? 'ring-2 ring-red-500' : ''\n              }`}\n          />\n          {errors.firstName && (\n            <p id=\"firstName-error\" className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n              <AlertCircle className=\"w-4 h-4\" />\n              {errors.firstName}\n            </p>\n          )}\n        </div>\n\n        {/* Last Name */}\n        <div className=\"w-full\">\n          <label htmlFor=\"lastName\" className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n            Last Name\n          </label>\n          <input\n            id=\"lastName\"\n            type=\"text\"\n            value={data.lastName || ''}\n            onChange={(e) => handleInputChange('lastName', e.target.value)}\n            placeholder=\"Enter Last Name\"\n            aria-describedby={errors.lastName ? 'lastName-error' : undefined}\n            aria-invalid={!!errors.lastName}\n            className={`w-full px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white ${errors.lastName ? 'ring-2 ring-red-500' : ''\n              }`}\n          />\n          {errors.lastName && (\n            <p id=\"lastName-error\" className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n              <AlertCircle className=\"w-4 h-4\" />\n              {errors.lastName}\n            </p>\n          )}\n        </div>\n\n        {/* Email - Read Only */}\n        <div className=\"w-full\">\n          <label htmlFor=\"email\" className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n            Email\n          </label>\n          <input\n            id=\"email\"\n            type=\"email\"\n            value={data.email || ''}\n            readOnly\n            disabled\n            placeholder=\"Enter Email\"\n            aria-describedby={errors.email ? 'email-error' : undefined}\n            aria-invalid={!!errors.email}\n            className=\"w-full px-4 py-3 bg-[#F3F4F6] border-0 rounded-[8px] text-gray-600 placeholder-[#11101066] cursor-not-allowed\"\n          />\n        </div>\n\n        {/* Phone */}\n        <div className=\"w-full\">\n          <label htmlFor=\"phone\" className=\"block text-base font-normal text-[#5F5F5F] mb-1\">\n            Phone\n          </label>\n          <input\n            id=\"phone\"\n            type=\"tel\"\n            value={data.phone || ''}\n            onChange={(e) => handleInputChange('phone', e.target.value)}\n            placeholder=\"Enter Phone\"\n            aria-describedby={errors.phone ? 'phone-error' : undefined}\n            aria-invalid={!!errors.phone}\n            className={`w-full px-4 py-3 bg-[#EEEEEE] border-0 rounded-[8px] text-gray-800 placeholder-[#11101066] focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:bg-white ${errors.phone ? 'ring-2 ring-red-500' : ''\n              }`}\n          />\n          {errors.phone && (\n            <p id=\"phone-error\" className=\"text-red-500 text-sm mt-1 flex items-center gap-1\">\n              <AlertCircle className=\"w-4 h-4\" />\n              {errors.phone}\n            </p>\n          )}\n        </div>\n      </div>\n\n      {/* Update Profile Button */}\n      {onUpdateProfile && (\n        <div className=\"flex justify-center mt-8\">\n          <button\n            type=\"button\"\n            onClick={onUpdateProfile}\n            disabled={isUpdating || !hasChanges()}\n              className={`px-4 py-[11.4px] rounded-full font-semibold text-[14px] hover:text-[#5046E5] text-white transition-colors duration-200 ${isUpdating || !hasChanges()\n              ? 'bg-gray-400 cursor-not-allowed text-gray-400 hover:text-white'\n              : 'hover:bg-transparent bg-[#5046E5] border border-[#5046E5]'\n              }`}\n          >\n            {isUpdating ? (\n              <div className=\"flex items-center gap-2\">\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                Updating...\n              </div>\n            ) : (\n              'Update Detail'\n            )}\n          </button>\n        </div>\n      )}\n\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 16807, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/billing-history-modal.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { X, Receipt, AlertCircle } from 'lucide-react'\nimport { apiService, BillingTransaction } from '@/lib/api-service'\nimport { useModalScrollLock } from '@/hooks/useModalScrollLock'\n\ninterface BillingHistoryModalProps {\n    isOpen: boolean\n    onClose: () => void\n}\n\nexport default function BillingHistoryModal({ isOpen, onClose }: BillingHistoryModalProps) {\n    // Use the custom scroll lock hook\n    useModalScrollLock(isOpen)\n    \n    const [billingHistory, setBillingHistory] = useState<BillingTransaction[]>([])\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState<string | null>(null)\n\n    useEffect(() => {\n        if (isOpen)\n        {\n            fetchBillingHistory()\n        }\n    }, [isOpen])\n\n    // Handle ESC key to close modal\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if (e.key === 'Escape' && isOpen) {\n                onClose()\n            }\n        }\n\n        if (isOpen) {\n            document.addEventListener('keydown', handleKeyDown)\n        }\n\n        return () => {\n            document.removeEventListener('keydown', handleKeyDown)\n        }\n    }, [isOpen, onClose])\n\n    const fetchBillingHistory = async () => {\n        try\n        {\n            setLoading(true)\n            setError(null)\n            const response = await apiService.getBillingHistory()\n\n            if (response.success && response.data)\n            {\n                setBillingHistory(response.data.transactions)\n            } else\n            {\n                setError(response.message || 'Failed to fetch billing history')\n            }\n        } catch (err)\n        {\n            console.error('Error fetching billing history:', err)\n            setError('Failed to load billing history')\n        } finally\n        {\n            setLoading(false)\n        }\n    }\n\n    const formatDate = (dateString: string) => {\n        if (!dateString || typeof dateString !== 'string') {\n            return 'Unknown Date'\n        }\n        \n        try {\n            return new Date(dateString).toLocaleDateString('en-US', {\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n            })\n        } catch (error) {\n            console.warn('Date formatting error:', error);\n            return 'Invalid Date'\n        }\n    }\n\n    const getPlanDisplayName = (planId: string) => {\n        if (!planId || typeof planId !== 'string') {\n            return 'Unknown Plan'\n        }\n        \n        switch (planId.toLowerCase())\n        {\n            case 'monthly':\n                return 'Monthly Plan'\n            case 'basic':\n                return 'Basic Plan'\n            case 'growth':\n                return 'Growth Plan'\n            case 'professional':\n                return 'Professional Plan'\n            case 'enterprise':\n                return 'Enterprise Plan'\n            default:\n                return planId.charAt(0).toUpperCase() + planId.slice(1) + ' Plan'\n        }\n    }\n\n    const getTransactionStatusColor = (status: string) => {\n        if (!status || typeof status !== 'string') {\n            return 'text-gray-600 bg-gray-100'\n        }\n        \n        switch (status.toLowerCase())\n        {\n            case 'succeeded':\n            case 'paid':\n                return 'text-green-600 bg-green-100'\n            case 'pending':\n            case 'processing':\n                return 'text-yellow-600 bg-yellow-100'\n            case 'failed':\n            case 'cancelled':\n                return 'text-red-600 bg-red-100'\n            default:\n                return 'text-gray-600 bg-gray-100'\n        }\n    }\n\n    if (!isOpen) return null\n\n    return (\n        <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n            <div className=\"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\">\n                {/* Modal Header */}\n                <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n                    <h3 className=\"text-xl font-semibold text-[#282828] flex items-center gap-2\">\n                        <Receipt className=\"h-5 w-5\" />\n                        Billing History\n                    </h3>\n                    <button\n                        onClick={onClose}\n                        className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n                    >\n                        <X className=\"h-5 w-5 text-gray-500\" />\n                    </button>\n                </div>\n\n                {/* Modal Content */}\n                <div className=\"p-6 overflow-y-auto max-h-[calc(90vh-120px)]\">\n                    {loading ? (\n                        <div className=\"flex items-center justify-center py-12\">\n                            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5046E5]\"></div>\n                            <span className=\"ml-3 text-[#5F5F5F]\">Loading billing history...</span>\n                        </div>\n                    ) : error ? (\n                        <div className=\"flex items-center justify-center py-12\">\n                            <AlertCircle className=\"h-8 w-8 text-red-500 mr-3\" />\n                            <span className=\"text-red-600\">{error}</span>\n                        </div>\n                    ) : billingHistory.length === 0 ? (\n                        <div className=\"flex items-center justify-center py-12\">\n                            <AlertCircle className=\"h-8 w-8 text-[#5F5F5F] mr-3\" />\n                            <span className=\"text-[#5F5F5F]\">No billing history found</span>\n                        </div>\n                    ) : (\n                        <div className=\"space-y-4\">\n                            {billingHistory.map((transaction) => (\n                                <div key={transaction.id} className=\"bg-[#EEEEEE] rounded-[8px] p-4\">\n                                    <div className=\"flex md:flex-row flex-col gap-y-4 items-center justify-between mb-3\">\n                                        <div className=\"flex items-center gap-3\">\n                                            <div className=\"bg-[#5046E5] rounded-full p-2\">\n                                                <Receipt className=\"h-4 w-4 text-white\" />\n                                            </div>\n                                            <div>\n                                                <h4 className=\"font-medium text-[#282828]\">{transaction.description || 'No Description'}</h4>\n                                                <p className=\"text-sm text-[#5F5F5F]\">\n                                                    {getPlanDisplayName(transaction.planId)} â€¢ {formatDate(transaction.createdAt)}\n                                                </p>\n                                            </div>\n                                        </div>\n                                        <div className=\"text-right\">\n                                            <p className=\"text-lg font-bold text-[#282828]\">{transaction.formattedAmount || 'N/A'}</p>\n                                            <span className={`px-2 py-1 rounded-full text-xs font-medium ${getTransactionStatusColor(transaction.status)}`}>\n                                                {transaction.status ? transaction.status.charAt(0).toUpperCase() + transaction.status.slice(1) : 'Unknown'}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 17182, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/subscription-details-section.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { AlertCircle, Calendar, CreditCard, Video, Users, Receipt } from 'lucide-react'\nimport { apiService, SubscriptionData } from '@/lib/api-service'\nimport BillingHistoryModal from './billing-history-modal'\nimport SubscriptionManagementModal from './subscription-management-modal'\n\ninterface SubscriptionDetailsSectionProps {\n    className?: string\n}\n\nexport default function SubscriptionDetailsSection({ className = '' }: SubscriptionDetailsSectionProps) {\n    const [subscription, setSubscription] = useState<SubscriptionData | null>(null)\n    const [loading, setLoading] = useState(true)\n    const [error, setError] = useState<string | null>(null)\n    const [showBillingModal, setShowBillingModal] = useState(false)\n    const [showCancelModal, setShowCancelModal] = useState(false)\n\n    useEffect(() => {\n        const fetchSubscription = async () => {\n            try\n            {\n                setLoading(true)\n                setError(null)\n                const response = await apiService.getCurrentSubscription()\n\n                if (response.success && response.data)\n                {\n                    setSubscription(response.data.subscription)\n                } else\n                {\n                    setError(response.message || 'Failed to fetch subscription details')\n                }\n            } catch (err)\n            {\n                const errorMessage = err instanceof Error ? err.message : 'Failed to load subscription details'\n                setError(errorMessage)\n            } finally\n            {\n                setLoading(false)\n            }\n        }\n\n        fetchSubscription()\n    }, [])\n\n    const handleViewBillingHistory = () => {\n        setShowBillingModal(true)\n    }\n\n    const handleCloseBillingModal = () => {\n        setShowBillingModal(false)\n    }\n\n    const handleCancelSubscription = () => {\n        setShowCancelModal(true)\n    }\n\n    const handleCloseCancelModal = () => {\n        setShowCancelModal(false)\n    }\n\n    const handleSubscriptionUpdated = () => {\n        // Refresh subscription data when it's updated\n        const fetchSubscription = async () => {\n            try\n            {\n                setLoading(true)\n                setError(null)\n                const response = await apiService.getCurrentSubscription()\n\n                if (response.success && response.data && response.data.subscription)\n                {\n                    // Ensure subscription data is valid before setting\n                    const subscriptionData = response.data.subscription\n                    if (subscriptionData && typeof subscriptionData === 'object')\n                    {\n                        setSubscription(subscriptionData)\n                    } else\n                    {\n                        setError('Invalid subscription data received')\n                    }\n                } else\n                {\n                    setError(response.message || 'Failed to fetch subscription details')\n                }\n            } catch (err)\n            {\n                const errorMessage = err instanceof Error ? err.message : 'Failed to load subscription details'\n                setError(errorMessage)\n            } finally\n            {\n                setLoading(false)\n            }\n        }\n        fetchSubscription()\n    }\n\n    const formatDate = (dateString: string) => {\n        return new Date(dateString).toLocaleDateString('en-US', {\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric'\n        })\n    }\n\n    const getStatusColor = (status: string) => {\n        switch (status)\n        {\n            case 'active':\n                return 'text-green-600 bg-green-100'\n            case 'pending':\n                return 'text-blue-600 bg-blue-100'\n            case 'past_due':\n                return 'text-yellow-600 bg-yellow-100'\n            case 'cancelled':\n                return 'text-red-600 bg-red-100'\n            default:\n                return 'text-gray-600 bg-gray-100'\n        }\n    }\n\n    const getPlanDisplayName = (planId: string) => {\n        switch (planId)\n        {\n            case 'monthly':\n                return 'Monthly Plan'\n            default:\n                return planId.charAt(0).toUpperCase() + planId.slice(1) + ' Plan'\n        }\n    }\n\n\n    if (loading)\n    {\n        return (\n            <div className={`${className}`}>\n                <h2 className=\"text-[32px] font-semibold text-[#282828] text-center mb-8\">Subscription Details</h2>\n                <div className=\"flex items-center justify-center py-8\">\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#5046E5]\"></div>\n                    <span className=\"ml-3 text-[#5F5F5F]\">Loading subscription details...</span>\n                </div>\n            </div>\n        )\n    }\n\n    if (error)\n    {\n        return (\n            <div className={`${className}`}>\n                <h2 className=\"text-[32px] font-semibold text-[#282828] text-center mb-8\">Subscription Details</h2>\n                <div className=\"flex items-center justify-center py-8\">\n                    <AlertCircle className=\"h-8 w-8 text-red-500 mr-3\" />\n                    <span className=\"text-red-600\">{error}</span>\n                </div>\n            </div>\n        )\n    }\n\n    if (!subscription)\n    {\n        return (\n            <div className={`${className}`}>\n                <h2 className=\"text-[32px] font-semibold text-[#282828] text-center mb-8\">Subscription Details</h2>\n                <div className=\"flex items-center justify-center py-8\">\n                    <AlertCircle className=\"h-8 w-8 text-[#5F5F5F] mr-3\" />\n                    <span className=\"text-[#5F5F5F]\">No subscription found</span>\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <div className={`${className}`}>\n            {/* Header */}\n            <div className=\"flex md:flex-row flex-col gap-y-4 items-center justify-between mb-8\">\n                <h2 className=\"text-[32px] font-semibold text-[#282828] text-center flex-1\">Subscription Details</h2>\n                <span className={`px-3 py-1 rounded-full text-sm ml-auto font-medium ${getStatusColor(subscription.status)}`}>\n                    {subscription.status.charAt(0).toUpperCase() + subscription.status.slice(1)}\n                </span>\n            </div>\n\n            {/* Plan Information */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n                <div className=\"bg-[#EEEEEE] rounded-[8px] p-4\">\n                    <div className=\"flex items-center mb-3\">\n                        <CreditCard className=\"h-5 w-5 text-[#5046E5] mr-2\" />\n                        <h4 className=\"font-medium text-[#282828]\">Current Plan</h4>\n                    </div>\n                    <p className=\"text-2xl font-bold text-[#282828]\">{getPlanDisplayName(subscription.planId)}</p>\n                    <p className=\"text-sm text-[#5F5F5F] mt-1\">Plan ID: {subscription.planId}</p>\n                </div>\n\n                <div className=\"bg-[#EEEEEE] rounded-[8px] p-4\">\n                    <div className=\"flex items-center mb-3\">\n                        <Video className=\"h-5 w-5 text-[#5046E5] mr-2\" />\n                        <h4 className=\"font-medium text-[#282828]\">Video Usage</h4>\n                    </div>\n                    <p className=\"text-2xl font-bold text-[#282828]\">\n                        {subscription.videoCount} / {subscription.videoLimit}\n                    </p>\n                    <p className=\"text-sm text-[#5F5F5F] mt-1\">Videos generated this period</p>\n                </div>\n            </div>\n\n            {/* Billing Information */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n                <div className=\"bg-[#EEEEEE] rounded-[8px] p-4\">\n                    <div className=\"flex items-center mb-3\">\n                        <Calendar className=\"h-5 w-5 text-[#5046E5] mr-2\" />\n                        <h4 className=\"font-medium text-[#282828]\">Current Period</h4>\n                    </div>\n                    <p className=\"text-sm text-[#5F5F5F]\">\n                        <span className=\"font-medium\">Started:</span> {formatDate(subscription.currentPeriodStart)}\n                    </p>\n                    <p className=\"text-sm text-[#5F5F5F] mt-1\">\n                        <span className=\"font-medium\">Ends:</span> {formatDate(subscription.currentPeriodEnd)}\n                    </p>\n                </div>\n\n                <div className=\"bg-[#EEEEEE] rounded-[8px] p-4\">\n                    <div className=\"flex items-center mb-3\">\n                        <Users className=\"h-5 w-5 text-[#5046E5] mr-2\" />\n                        <h4 className=\"font-medium text-[#282828]\">Account Status</h4>\n                    </div>\n                    <p className=\"text-sm text-[#5F5F5F]\">\n                        <span className=\"font-medium\">Member since:</span> {formatDate(subscription.createdAt)}\n                    </p>\n                    <p className=\"text-sm text-[#5F5F5F] mt-1\">\n                        <span className=\"font-medium\">Last updated:</span> {formatDate(subscription.updatedAt)}\n                    </p>\n                </div>\n            </div>\n\n            {/* Cancellation Status */}\n            {subscription.cancelAtPeriodEnd && (\n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6\">\n                    <div className=\"flex items-center\">\n                        <AlertCircle className=\"h-5 w-5 text-yellow-600 mr-2\" />\n                        <div>\n                            <h4 className=\"font-medium text-yellow-800\">Subscription Cancelled</h4>\n                            <p className=\"text-sm text-yellow-700 mt-1\">\n                                Your subscription will end on {formatDate(subscription.currentPeriodEnd)}.\n                                You&apos;ll continue to have access until then.\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Action Buttons */}\n            <div className=\"flex flex-col sm:flex-row gap-3 pt-6\">\n                {!subscription.cancelAtPeriodEnd && (\n                <button\n                    onClick={handleCancelSubscription}\n                    className=\"flex-1 bg-red-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-red-700 transition-colors\"\n                >\n                    Cancel Subscription\n                </button>\n                )}\n                {subscription.status === 'active' && (\n                    <button\n                        onClick={handleViewBillingHistory}\n                        className=\"flex-1 bg-[#EEEEEE] text-[#282828] px-8 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center justify-center gap-2\"\n                    >\n                        <Receipt className=\"h-4 w-4\" />\n                        View Billing History\n                    </button>\n                )}\n            </div>\n\n            {/* Billing History Modal */}\n            <BillingHistoryModal\n                isOpen={showBillingModal}\n                onClose={handleCloseBillingModal}\n            />\n\n            {/* Cancel Subscription Modal */}\n            <SubscriptionManagementModal\n                isOpen={showCancelModal}\n                onClose={handleCloseCancelModal}\n                currentSubscription={subscription}\n                onSubscriptionUpdated={handleSubscriptionUpdated}\n            />\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AANA;;;;;;AAYe,SAAS,2BAA2B,EAAE,YAAY,EAAE,EAAmC;;IAClG,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,6LAAQ,EAA0B;IAC1E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6LAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6LAAQ,EAAgB;IAClD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,6LAAQ,EAAC;IACzD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,6LAAQ,EAAC;IAEvD,IAAA,8LAAS;gDAAC;YACN,MAAM;0EAAoB;oBACtB,IACA;wBACI,WAAW;wBACX,SAAS;wBACT,MAAM,WAAW,MAAM,iKAAU,CAAC,sBAAsB;wBAExD,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EACrC;4BACI,gBAAgB,SAAS,IAAI,CAAC,YAAY;wBAC9C,OACA;4BACI,SAAS,SAAS,OAAO,IAAI;wBACjC;oBACJ,EAAE,OAAO,KACT;wBACI,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG;wBAC1D,SAAS;oBACb,SACA;wBACI,WAAW;oBACf;gBACJ;;YAEA;QACJ;+CAAG,EAAE;IAEL,MAAM,2BAA2B;QAC7B,oBAAoB;IACxB;IAEA,MAAM,0BAA0B;QAC5B,oBAAoB;IACxB;IAEA,MAAM,2BAA2B;QAC7B,mBAAmB;IACvB;IAEA,MAAM,yBAAyB;QAC3B,mBAAmB;IACvB;IAEA,MAAM,4BAA4B;QAC9B,8CAA8C;QAC9C,MAAM,oBAAoB;YACtB,IACA;gBACI,WAAW;gBACX,SAAS;gBACT,MAAM,WAAW,MAAM,iKAAU,CAAC,sBAAsB;gBAExD,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,IAAI,SAAS,IAAI,CAAC,YAAY,EACnE;oBACI,mDAAmD;oBACnD,MAAM,mBAAmB,SAAS,IAAI,CAAC,YAAY;oBACnD,IAAI,oBAAoB,OAAO,qBAAqB,UACpD;wBACI,gBAAgB;oBACpB,OACA;wBACI,SAAS;oBACb;gBACJ,OACA;oBACI,SAAS,SAAS,OAAO,IAAI;gBACjC;YACJ,EAAE,OAAO,KACT;gBACI,MAAM,eAAe,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAC1D,SAAS;YACb,SACA;gBACI,WAAW;YACf;QACJ;QACA;IACJ;IAEA,MAAM,aAAa,CAAC;QAChB,OAAO,IAAI,KAAK,YAAY,kBAAkB,CAAC,SAAS;YACpD,MAAM;YACN,OAAO;YACP,KAAK;QACT;IACJ;IAEA,MAAM,iBAAiB,CAAC;QACpB,OAAQ;YAEJ,KAAK;gBACD,OAAO;YACX,KAAK;gBACD,OAAO;YACX,KAAK;gBACD,OAAO;YACX,KAAK;gBACD,OAAO;YACX;gBACI,OAAO;QACf;IACJ;IAEA,MAAM,qBAAqB,CAAC;QACxB,OAAQ;YAEJ,KAAK;gBACD,OAAO;YACX;gBACI,OAAO,OAAO,MAAM,CAAC,GAAG,WAAW,KAAK,OAAO,KAAK,CAAC,KAAK;QAClE;IACJ;IAGA,IAAI,SACJ;QACI,qBACI,iNAAC;YAAI,WAAW,GAAG,WAAW;;8BAC1B,iNAAC;oBAAG,WAAU;8BAA4D;;;;;;8BAC1E,iNAAC;oBAAI,WAAU;;sCACX,iNAAC;4BAAI,WAAU;;;;;;sCACf,iNAAC;4BAAK,WAAU;sCAAsB;;;;;;;;;;;;;;;;;;IAItD;IAEA,IAAI,OACJ;QACI,qBACI,iNAAC;YAAI,WAAW,GAAG,WAAW;;8BAC1B,iNAAC;oBAAG,WAAU;8BAA4D;;;;;;8BAC1E,iNAAC;oBAAI,WAAU;;sCACX,iNAAC,0PAAW;4BAAC,WAAU;;;;;;sCACvB,iNAAC;4BAAK,WAAU;sCAAgB;;;;;;;;;;;;;;;;;;IAIhD;IAEA,IAAI,CAAC,cACL;QACI,qBACI,iNAAC;YAAI,WAAW,GAAG,WAAW;;8BAC1B,iNAAC;oBAAG,WAAU;8BAA4D;;;;;;8BAC1E,iNAAC;oBAAI,WAAU;;sCACX,iNAAC,0PAAW;4BAAC,WAAU;;;;;;sCACvB,iNAAC;4BAAK,WAAU;sCAAiB;;;;;;;;;;;;;;;;;;IAIjD;IAEA,qBACI,iNAAC;QAAI,WAAW,GAAG,WAAW;;0BAE1B,iNAAC;gBAAI,WAAU;;kCACX,iNAAC;wBAAG,WAAU;kCAA8D;;;;;;kCAC5E,iNAAC;wBAAK,WAAW,CAAC,mDAAmD,EAAE,eAAe,aAAa,MAAM,GAAG;kCACvG,aAAa,MAAM,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK,aAAa,MAAM,CAAC,KAAK,CAAC;;;;;;;;;;;;0BAKjF,iNAAC;gBAAI,WAAU;;kCACX,iNAAC;wBAAI,WAAU;;0CACX,iNAAC;gCAAI,WAAU;;kDACX,iNAAC,uPAAU;wCAAC,WAAU;;;;;;kDACtB,iNAAC;wCAAG,WAAU;kDAA6B;;;;;;;;;;;;0CAE/C,iNAAC;gCAAE,WAAU;0CAAqC,mBAAmB,aAAa,MAAM;;;;;;0CACxF,iNAAC;gCAAE,WAAU;;oCAA8B;oCAAU,aAAa,MAAM;;;;;;;;;;;;;kCAG5E,iNAAC;wBAAI,WAAU;;0CACX,iNAAC;gCAAI,WAAU;;kDACX,iNAAC,oOAAK;wCAAC,WAAU;;;;;;kDACjB,iNAAC;wCAAG,WAAU;kDAA6B;;;;;;;;;;;;0CAE/C,iNAAC;gCAAE,WAAU;;oCACR,aAAa,UAAU;oCAAC;oCAAI,aAAa,UAAU;;;;;;;0CAExD,iNAAC;gCAAE,WAAU;0CAA8B;;;;;;;;;;;;;;;;;;0BAKnD,iNAAC;gBAAI,WAAU;;kCACX,iNAAC;wBAAI,WAAU;;0CACX,iNAAC;gCAAI,WAAU;;kDACX,iNAAC,6OAAQ;wCAAC,WAAU;;;;;;kDACpB,iNAAC;wCAAG,WAAU;kDAA6B;;;;;;;;;;;;0CAE/C,iNAAC;gCAAE,WAAU;;kDACT,iNAAC;wCAAK,WAAU;kDAAc;;;;;;oCAAe;oCAAE,WAAW,aAAa,kBAAkB;;;;;;;0CAE7F,iNAAC;gCAAE,WAAU;;kDACT,iNAAC;wCAAK,WAAU;kDAAc;;;;;;oCAAY;oCAAE,WAAW,aAAa,gBAAgB;;;;;;;;;;;;;kCAI5F,iNAAC;wBAAI,WAAU;;0CACX,iNAAC;gCAAI,WAAU;;kDACX,iNAAC,oOAAK;wCAAC,WAAU;;;;;;kDACjB,iNAAC;wCAAG,WAAU;kDAA6B;;;;;;;;;;;;0CAE/C,iNAAC;gCAAE,WAAU;;kDACT,iNAAC;wCAAK,WAAU;kDAAc;;;;;;oCAAoB;oCAAE,WAAW,aAAa,SAAS;;;;;;;0CAEzF,iNAAC;gCAAE,WAAU;;kDACT,iNAAC;wCAAK,WAAU;kDAAc;;;;;;oCAAoB;oCAAE,WAAW,aAAa,SAAS;;;;;;;;;;;;;;;;;;;YAMhG,aAAa,iBAAiB,kBAC3B,iNAAC;gBAAI,WAAU;0BACX,cAAA,iNAAC;oBAAI,WAAU;;sCACX,iNAAC,0PAAW;4BAAC,WAAU;;;;;;sCACvB,iNAAC;;8CACG,iNAAC;oCAAG,WAAU;8CAA8B;;;;;;8CAC5C,iNAAC;oCAAE,WAAU;;wCAA+B;wCACT,WAAW,aAAa,gBAAgB;wCAAE;;;;;;;;;;;;;;;;;;;;;;;;0BAS7F,iNAAC;gBAAI,WAAU;;oBACV,CAAC,aAAa,iBAAiB,kBAChC,iNAAC;wBACG,SAAS;wBACT,WAAU;kCACb;;;;;;oBAIA,aAAa,MAAM,KAAK,0BACrB,iNAAC;wBACG,SAAS;wBACT,WAAU;;0CAEV,iNAAC,0OAAO;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;;0BAO3C,iNAAC,yLAAmB;gBAChB,QAAQ;gBACR,SAAS;;;;;;0BAIb,iNAAC,iMAA2B;gBACxB,QAAQ;gBACR,SAAS;gBACT,qBAAqB;gBACrB,uBAAuB;;;;;;;;;;;;AAIvC;GAnRwB;KAAA"}},
    {"offset": {"line": 17849, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/auth-loader.tsx"],"sourcesContent":["'use client'\n\nimport { useAppSelector } from '@/store/hooks'\n\ninterface AuthLoaderProps {\n  children: React.ReactNode\n}\n\nexport default function AuthLoader({ children }: AuthLoaderProps) {\n  const { isLoading } = useAppSelector((state) => state.user)\n\n  if (isLoading) {\n    return (\n      <div className=\"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm z-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"relative\">\n            {/* EdgeAi Logo */}\n            <div className=\"mb-6\">\n              <h1 className=\"text-2xl font-bold text-[#5046E5]\">\n                EdgeAi\n              </h1>\n              <p className=\"text-sm text-[#667085] mt-1\">\n                AI-Powered Video Creation Platform\n              </p>\n            </div>\n            \n            {/* Loading Spinner */}\n            <div className=\"w-16 h-16 mx-auto mb-4\">\n              \n                <div className=\"w-full h-full border-4 border-transparent border-t-[#5046E5] rounded-full animate-spin\"></div>\n            </div>\n            \n            {/* Loading Text - Removed authentication message */}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return <>{children}</>\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAQe,SAAS,WAAW,EAAE,QAAQ,EAAmB;;IAC9D,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,8JAAc;qCAAC,CAAC,QAAU,MAAM,IAAI;;IAE1D,IAAI,WAAW;QACb,qBACE,iNAAC;YAAI,WAAU;sBACb,cAAA,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAI,WAAU;;sCAEb,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;oCAAG,WAAU;8CAAoC;;;;;;8CAGlD,iNAAC;oCAAE,WAAU;8CAA8B;;;;;;;;;;;;sCAM7C,iNAAC;4BAAI,WAAU;sCAEX,cAAA,iNAAC;gCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;IAQ7B;IAEA,qBAAO;kBAAG;;AACZ;GAhCwB;;QACA,8JAAc;;;KADd"}},
    {"offset": {"line": 17947, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/video-gallery.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { Download, Trash2, Play, Clock, CheckCircle, XCircle, AlertCircle } from 'lucide-react'\nimport { apiService } from '@/lib/api-service'\n\n\ninterface Video {\n  videoId: string\n  title: string\n  status: 'processing' | 'ready' | 'failed'\n  createdAt: string\n  updatedAt: string\n  metadata?: {\n    duration?: number\n    size?: number\n    format?: string\n  }\n  downloadUrl?: string | null\n  error?: string\n}\n\ninterface VideoGalleryProps {\n  userId: string\n  className?: string\n}\n\nexport default function VideoGallery({ userId, className }: VideoGalleryProps) {\n  const [videos, setVideos] = useState<Video[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [deletingVideo, setDeletingVideo] = useState<string | null>(null)\n\n  // Fetch videos from API using new Express backend\n  const fetchVideos = async () => {\n    try\n    {\n      setLoading(true)\n      setError(null)\n\n      const result = await apiService.getVideoGallery()\n\n      console.log('result', result)\n\n      if (!result.success || !result.data)\n      {\n        throw new Error(result.message || 'Failed to fetch videos')\n      }\n\n      console.log('result.data.videos', result.data.videos)\n\n      setVideos(result.data.videos)\n    } catch (err: any)\n    {\n      setError(err.message || 'Failed to load videos')\n    } finally\n    {\n      setLoading(false)\n    }\n  }\n\n  // Delete video\n  const deleteVideo = async (videoId: string) => {\n    if (!confirm('Are you sure you want to delete this video? This action cannot be undone.'))\n    {\n      return\n    }\n\n    try\n    {\n      setDeletingVideo(videoId)\n\n      const result = await apiService.deleteVideo(videoId)\n\n      if (!result.success)\n      {\n        throw new Error(result.message || 'Failed to delete video')\n      }\n\n      // Remove video from state\n      setVideos(prev => prev.filter(video => video.videoId !== videoId))\n    } catch (err: any)\n    {\n      alert(err.message || 'Failed to delete video')\n    } finally\n    {\n      setDeletingVideo(null)\n    }\n  }\n\n  // Download video\n  const downloadVideo = async (video: Video) => {\n    if (!video.downloadUrl)\n    {\n      alert('Download URL not available for this video')\n      return\n    }\n\n    try\n    {\n      const response = await fetch(video.downloadUrl)\n      const blob = await response.blob()\n\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = `${video.title}.mp4`\n      document.body.appendChild(a)\n      a.click()\n      window.URL.revokeObjectURL(url)\n      document.body.removeChild(a)\n    } catch (err)\n    {\n      alert('Failed to download video')\n    }\n  }\n\n  // Format file size\n  const formatFileSize = (bytes?: number) => {\n    if (!bytes) return 'Unknown'\n    const sizes = ['Bytes', 'KB', 'MB', 'GB']\n    const i = Math.floor(Math.log(bytes) / Math.log(1024))\n    return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i]\n  }\n\n  // Format duration\n  const formatDuration = (seconds?: number) => {\n    if (!seconds) return 'Unknown'\n    const mins = Math.floor(seconds / 60)\n    const secs = seconds % 60\n    return `${mins}:${secs.toString().padStart(2, '0')}`\n  }\n\n  // Get status icon and color\n  const getStatusInfo = (status: string) => {\n    switch (status)\n    {\n      case 'ready':\n        return { icon: CheckCircle, color: 'text-green-600', bg: 'bg-green-100' }\n      case 'processing':\n        return { icon: Clock, color: 'text-yellow-600', bg: 'bg-yellow-100' }\n      case 'failed':\n        return { icon: XCircle, color: 'text-red-600', bg: 'bg-red-100' }\n      default:\n        return { icon: AlertCircle, color: 'text-gray-600', bg: 'bg-gray-100' }\n    }\n  }\n\n  // Load videos on component mount\n  useEffect(() => {\n    fetchVideos()\n  }, [userId])\n\n  if (loading)\n  {\n    return (\n      <div className={`flex items-center justify-center p-8 ${className}`}>\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n        <span className=\"ml-2 text-gray-600\">Loading videos...</span>\n      </div>\n    )\n  }\n\n  if (error)\n  {\n    return (\n      <div className={`p-4 ${className}`}>\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <div className=\"flex items-center gap-3\">\n            <AlertCircle className=\"w-5 h-5 text-red-600\" />\n            <div>\n              <h3 className=\"text-red-800 font-semibold\">Error</h3>\n              <p className=\"text-red-700 text-sm\">{error}</p>\n            </div>\n          </div>\n          <button\n            onClick={fetchVideos}\n            className=\"mt-3 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors\"\n          >\n            Try Again\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  if (videos.length === 0)\n  {\n    return (\n      <div className={`text-center p-8 ${className}`}>\n        <Play className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">No videos yet</h3>\n        <p className=\"text-gray-600\">Your created videos will appear here once they&apos;re ready.</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className={`space-y-4 ${className}`}>\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-xl font-semibold text-gray-900\">Your Videos</h2>\n        <button\n          onClick={fetchVideos}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n        >\n          Refresh\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {videos.map((video) => {\n          const StatusIcon = getStatusInfo(video.status).icon\n          const statusColor = getStatusInfo(video.status).color\n          const statusBg = getStatusInfo(video.status).bg\n\n          return (\n            <div\n              key={video.videoId}\n              className=\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\"\n            >\n              <div className=\"flex items-start justify-between mb-3\">\n                <h3 className=\"font-semibold text-gray-900 line-clamp-2\">{video.title}</h3>\n                <div className={`flex items-center gap-1 px-2 py-1 rounded-full text-xs ${statusBg}`}>\n                  <StatusIcon className={`w-3 h-3 ${statusColor}`} />\n                  <span className={`font-medium ${statusColor}`}>\n                    {video.status.charAt(0).toUpperCase() + video.status.slice(1)}\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"space-y-2 text-sm text-gray-600 mb-4\">\n                <div className=\"flex items-center gap-2\">\n                  <span>Created:</span>\n                  <span>{new Date(video.createdAt).toLocaleDateString()}</span>\n                </div>\n                {video.metadata?.duration && (\n                  <div className=\"flex items-center gap-2\">\n                    <span>Duration:</span>\n                    <span>{formatDuration(video.metadata.duration)}</span>\n                  </div>\n                )}\n                {video.metadata?.size && (\n                  <div className=\"flex items-center gap-2\">\n                    <span>Size:</span>\n                    <span>{formatFileSize(video.metadata.size)}</span>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex items-center gap-2\">\n                {video.status === 'ready' && video.downloadUrl && (\n                  <button\n                    onClick={() => downloadVideo(video)}\n                    className=\"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    Download\n                  </button>\n                )}\n\n                <button\n                  onClick={() => deleteVideo(video.videoId)}\n                  disabled={deletingVideo === video.videoId}\n                  className=\"flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm disabled:opacity-50\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                  {deletingVideo === video.videoId ? 'Deleting...' : 'Delete'}\n                </button>\n              </div>\n\n              {video.error && (\n                <div className=\"mt-2 text-xs text-red-600\">\n                  Error: {video.error}\n                </div>\n              )}\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 18458, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/global-loading-overlay.tsx"],"sourcesContent":["'use client'\n\nimport { useAppSelector } from '@/store/hooks'\nimport { LoadingSpinner } from '../loading-states'\n\nexport default function GlobalLoadingOverlay() {\n  const { globalLoading, globalLoadingMessage } = useAppSelector((state) => state.user)\n\n  if (!globalLoading) return null\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9999] flex items-center justify-center\">\n      <div className=\"bg-white rounded-lg p-8 max-w-sm w-full mx-4 shadow-2xl\">\n        <div className=\"text-center\">\n          {/* Loading Spinner */}\n          <div className=\"mb-6\">\n            <LoadingSpinner size=\"lg\" className=\"mx-auto\" />\n          </div>\n          \n          {/* Loading Message */}\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n            {globalLoadingMessage || 'Processing...'}\n          </h3>\n          \n          {/* Subtitle */}\n          <p className=\"text-sm text-gray-600\">\n            Please wait while we process your request\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,EAAE,aAAa,EAAE,oBAAoB,EAAE,GAAG,IAAA,8JAAc;+CAAC,CAAC,QAAU,MAAM,IAAI;;IAEpF,IAAI,CAAC,eAAe,OAAO;IAE3B,qBACE,iNAAC;QAAI,WAAU;kBACb,cAAA,iNAAC;YAAI,WAAU;sBACb,cAAA,iNAAC;gBAAI,WAAU;;kCAEb,iNAAC;wBAAI,WAAU;kCACb,cAAA,iNAAC,gLAAc;4BAAC,MAAK;4BAAK,WAAU;;;;;;;;;;;kCAItC,iNAAC;wBAAG,WAAU;kCACX,wBAAwB;;;;;;kCAI3B,iNAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;;;;;;AAO/C;GA3BwB;;QAC0B,8JAAc;;;KADxC"}},
    {"offset": {"line": 18546, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/notification.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { X, CheckCircle, AlertCircle, Info, AlertTriangle } from 'lucide-react'\n\nexport interface NotificationProps {\n  id: string\n  type: 'success' | 'error' | 'warning' | 'info'\n  title: string\n  message: string\n  duration?: number\n  onClose: (id: string) => void\n}\n\nexport default function Notification({ \n  id, \n  type, \n  title, \n  message, \n  duration = 5000, \n  onClose \n}: NotificationProps) {\n  const [isVisible, setIsVisible] = useState(false)\n  const [isLeaving, setIsLeaving] = useState(false)\n\n  useEffect(() => {\n    // Trigger entrance animation\n    const timer = setTimeout(() => setIsVisible(true), 100)\n    \n    // Auto-close after duration\n    const autoCloseTimer = setTimeout(() => {\n      handleClose()\n    }, duration)\n\n    return () => {\n      clearTimeout(timer)\n      clearTimeout(autoCloseTimer)\n    }\n  }, [duration])\n\n  const handleClose = () => {\n    setIsLeaving(true)\n    setTimeout(() => {\n      onClose(id)\n    }, 300) // Match animation duration\n  }\n\n  const getIcon = () => {\n    switch (type) {\n      case 'success':\n        return <CheckCircle className=\"w-5 h-5 text-green-500\" />\n      case 'error':\n        return <AlertCircle className=\"w-5 h-5 text-red-500\" />\n      case 'warning':\n        return <AlertTriangle className=\"w-5 h-5 text-yellow-500\" />\n      case 'info':\n        return <Info className=\"w-5 h-5 text-blue-500\" />\n      default:\n        return <Info className=\"w-5 h-5 text-blue-500\" />\n    }\n  }\n\n  const getStyles = () => {\n    switch (type) {\n      case 'success':\n        return 'bg-green-50 border-green-200 text-green-800'\n      case 'error':\n        return 'bg-red-50 border-red-200 text-red-800'\n      case 'warning':\n        return 'bg-yellow-50 border-yellow-200 text-yellow-800'\n      case 'info':\n        return 'bg-blue-50 border-blue-200 text-blue-800'\n      default:\n        return 'bg-blue-50 border-blue-200 text-blue-800'\n    }\n  }\n\n  return (\n    <div\n      className={`\n        fixed top-4 right-4 z-[70] max-w-sm w-full\n        transform transition-all duration-300 ease-in-out\n        ${isVisible && !isLeaving \n          ? 'translate-x-0 opacity-100' \n          : 'translate-x-full opacity-0'\n        }\n      `}\n    >\n      <div className={`\n        p-4 rounded-lg border-2 shadow-lg\n        ${getStyles()}\n      `}>\n        <div className=\"flex items-start gap-3\">\n          {getIcon()}\n          <div className=\"flex-1 min-w-0\">\n            <h4 className=\"font-semibold text-sm mb-1\">{title}</h4>\n            <p className=\"text-sm opacity-90 break-words\">{message}</p>\n          </div>\n          <button\n            onClick={handleClose}\n            className=\"flex-shrink-0 ml-2 hover:opacity-70 transition-opacity\"\n          >\n            <X className=\"w-4 h-4\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// Notification Container Component\nexport function NotificationContainer() {\n  const [notifications, setNotifications] = useState<NotificationProps[]>([])\n\n  const addNotification = (notification: Omit<NotificationProps, 'id' | 'onClose'>) => {\n    const id = Math.random().toString(36).substr(2, 9)\n    const newNotification: NotificationProps = {\n      ...notification,\n      id,\n      onClose: removeNotification\n    }\n    setNotifications(prev => [...prev, newNotification])\n  }\n\n  const removeNotification = (id: string) => {\n    setNotifications(prev => prev.filter(notification => notification.id !== id))\n  }\n\n  // Expose addNotification globally\n  useEffect(() => {\n    (window as any).showNotification = addNotification\n    return () => {\n      delete (window as any).showNotification\n    }\n  }, [])\n\n  return (\n    <div className=\"fixed top-4 md:right-4 right-1 z-[70] space-y-2\">\n      {notifications.map((notification) => (\n        <Notification key={notification.id} {...notification} />\n      ))}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;;;AAHA;;;AAce,SAAS,aAAa,EACnC,EAAE,EACF,IAAI,EACJ,KAAK,EACL,OAAO,EACP,WAAW,IAAI,EACf,OAAO,EACW;;IAClB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,6LAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,6LAAQ,EAAC;IAE3C,IAAA,8LAAS;kCAAC;YACR,6BAA6B;YAC7B,MAAM,QAAQ;gDAAW,IAAM,aAAa;+CAAO;YAEnD,4BAA4B;YAC5B,MAAM,iBAAiB;yDAAW;oBAChC;gBACF;wDAAG;YAEH;0CAAO;oBACL,aAAa;oBACb,aAAa;gBACf;;QACF;iCAAG;QAAC;KAAS;IAEb,MAAM,cAAc;QAClB,aAAa;QACb,WAAW;YACT,QAAQ;QACV,GAAG,MAAK,2BAA2B;IACrC;IAEA,MAAM,UAAU;QACd,OAAQ;YACN,KAAK;gBACH,qBAAO,iNAAC,iQAAW;oBAAC,WAAU;;;;;;YAChC,KAAK;gBACH,qBAAO,iNAAC,0PAAW;oBAAC,WAAU;;;;;;YAChC,KAAK;gBACH,qBAAO,iNAAC,gQAAa;oBAAC,WAAU;;;;;;YAClC,KAAK;gBACH,qBAAO,iNAAC,iOAAI;oBAAC,WAAU;;;;;;YACzB;gBACE,qBAAO,iNAAC,iOAAI;oBAAC,WAAU;;;;;;QAC3B;IACF;IAEA,MAAM,YAAY;QAChB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,iNAAC;QACC,WAAW,CAAC;;;QAGV,EAAE,aAAa,CAAC,YACZ,8BACA,6BACH;MACH,CAAC;kBAED,cAAA,iNAAC;YAAI,WAAW,CAAC;;QAEf,EAAE,YAAY;MAChB,CAAC;sBACC,cAAA,iNAAC;gBAAI,WAAU;;oBACZ;kCACD,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCAAG,WAAU;0CAA8B;;;;;;0CAC5C,iNAAC;gCAAE,WAAU;0CAAkC;;;;;;;;;;;;kCAEjD,iNAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,iNAAC,wNAAC;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMzB;GA9FwB;KAAA;AAiGjB,SAAS;;IACd,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,6LAAQ,EAAsB,EAAE;IAE1E,MAAM,kBAAkB,CAAC;QACvB,MAAM,KAAK,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;QAChD,MAAM,kBAAqC;YACzC,GAAG,YAAY;YACf;YACA,SAAS;QACX;QACA,iBAAiB,CAAA,OAAQ;mBAAI;gBAAM;aAAgB;IACrD;IAEA,MAAM,qBAAqB,CAAC;QAC1B,iBAAiB,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,eAAgB,aAAa,EAAE,KAAK;IAC3E;IAEA,kCAAkC;IAClC,IAAA,8LAAS;2CAAC;YACP,OAAe,gBAAgB,GAAG;YACnC;mDAAO;oBACL,OAAO,AAAC,OAAe,gBAAgB;gBACzC;;QACF;0CAAG,EAAE;IAEL,qBACE,iNAAC;QAAI,WAAU;kBACZ,cAAc,GAAG,CAAC,CAAC,6BAClB,iNAAC;gBAAoC,GAAG,YAAY;eAAjC,aAAa,EAAE;;;;;;;;;;AAI1C;IAhCgB;MAAA"}}]
}