{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/AvatarCompletionModal.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useRef } from 'react'\nimport { X, SkipBack, SkipForward, Download } from 'lucide-react'\n\ninterface AvatarCompletionData {\n  avatarId: string\n  avatarName: string\n  previewImageUrl: string\n  previewVideoUrl: string\n  message: string\n}\n\ninterface AvatarCompletionModalProps {\n  isOpen: boolean\n  onClose: () => void\n  avatarData: AvatarCompletionData | null\n}\n\nexport default function AvatarCompletionModal({ isOpen, onClose, avatarData }: AvatarCompletionModalProps) {\n  const videoRef = useRef<HTMLVideoElement>(null)\n\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden'\n    } else {\n      document.body.style.overflow = 'unset'\n    }\n\n    return () => {\n      document.body.style.overflow = 'unset'\n    }\n  }, [isOpen])\n\n  const handleSkipBack = () => {\n    if (videoRef.current) {\n      videoRef.current.currentTime = Math.max(0, videoRef.current.currentTime - 10)\n    }\n  }\n\n  const handleSkipForward = () => {\n    if (videoRef.current) {\n      const newTime = Math.min(videoRef.current.duration, videoRef.current.currentTime + 10)\n      videoRef.current.currentTime = newTime\n    }\n  }\n\n  const handleDownload = () => {\n    if (avatarData?.previewVideoUrl) {\n      const link = document.createElement('a')\n      link.href = avatarData.previewVideoUrl\n      link.download = `${avatarData.avatarName}_avatar_preview.mp4`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n    }\n  }\n\n\n  if (!isOpen || !avatarData) {\n    return null\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-[12px] max-w-4xl w-full max-h-[90vh] flex flex-col\">\n        <div className=\"flex items-start justify-between px-6 py-4 border-b border-gray-200\">\n          <div>\n            <h2 className=\"text-[26px] font-bold text-[#282828] leading-[120%]\">\n              Avatar Created Successfully! ðŸŽ‰\n            </h2>\n            <p className=\"text-[16px] text-[#5F5F5F] mt-1\">\n              Your digital avatar &quot;{avatarData.avatarName}&quot; is ready\n            </p>\n          </div>\n          <button onClick={onClose} className=\"w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-full transition-colors duration-200\">\n            <X className=\"w-5 h-5 text-gray-600\" />\n          </button>\n        </div>\n        <div className=\"flex-1 overflow-y-auto p-6\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n            <div className=\"space-y-4\">\n              <h3 className=\"text-[20px] font-semibold text-[#101010]\">Preview Video</h3>\n              <div className=\"relative rounded-[12px] overflow-hidden bg-black\">\n                <video\n                  ref={videoRef}\n                  src={avatarData.previewVideoUrl}\n                  poster={avatarData.previewImageUrl}\n                  className=\"w-full h-[400px] object-contain\"\n                  controls\n                >\n                  Your browser does not support the video tag.\n                </video>\n              </div>\n              <div className=\"flex gap-[10px] items-center justify-center flex-wrap\">\n                <button\n                  onClick={handleSkipBack}\n                  className=\"flex items-center gap-2 px-4 py-2 bg-[#5046E5] text-white border-2 border-[#5046E5] rounded-[50px] hover:bg-transparent hover:text-[#5046E5] transition-colors duration-200\"\n                >\n                  <SkipBack className=\"w-4 h-4\" />\n                  Back (10s)\n                </button>\n                \n                <button\n                  onClick={handleSkipForward}\n                  className=\"flex items-center gap-2 px-4 py-2 bg-[#5046E5] text-white border-2 border-[#5046E5] rounded-[50px] hover:bg-transparent hover:text-[#5046E5] transition-colors duration-200\"\n                >\n                  <SkipForward className=\"w-4 h-4\" />\n                  Next (10s)\n                </button>\n                <button\n                  onClick={handleDownload}\n                  className=\"flex items-center gap-2 px-4 py-2 bg-[#5046E5] text-white border-2 border-[#5046E5] rounded-[50px] hover:bg-transparent hover:text-[#5046E5] transition-colors duration-200\"\n                >\n                  <Download className=\"w-4 h-4\" />\n                  Download\n                </button>\n              </div>\n            </div>\n            <div className=\"space-y-6\">\n              <div>\n                <h3 className=\"text-[20px] font-semibold text-[#101010] mb-4\">Avatar Details</h3>\n                <div className=\"space-y-4\">\n                  <div className=\"bg-gray-50 rounded-lg p-4\">\n                    <h4 className=\"font-medium text-[#101010] mb-2\">Avatar Name</h4>\n                    <p className=\"text-[#5F5F5F]\">{avatarData.avatarName}</p>\n                  </div>\n                  <div className=\"bg-gray-50 rounded-lg p-4\">\n                    <h4 className=\"font-medium text-[#101010] mb-2\">Status</h4>\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                      <span className=\"text-green-600 font-medium\">Completed Successfully</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"text-[20px] font-semibold text-[#101010] mb-4\">What&apos;s Next?</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"w-6 h-6 bg-[#5046E5] rounded-full flex items-center justify-center text-white text-sm font-bold\">1</div>\n                    <div>\n                      <p className=\"font-medium text-[#101010]\">Use Your Avatar</p>\n                      <p className=\"text-[#5F5F5F] text-sm\">Create videos with your digital twin</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"p-6 border-t border-gray-200\">\n          <div className=\"flex justify-end gap-4\">\n            <button\n              onClick={onClose}\n              className=\"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors duration-200\"\n            >\n              Close\n            </button>\n            <button\n              onClick={() => {\n                // Navigate to avatar management or creation pages\n                window.location.href = '/create-video/new'\n              }}\n              className=\"px-6 py-2 bg-[#5046E5] text-white border-2 border-[#5046E5] rounded-[50px] hover:bg-transparent hover:text-[#5046E5] transition-colors duration-200\"\n            >\n              Create Video\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 458, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/Step2ChooseType.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport Image from 'next/image'\nimport { AvatarType } from '../AvatarCreationModal'\n\ninterface Step2ChooseTypeProps {\n  onAvatarTypeSelect: (type: AvatarType) => void\n  onAvatarTypeNext: () => void\n  selectedType: AvatarType | null\n}\n\nexport default function Step2ChooseType({ onAvatarTypeSelect, onAvatarTypeNext, selectedType }: Step2ChooseTypeProps) {\n  const [localSelectedType, setLocalSelectedType] = useState<AvatarType | null>(selectedType)\n\n  // Update local state when prop changes (for navigation back)\n  useEffect(() => {\n    setLocalSelectedType(selectedType)\n  }, [selectedType])\n\n  const avatarTypes = [\n    {\n      type: 'digital-twin' as AvatarType,\n      title: 'Digital Twin',\n      subtitle: 'Video-based avatar',\n      description: 'Use 2 videos to create a video avatar that moves and acts just like you.',\n      remaining: '1 / 1 slots remaining',\n      preview: '/images/avatars/digital.png',\n      realistic: true\n    },\n    {\n      type: 'photo-avatar' as AvatarType,\n      title: 'Photo Avatar',\n      subtitle: 'Image-based avatar',\n      description: 'Bring a photo to life with natural motion - no video footage needed.',\n      remaining: null,\n      preview: '/images/avatars/photo.png',\n      realistic: false\n    },\n    {\n      type: 'voice-avatar' as AvatarType,\n      title: 'Custom Voice Clone',\n      subtitle: 'Voice-based avatar',\n      description: 'Clone your voice with only 30 seconds of voice recording.',\n      remaining: null,\n      preview: '/images/avatars/voice.png',\n      realistic: false\n    }\n  ] \n\n  const handleBoxSelect = (type: AvatarType) => {\n    setLocalSelectedType(type)\n    onAvatarTypeSelect(type)\n  }\n\n  const handleNext = () => {\n    if (localSelectedType) {\n      onAvatarTypeNext()\n    }\n  }\n\n  return (\n    <div className=\"space-y-9 pr-2\">\n      {/* Header */}\n      <div className=\"text-left\">\n        <p className=\"text-[18px] text-[#5F5F5F] font-normal leading-[24px]\">\n        Use a video or photo to create your avatar&apos;s first look. You can add more looks of either type later.\n        </p>\n      </div>\n\n      {/* Avatar Type Options */}\n      <div className=\"grid grid-cols-1 gap-10\">\n        {avatarTypes.map((option) => (\n          <div\n            key={option.type}\n            className={`rounded-[12px] p-6 transition-all duration-300 cursor-pointer group grid md:grid-cols-2 grid-cols-1 gap-y-5 ${\n              localSelectedType === option.type \n                ? 'bg-[#CEE0ED]/40 border-2 border-[#5046E5]/60' \n                : 'bg-[#F7FAFC] hover:bg-[#CEE0ED]/40 border-2 border-[#F7FAFC] hover:border-[#CEE0ED]/40'\n            }`}\n            onClick={() => handleBoxSelect(option.type)}\n          >\n            <div className='flex flex-col gap-3 items-start justify-center'>\n            {/* Header */}\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-start flex-col gap-3\">\n                {option.realistic && \n                  <div className=\"w-full bg-[#9DEFD3] max-w-[113px] py-[4px] rounded-[6px] flex items-center justify-center overflow-hidden\">\n                    <p className=\"text-[14px] text-[#00B37E] font-semibold leading-[14px]\">Most realistic</p>\n                  </div>\n                }\n                  <h4 className=\"text-[24px] font-semibold text-[#101010] leading-[120%]\">\n                    {option.title}\n                  </h4>\n              </div>\n            </div>\n\n            {/* Description */}\n            <p className=\"text-[18px] text-[#5F5F5F] mb-6 leading-[24px] max-w-[446px]\">\n              {option.description}\n            </p>\n\n            {/* Remaining Count */}\n            {option.remaining && (\n              <div className=\"mb-4\">\n                <span className=\"text-[14px] text-[#5F5F5F] font-normal leading-[24px]\">\n                  {option.remaining}\n                </span>\n              </div>\n            )}\n            </div>\n\n            {/* Preview Image */}\n            <div className=\"flex justify-end\">\n              <Image src={option.preview} alt={option.title} width={1000} height={1000} className='w-[360px] h-[208px] object-cover rounded-[12px]' />\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Next Button */}\n      <div className=\"flex justify-center\">\n        <button\n          onClick={handleNext}\n          disabled={!localSelectedType}\n          className={`px-8 py-[11.3px] font-semibold text-[20px] rounded-full transition-colors duration-300 cursor-pointer w-full ${\n            localSelectedType\n              ? 'bg-[#5046E5] text-white hover:text-[#5046E5] hover:bg-transparent border-2 border-[#5046E5]'\n              : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n          }`}\n        >\n          Next\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAYe,SAAS,gBAAgB,EAAE,kBAAkB,EAAE,gBAAgB,EAAE,YAAY,EAAwB;;IAClH,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,6LAAQ,EAAoB;IAE9E,6DAA6D;IAC7D,IAAA,8LAAS;qCAAC;YACR,qBAAqB;QACvB;oCAAG;QAAC;KAAa;IAEjB,MAAM,cAAc;QAClB;YACE,MAAM;YACN,OAAO;YACP,UAAU;YACV,aAAa;YACb,WAAW;YACX,SAAS;YACT,WAAW;QACb;QACA;YACE,MAAM;YACN,OAAO;YACP,UAAU;YACV,aAAa;YACb,WAAW;YACX,SAAS;YACT,WAAW;QACb;QACA;YACE,MAAM;YACN,OAAO;YACP,UAAU;YACV,aAAa;YACb,WAAW;YACX,SAAS;YACT,WAAW;QACb;KACD;IAED,MAAM,kBAAkB,CAAC;QACvB,qBAAqB;QACrB,mBAAmB;IACrB;IAEA,MAAM,aAAa;QACjB,IAAI,mBAAmB;YACrB;QACF;IACF;IAEA,qBACE,iNAAC;QAAI,WAAU;;0BAEb,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAE,WAAU;8BAAwD;;;;;;;;;;;0BAMvE,iNAAC;gBAAI,WAAU;0BACZ,YAAY,GAAG,CAAC,CAAC,uBAChB,iNAAC;wBAEC,WAAW,CAAC,4GAA4G,EACtH,sBAAsB,OAAO,IAAI,GAC7B,iDACA,0FACJ;wBACF,SAAS,IAAM,gBAAgB,OAAO,IAAI;;0CAE1C,iNAAC;gCAAI,WAAU;;kDAEf,iNAAC;wCAAI,WAAU;kDACb,cAAA,iNAAC;4CAAI,WAAU;;gDACZ,OAAO,SAAS,kBACf,iNAAC;oDAAI,WAAU;8DACb,cAAA,iNAAC;wDAAE,WAAU;kEAA0D;;;;;;;;;;;8DAGzE,iNAAC;oDAAG,WAAU;8DACX,OAAO,KAAK;;;;;;;;;;;;;;;;;kDAMrB,iNAAC;wCAAE,WAAU;kDACV,OAAO,WAAW;;;;;;oCAIpB,OAAO,SAAS,kBACf,iNAAC;wCAAI,WAAU;kDACb,cAAA,iNAAC;4CAAK,WAAU;sDACb,OAAO,SAAS;;;;;;;;;;;;;;;;;0CAOvB,iNAAC;gCAAI,WAAU;0CACb,cAAA,iNAAC,+JAAK;oCAAC,KAAK,OAAO,OAAO;oCAAE,KAAK,OAAO,KAAK;oCAAE,OAAO;oCAAM,QAAQ;oCAAM,WAAU;;;;;;;;;;;;uBAxCjF,OAAO,IAAI;;;;;;;;;;0BA+CtB,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBACC,SAAS;oBACT,UAAU,CAAC;oBACX,WAAW,CAAC,6GAA6G,EACvH,oBACI,gGACA,gDACJ;8BACH;;;;;;;;;;;;;;;;;AAMT;GA5HwB;KAAA"}},
    {"offset": {"line": 678, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/Step6PhotoInstructions.tsx"],"sourcesContent":["'use client'\n\nimport { ArrowLeft } from 'lucide-react'\nimport Image from 'next/image'\n\ninterface Step6PhotoInstructionsProps {\n  onNext: () => void\n  onBack: () => void\n}\n\nexport default function Step6PhotoInstructions({ onNext, onBack }: Step6PhotoInstructionsProps) {\n  const goodPhotoExamples = [\n    { image: '/images/avatars/good1.png', label: 'Photo 1' },\n    { image: '/images/avatars/good2.png', label: 'Photo 2' },\n    { image: '/images/avatars/good3.png', label: 'Photo 3' },\n    { image: '/images/avatars/good4.png', label: 'Photo 4' },\n    { image: '/images/avatars/good6.png', label: 'Photo 6' },\n  ]\n\n  const badPhotoExamples = [    \n    { image: '/images/avatars/bad1.png', label: 'Group photos' },\n    { image: '/images/avatars/bad2.png', label: 'Hats & Sunglasses' },\n    { image: '/images/avatars/bad3.png', label: 'Pets' },\n    { image: '/images/avatars/bad4.png', label: 'Heavy filters' },\n    { image: '/images/avatars/bad5.png', label: 'Low-resolution' },\n  ]\n\n  return (\n    <div className=\"space-y-6 pr-2\">\n      {/* Header */}\n      <div className=\"text-left\">\n        <p className=\"text-[18px] text-[#5F5F5F] font-normal leading-[24px]\">\n        Use a video or photo to create your avatar&apos;s first look. <br className='md:block hidden' />\n        You can add more looks of either type later.\n        </p>\n      </div>\n\n      <div className=\"space-y-10\">\n        {/* Good Photos Section */}\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center gap-3\">\n          <svg width=\"22\" height=\"21\" viewBox=\"0 0 22 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M0.5 10.5C0.5 7.71523 1.60625 5.04451 3.57538 3.07538C5.54451 1.10625 8.21523 0 11 0C13.7848 0 16.4555 1.10625 18.4246 3.07538C20.3938 5.04451 21.5 7.71523 21.5 10.5C21.5 13.2848 20.3938 15.9555 18.4246 17.9246C16.4555 19.8938 13.7848 21 11 21C8.21523 21 5.54451 19.8938 3.57538 17.9246C1.60625 15.9555 0.5 13.2848 0.5 10.5ZM10.4008 14.994L16.446 7.4368L15.354 6.5632L10.1992 13.0046L6.548 9.9624L5.652 11.0376L10.4008 14.994Z\" fill=\"#16C82B\"/>\n          </svg>\n\n            <h4 className=\"text-[24px] font-semibold text-[#101010] leading-[24px]\">\n              Want large or distinct gesture?\n            </h4>\n          </div>\n          <p className=\"text-[18px] text-[#5F5F5F] font-normal leading-[24px] max-w-[638px]\">\n          Recent photos of yourself (just you), showing a mix of close-ups and full-body shots, with different angles, expressions (smiling, neutral, serious), and a variety of outfits. Make sure they are High-resolution and reflect your current appearance.\n          </p>\n          \n          <div className=\"flex justify-between flex-wrap gap-y-5 pt-4\">\n            {goodPhotoExamples.map((example, index) => (\n               <div key={index} className=\"text-center\">\n               <Image src={example.image} alt={example.label} width={1000} height={1000} className='w-[120px] h-[169px] object-cover rounded-[12px]' />\n             </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Bad Photos Section */}\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center gap-3\">\n          <svg width=\"20\" height=\"21\" viewBox=\"0 0 20 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M10 0.5C15.53 0.5 20 4.97 20 10.5C20 16.03 15.53 20.5 10 20.5C4.47 20.5 0 16.03 0 10.5C0 4.97 4.47 0.5 10 0.5ZM13.59 5.5L10 9.09L6.41 5.5L5 6.91L8.59 10.5L5 14.09L6.41 15.5L10 11.91L13.59 15.5L15 14.09L11.41 10.5L15 6.91L13.59 5.5Z\" fill=\"#FB2323\"/>\n          </svg>\n\n            <h4 className=\"text-[24px] font-semibold text-[#101010] leading-[24px]\">\n              Bad Photos\n            </h4>\n          </div>\n          <p className=\"text-[18px] text-[#5F5F5F] font-normal leading-[24px] max-w-[638px]\">No group photos, hats, sunglasses, pets, heavy filters, low-resolution images, or screenshots. Avoid photos that are too old, overly edited, or don&apos;t represent how you currently look.</p>\n          \n          <div className=\"flex justify-between flex-wrap gap-y-5 pt-4\">\n            {badPhotoExamples.map((example, index) => (\n              <div key={index} className=\"text-center\">\n                <Image src={example.image} alt={example.label} width={1000} height={1000} className='w-[120px] h-[169px] object-cover rounded-[12px]' />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex flex-col gap-2 justify-between pt-1\">\n        <button\n          onClick={onBack}\n          className=\"flex items-center gap-2 text-[#667085] hover:text-[#5046E5] transition-colors duration-300 w-fit\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          Back\n        </button>\n        <button\n          onClick={onNext}\n          className=\"px-8 py-[11.3px] font-semibold text-[20px] rounded-full transition-colors duration-300 cursor-pointer w-full bg-[#5046E5] text-white hover:text-[#5046E5] hover:bg-transparent border-2 border-[#5046E5] \"\n        >\n          Next\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUe,SAAS,uBAAuB,EAAE,MAAM,EAAE,MAAM,EAA+B;IAC5F,MAAM,oBAAoB;QACxB;YAAE,OAAO;YAA6B,OAAO;QAAU;QACvD;YAAE,OAAO;YAA6B,OAAO;QAAU;QACvD;YAAE,OAAO;YAA6B,OAAO;QAAU;QACvD;YAAE,OAAO;YAA6B,OAAO;QAAU;QACvD;YAAE,OAAO;YAA6B,OAAO;QAAU;KACxD;IAED,MAAM,mBAAmB;QACvB;YAAE,OAAO;YAA4B,OAAO;QAAe;QAC3D;YAAE,OAAO;YAA4B,OAAO;QAAoB;QAChE;YAAE,OAAO;YAA4B,OAAO;QAAO;QACnD;YAAE,OAAO;YAA4B,OAAO;QAAgB;QAC5D;YAAE,OAAO;YAA4B,OAAO;QAAiB;KAC9D;IAED,qBACE,iNAAC;QAAI,WAAU;;0BAEb,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAE,WAAU;;wBAAwD;sCACP,iNAAC;4BAAG,WAAU;;;;;;wBAAoB;;;;;;;;;;;;0BAKlG,iNAAC;gBAAI,WAAU;;kCAEb,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCAAI,WAAU;;kDACf,iNAAC;wCAAI,OAAM;wCAAK,QAAO;wCAAK,SAAQ;wCAAY,MAAK;wCAAO,OAAM;kDAC9D,cAAA,iNAAC;4CAAK,UAAS;4CAAU,UAAS;4CAAU,GAAE;4CAA6a,MAAK;;;;;;;;;;;kDAGle,iNAAC;wCAAG,WAAU;kDAA0D;;;;;;;;;;;;0CAI1E,iNAAC;gCAAE,WAAU;0CAAsE;;;;;;0CAInF,iNAAC;gCAAI,WAAU;0CACZ,kBAAkB,GAAG,CAAC,CAAC,SAAS,sBAC9B,iNAAC;wCAAgB,WAAU;kDAC3B,cAAA,iNAAC,+JAAK;4CAAC,KAAK,QAAQ,KAAK;4CAAE,KAAK,QAAQ,KAAK;4CAAE,OAAO;4CAAM,QAAQ;4CAAM,WAAU;;;;;;uCAD1E;;;;;;;;;;;;;;;;kCAQjB,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCAAI,WAAU;;kDACf,iNAAC;wCAAI,OAAM;wCAAK,QAAO;wCAAK,SAAQ;wCAAY,MAAK;wCAAO,OAAM;kDAChE,cAAA,iNAAC;4CAAK,GAAE;4CAA0O,MAAK;;;;;;;;;;;kDAGvP,iNAAC;wCAAG,WAAU;kDAA0D;;;;;;;;;;;;0CAI1E,iNAAC;gCAAE,WAAU;0CAAsE;;;;;;0CAEnF,iNAAC;gCAAI,WAAU;0CACZ,iBAAiB,GAAG,CAAC,CAAC,SAAS,sBAC9B,iNAAC;wCAAgB,WAAU;kDACzB,cAAA,iNAAC,+JAAK;4CAAC,KAAK,QAAQ,KAAK;4CAAE,KAAK,QAAQ,KAAK;4CAAE,OAAO;4CAAM,QAAQ;4CAAM,WAAU;;;;;;uCAD5E;;;;;;;;;;;;;;;;;;;;;;0BASlB,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,iNAAC,oPAAS;gCAAC,WAAU;;;;;;4BAAY;;;;;;;kCAGnC,iNAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT;KA7FwB"}},
    {"offset": {"line": 982, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/Step7PhotoUpload.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport { ArrowLeft } from 'lucide-react'\nimport Image from 'next/image'\nimport { AvatarData } from '../AvatarCreationModal'\n\ninterface Step7PhotoUploadProps {\n  onNext: () => void\n  onBack: () => void\n  avatarData: AvatarData\n  setAvatarData: (data: AvatarData) => void\n}\n\nexport default function Step7PhotoUpload({ onNext, onBack, avatarData, setAvatarData }: Step7PhotoUploadProps) {\n  const [dragActive, setDragActive] = useState(false)\n  const [imagePreviewUrl, setImagePreviewUrl] = useState<string>('')\n  const [error, setError] = useState<string | null>(null)\n  const [isProcessing, setIsProcessing] = useState(false)\n  const fileInputRef = useRef<HTMLInputElement>(null)\n\n  // File validation function\n  const validateFile = (file: File): { isValid: boolean; error?: string } => {\n    const maxSize = 200 * 1024 * 1024; // 200MB\n    const allowedTypes = ['image/png', 'image/jpeg', 'image/jpg', 'image/heic', 'image/webp'];\n    \n    if (file.size > maxSize) {\n      return { isValid: false, error: 'File size must be less than 200MB' };\n    }\n    \n    if (!allowedTypes.includes(file.type)) {\n      return { isValid: false, error: 'Only PNG, JPG, HEIC, and WebP files are supported' };\n    }\n    \n    return { isValid: true };\n  };\n\n  // Function to create preview URL for uploaded file\n  const createPreviewUrl = (file: File) => {\n    const url = URL.createObjectURL(file)\n    setImagePreviewUrl(url)\n    return url\n  }\n\n  // Process file with validation\n  const processFile = async (file: File) => {\n    setIsProcessing(true);\n    setError(null);\n    \n    try {\n      const validation = validateFile(file);\n      \n      if (!validation.isValid) {\n        setError(validation.error || 'Invalid file');\n        return;\n      }\n      \n      createPreviewUrl(file);\n      setAvatarData({\n        ...avatarData,\n        photoFiles: [file]\n      });\n    } catch (error) {\n      console.error('File processing error:', error);\n      setError('Failed to process file');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Effect to restore image preview when component mounts with existing photo files\n  useEffect(() => {\n    if (avatarData.photoFiles.length > 0 && !imagePreviewUrl) {\n      // Create preview URL for existing photo file\n      const file = avatarData.photoFiles[0]\n      createPreviewUrl(file)\n    }\n  }, [avatarData.photoFiles, imagePreviewUrl])\n\n  // Cleanup effect to prevent memory leaks\n  useEffect(() => {\n    return () => {\n      // Cleanup preview URL when component unmounts\n      if (imagePreviewUrl) {\n        URL.revokeObjectURL(imagePreviewUrl)\n      }\n    }\n  }, [imagePreviewUrl])\n\n  const handleDrag = (e: React.DragEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true)\n    } else if (e.type === 'dragleave') {\n      setDragActive(false)\n    }\n  }\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setDragActive(false)\n\n    if (e.dataTransfer.files) {\n      const newFiles = Array.from(e.dataTransfer.files).filter(file => \n        file.type.startsWith('image/')\n      )\n      if (newFiles.length > 0) {\n        // Only take the first file\n        const file = newFiles[0]\n        processFile(file)\n      }\n    }\n  }\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files) {\n      const newFiles = Array.from(e.target.files).filter(file => \n        file.type.startsWith('image/')\n      )\n      if (newFiles.length > 0) {\n        // Only take the first file\n        const file = newFiles[0]\n        processFile(file)\n      }\n    }\n  }\n\n  const removePhoto = () => {\n    // Clean up the preview URL for the removed image\n    if (imagePreviewUrl) {\n      URL.revokeObjectURL(imagePreviewUrl)\n    }\n    \n    setAvatarData({ ...avatarData, photoFiles: [] })\n    setImagePreviewUrl('')\n    setError(null)\n  }\n\n  const handleUpload = () => {\n    if (avatarData.photoFiles.length > 0) {\n      onNext()\n    }\n  }\n\n  return (\n    <div className=\"space-y-6 pr-2\">\n      {/* Header */}\n      <div className=\"text-left\">\n        <p className=\"text-[18px] text-[#5F5F5F] font-normal leading-[24px]\">\n          Upload a photo to create your avatar\n        </p>\n      </div>\n\n      {/* Upload Area */}\n      <div\n        className={`rounded-[12px] md:p-8 p-4 border min-h-[280px] flex flex-col items-center justify-center text-center transition-colors duration-300 ${\n          dragActive\n            ? 'border-[#5046E5] bg-[#F5F7FC]'\n            : 'border-[#F5F7FC] hover:border-[#5046E5] bg-[#F5F7FC]'\n        }`}\n        onDragEnter={handleDrag}\n        onDragLeave={handleDrag}\n        onDragOver={handleDrag}\n        onDrop={handleDrop}\n      >\n        <button\n          onClick={() => fileInputRef.current?.click()}\n          className=\"bg-transparent text-[#7C6FFF] px-[27px] py-2 rounded-[6px] hover:bg-[#7C6FFF] transition-colors duration-300 border border-[#7C6FFF] hover:text-white flex items-center justify-center gap-x-3 text-base font-normal leading-[24px] mx-auto\"\n        >\n          <svg width=\"23\" height=\"22\" viewBox=\"0 0 23 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M16.6094 8.00195C18.7844 8.01395 19.9624 8.11095 20.7304 8.87895C21.6094 9.75795 21.6094 11.172 21.6094 14V15C21.6094 17.829 21.6094 19.243 20.7304 20.122C19.8524 21 18.4374 21 15.6094 21H7.60938C4.78137 21 3.36637 21 2.48837 20.122C1.60937 19.242 1.60938 17.829 1.60938 15V14C1.60938 11.172 1.60937 9.75795 2.48837 8.87895C3.25637 8.11095 4.43438 8.01395 6.60938 8.00195\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/>\n            <path d=\"M11.6094 14V1M11.6094 1L14.6094 4.5M11.6094 1L8.60938 4.5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          </svg>\n\n          Select\n        </button>\n        <p className=\"text-[16px] font-normal leading-[24px] text-[#7C6FFF] pt-5\">\n          Drag and Drop photo to upload\n        </p>\n        <p className=\"text-[14px] text-[#5F5F5F] font-normal leading-[18px] pt-3\">\n          Upload PNG, JPG, HEIC, or WebP files up to 200MB\n        </p>\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept=\"image/png,image/jpeg,image/jpg,image/heic,image/webp\"\n          onChange={handleFileSelect}\n          className=\"hidden\"\n        />\n      </div>\n\n      {/* Error Message */}\n      {error && (\n        <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n          <p className=\"text-red-600 text-sm\">{error}</p>\n        </div>\n      )}\n\n      {/* Processing Indicator */}\n      {isProcessing && (\n        <div className=\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600\"></div>\n            <p className=\"text-blue-600 text-sm\">Processing file...</p>\n          </div>\n        </div>\n      )}\n\n\n      {/* Uploaded Photo */}\n      {avatarData.photoFiles.length > 0 && (\n        <div className=\"space-y-4\">\n          <div className=\"flex justify-center\">\n            <div className=\"relative group max-w-[200px] w-full\">\n              <div className=\"w-full h-[250px] rounded-[12px] overflow-hidden\">\n                {imagePreviewUrl ? (\n                  <Image\n                    src={imagePreviewUrl}\n                    alt=\"Preview\"\n                    width={200}\n                    height={250}\n                    className=\"w-full h-full object-contain bg-gray-100\"\n                    style={{\n                      // Fix iOS image stretching issues\n                      objectFit: 'contain',\n                      objectPosition: 'center'\n                    }}\n                  />\n                ) : (\n                  <div className=\"w-full h-full flex items-center justify-center bg-gray-100\">\n                    <span className=\"text-[#98A2B3] text-xs\">Photo Preview</span>\n                  </div>\n                )}\n              </div>\n              <button\n                onClick={removePhoto}\n                className=\"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-lg\"\n              >\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                </svg>\n              </button>\n              <p className=\"text-[12px] text-[#667085] text-center mt-2 truncate\">\n                {avatarData.photoFiles[0]?.name}\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Navigation Buttons */}\n      <div className=\"flex flex-col gap-2 justify-between pt-5\">\n        <button\n          onClick={onBack}\n          className=\"flex items-center gap-2 text-[#667085] hover:text-[#5046E5] transition-colors duration-300 w-fit\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          Back\n        </button>\n        <button\n          onClick={handleUpload}\n          disabled={avatarData.photoFiles.length === 0}\n          className={`px-6 py-[11.4px] rounded-full font-semibold text-[18px] transition-colors duration-300 ${\n            avatarData.photoFiles.length > 0\n              ? 'bg-[#5046E5] text-white hover:bg-transparent hover:text-[#5046E5] border-2 border-[#5046E5]'\n              : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n          }`}\n        >\n          Upload\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1438, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/Step8Details.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { ArrowLeft, Check, AlertCircle } from 'lucide-react'\nimport { IoMdArrowDropdown } from \"react-icons/io\"\nimport { useSelector } from 'react-redux'\nimport { RootState } from '@/store'\nimport { apiService } from '@/lib/api-service'\nimport { useUnifiedSocketContext } from '@/components/providers/UnifiedSocketProvider'\nimport Checkbox from '../../checkbox'\nimport { AvatarData } from '../AvatarCreationModal'\n\ninterface Step8DetailsProps {\n  onBack: () => void\n  avatarData: AvatarData\n  setAvatarData: (data: AvatarData) => void\n  onSkipBackToUpload?: () => void // Add optional prop to skip back to upload step\n  onClose?: () => void // Add optional prop to close the modal\n}\n\nexport default function Step8Details({ onBack, avatarData, setAvatarData, onSkipBackToUpload, onClose }: Step8DetailsProps) {\n  const { user } = useSelector((state: RootState) => state.user)\n  const { clearAvatarUpdates } = useUnifiedSocketContext()\n  const [agreedToTerms, setAgreedToTerms] = useState(false)\n  const [openDropdown, setOpenDropdown] = useState<string | null>(null)\n  const [errors, setErrors] = useState<Partial<Record<keyof AvatarData | 'terms' | 'general', string>>>({})\n  const [showErrors, setShowErrors] = useState(false)\n  const [isCreating, setIsCreating] = useState(false)\n\n  const ageOptions = [\n    { value: '18-24', label: '18-24' },\n    { value: '25-34', label: '25-34' },\n    { value: '35-44', label: '35-44' },\n    { value: '45-54', label: '45-54' },\n    { value: '55-64', label: '55-64' },\n    { value: '65+', label: '65+' }\n  ]\n\n  const genderOptions = [\n    { value: 'Male', label: 'Male' },\n    { value: 'Female', label: 'Female' },\n  ]\n\n  const ethnicityOptions = [\n    { value: 'Asian', label: 'Asian' },\n    { value: 'Black or African American', label: 'Black or African American' },\n    { value: 'Hispanic or Latino', label: 'Hispanic or Latino' },\n    { value: 'Native American or Alaska Native', label: 'Native American or Alaska Native' },\n    { value: 'Native Hawaiian or Pacific Islander', label: 'Native Hawaiian or Pacific Islander' },\n    { value: 'White', label: 'White' },\n    { value: 'Middle Eastern or North African', label: 'Middle Eastern or North African' },\n    { value: 'Mixed', label: 'Mixed' },\n    { value: 'Prefer not to say', label: 'Prefer not to say' }\n  ]\n\n  const handleInputChange = (field: keyof AvatarData, value: string) => {\n    setAvatarData({ ...avatarData, [field]: value })\n    // Clear error for this field when user starts typing\n    if (errors[field]) {\n      setErrors({ ...errors, [field]: undefined })\n    }\n  }\n\n  const handleDropdownSelect = (field: keyof AvatarData, value: string) => {\n    setAvatarData({ ...avatarData, [field]: value })\n    setOpenDropdown(null)\n    // Clear error for this field when user selects a value\n    if (errors[field]) {\n      setErrors({ ...errors, [field]: undefined })\n    }\n  }\n\n  const handleDropdownToggle = (field: keyof AvatarData) => {\n    setOpenDropdown(openDropdown === field ? null : field)\n  }\n\n  const renderDropdown = (\n    field: keyof AvatarData,\n    options: { value: string; label: string }[],\n    placeholder: string\n  ) => {\n    const currentValue = avatarData[field] as string\n    const selectedOption = options.find(option => option.value === currentValue)\n    const isOpen = openDropdown === field\n    const hasError = showErrors && errors[field]\n\n    return (\n      <div className=\"relative\">\n        <button\n          type=\"button\"\n          onClick={() => handleDropdownToggle(field)}\n          className={`w-full px-4 py-[10.5px] text-[18px] font-normal bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-left transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white flex items-center justify-between cursor-pointer ${\n            selectedOption ? 'text-gray-800 bg-[#F5F5F5]' : 'text-[#11101066]'\n          } ${hasError ? 'ring-2 ring-red-500' : ''}`}\n        >\n          <span>{selectedOption ? selectedOption.label : placeholder}</span>\n          <IoMdArrowDropdown \n            className={`w-4 h-4 transition-transform duration-300 ${isOpen ? 'rotate-180' : ''}`} \n          />\n        </button>\n        \n        {isOpen && (\n          <div className=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-[8px] shadow-lg max-h-60 overflow-y-auto\">\n            {options.map((option) => (\n              <button\n                key={option.value}\n                type=\"button\"\n                onClick={() => handleDropdownSelect(field, option.value)}\n                className=\"w-full px-4 py-3 text-left hover:bg-[#F5F5F5] transition-colors duration-200 flex items-center justify-between text-[#282828] cursor-pointer\"\n              >\n                <span>{option.label}</span>\n                {currentValue === option.value && (\n                  <Check className=\"w-4 h-4 text-[#5046E5]\" />\n                )}\n              </button>\n            ))}\n          </div>\n        )}\n        \n        {hasError && (\n          <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\" role=\"alert\">\n            <AlertCircle className=\"w-4 h-4\" />\n            {errors[field]}\n          </p>\n        )}\n      </div>\n    )\n  }\n\n  const validateForm = () => {\n    const newErrors: typeof errors = {}\n    \n    if (!avatarData.name || avatarData.name.trim() === '') {\n      newErrors.name = 'Name is required'\n    }\n    \n    if (!avatarData.age || avatarData.age.trim() === '') {\n      newErrors.age = 'Age is required'\n    }\n    \n    if (!avatarData.gender || avatarData.gender.trim() === '') {\n      newErrors.gender = 'Gender is required'\n    }\n    \n    if (!avatarData.ethnicity || avatarData.ethnicity.trim() === '') {\n      newErrors.ethnicity = 'Ethnicity is required'\n    }\n    \n    if (!agreedToTerms) {\n      newErrors.terms = 'You must agree to the terms and conditions'\n    }\n    \n    setErrors(newErrors)\n    return Object.keys(newErrors).length === 0\n  }\n\n  const handleCreate = async () => {\n    setShowErrors(true)\n    const isValid = validateForm()\n    \n    if (isValid) {\n      // Check if user is logged in\n      if (!user?.id) {\n        setErrors({ ...errors, general: 'Please log in to create an avatar' })\n        return\n      }\n\n      // Check if photo is uploaded\n      if (!avatarData.photoFiles || avatarData.photoFiles.length === 0) {\n        setErrors({ ...errors, general: 'Please upload a photo first' })\n        return\n      }\n\n      // Allow multiple avatar creation - removed global processing check\n      // Each avatar creation is independent and can run simultaneously\n\n      setIsCreating(true)\n      clearAvatarUpdates() // Clear any previous notifications\n\n      try {\n        // Create FormData for API call\n        const formData = new FormData()\n        formData.append('image', avatarData.photoFiles[0]) // First (and only) photo\n        formData.append('name', avatarData.name)\n        formData.append('age_group', avatarData.age)\n        formData.append('gender', avatarData.gender.toLowerCase())\n        formData.append('ethnicity', avatarData.ethnicity.toLowerCase())\n        formData.append('userId', user.id)\n        \n        // Call API\n        const result = await apiService.createPhotoAvatar(formData)\n        \n        if (result.success) {\n          // Close modal immediately - WebSocket will handle progress notifications\n          if (onClose) {\n            onClose()\n          }\n        } else {\n          setErrors({ ...errors, general: result.message || 'Failed to create avatar' })\n        }\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : 'Failed to create avatar'\n        setErrors({ ...errors, general: errorMessage })\n      } finally {\n        setIsCreating(false)\n      }\n    } else {\n      // Scroll to top to show errors\n      const container = document.querySelector('.flex-1.overflow-y-auto')\n      if (container) {\n        container.scrollTo({ top: 0, behavior: 'smooth' })\n      }\n    }\n  }\n\n  const handleBack = () => {\n    // Skip back to upload step (Step 3) instead of going through intermediate steps\n    if (onSkipBackToUpload) {\n      onSkipBackToUpload()\n    } else {\n      onBack()\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"text-left px-2\">\n        <p className=\"text-[18px] font-normal text-[#5F5F5F]\">\n        Now, let&apos;s add some details to bring your avatar to life.\n        </p>\n      </div>\n\n      {/* General Error Message */}\n      {showErrors && errors.general && (\n        <div className=\"px-2 mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2\">\n          <AlertCircle className=\"w-5 h-5 text-red-500 flex-shrink-0\" />\n          <p className=\"text-red-700 text-sm\">{errors.general}</p>\n        </div>\n      )}\n\n      {/* Form Fields */}\n      <div className=\"space-y-4 px-2\">\n        {/* Name */}\n        <div>\n          <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">\n            Name <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={avatarData.name}\n            onChange={(e) => handleInputChange('name', e.target.value)}\n            placeholder=\"Enter avatar name\"\n            className={`w-full px-4 py-[10.5px] text-[18px] font-normal placeholder:text-[#11101066] bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-gray-800 transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white ${\n              showErrors && errors.name ? 'ring-2 ring-red-500' : ''\n            }`}\n          />\n          {showErrors && errors.name && (\n            <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\" role=\"alert\">\n              <AlertCircle className=\"w-4 h-4\" />\n              {errors.name}\n            </p>\n          )}\n        </div>\n\n        {/* Age */}\n        <div>\n          <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">\n            Age <span className=\"text-red-500\">*</span>\n          </label>\n          {renderDropdown('age', ageOptions, 'Select age range')}\n          {showErrors && errors.age && (\n            <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\" role=\"alert\">\n              <AlertCircle className=\"w-4 h-4\" />\n              {errors.age}\n            </p>\n          )}\n        </div>\n\n        {/* Gender */}\n        <div>\n          <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">\n            Gender <span className=\"text-red-500\">*</span>\n          </label>\n          {renderDropdown('gender', genderOptions, 'Select gender')}\n          {showErrors && errors.gender && (\n            <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\" role=\"alert\">\n              <AlertCircle className=\"w-4 h-4\" />\n              {errors.gender}\n            </p>\n          )}\n        </div>\n\n        {/* Ethnicity */}\n        <div>\n          <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">\n            Ethnicity <span className=\"text-red-500\">*</span>\n          </label>\n          {renderDropdown('ethnicity', ethnicityOptions, 'Select ethnicity')}\n          {showErrors && errors.ethnicity && (\n            <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\" role=\"alert\">\n              <AlertCircle className=\"w-4 h-4\" />\n              {errors.ethnicity}\n            </p>\n          )}\n        </div>\n      </div>\n\n      {/* Terms & Privacy */}\n      <div>\n        <div className=\"flex items-start gap-3 mt-5\">\n          <Checkbox \n            checked={agreedToTerms} \n            onChange={(e) => {\n              const checked = e?.target?.checked || false\n              setAgreedToTerms(checked)\n              // Clear terms error when user checks the box\n              if (checked && errors.terms) {\n                setErrors({ ...errors, terms: undefined })\n              }\n            }} \n            label=\"By creating an avatar, I confirm that I am over 18 years of age (or the legal age in my country) and that the photos used belong to me or I have obtained explicit permission from the individual represented. I understand that I am solely responsible for the content I upload and that the use of these images must comply with all applicable laws and regulations. Additionally, I agree not to upload any photos that infringe on others rights or that I do not have permission to use. By proceeding, I accept the Terms of Service and Privacy Policy.\"\n            id=\"terms-agreement\"\n          />\n        </div>\n        {showErrors && errors.terms && (\n          <p className=\"text-red-500 text-sm mt-2 flex items-center gap-1\" role=\"alert\">\n            <AlertCircle className=\"w-4 h-4\" />\n            {errors.terms}\n          </p>\n        )}\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex flex-col gap-2 justify-between pt-0\">\n        <button\n          onClick={handleBack}\n          className=\"flex items-center gap-2 text-[#667085] hover:text-[#5046E5] transition-colors duration-300 w-fit\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          Back\n        </button>\n        <button\n          onClick={handleCreate}\n          disabled={isCreating}\n          className={`px-8 py-[11.3px] font-semibold text-[20px] rounded-full transition-colors duration-300 cursor-pointer w-full bg-[#5046E5] text-white hover:text-[#5046E5] hover:bg-transparent border-2 border-[#5046E5] ${isCreating ? 'opacity-50 cursor-not-allowed' : ''}`}\n        >\n          {isCreating ? (\n            <div className=\"flex items-center justify-center gap-2\">\n              <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n              Creating Avatar...\n            </div>\n          ) : (\n            'Create'\n          )}\n        </button>\n      </div>\n\n      {/* Click outside to close dropdowns */}\n      {openDropdown && (\n        <div \n          className=\"fixed inset-0 z-40\" \n          onClick={() => setOpenDropdown(null)}\n        />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2139, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/Step9AvatarReady.tsx"],"sourcesContent":["'use client'\n\nimport { ArrowLeft } from 'lucide-react'\nimport Image from 'next/image'\nimport { AvatarData } from '../AvatarCreationModal'\n\ninterface Step9AvatarReadyProps {\n  onNext: () => void\n  onBack: () => void\n  avatarData: AvatarData\n  setAvatarData: (data: AvatarData) => void\n}\n\nexport default function Step9AvatarReady({ onNext, onBack}: Step9AvatarReadyProps) {\n  const handleCreateVideo = () => {\n    // In a real implementation, this would redirect to video creation or close the modal\n    onNext()\n  }\n\n  return (\n    <div className=\"space-y-6 pr-2\">\n      {/* Header */}\n      <div className=\"text-center\">\n        <h3 className=\"text-[20px] font-semibold text-[#101010] mb-3\">\n        Your avatar is ready!\n        </h3>\n      </div>\n\n      {/* Avatar Preview */}\n      <div className=\"flex justify-center\">\n          <Image src=\"/images/avatars/avatargirl.png\" alt=\"avatar\" width={1000} height={1000}\n           className=\"w-[356px] md:h-[533px] h-[370px] md:object-cover object-contain\" />\n      </div>  \n\n      {/* Navigation Buttons */}\n      <div className=\"flex flex-col gap-2 justify-between pt-1\">\n        <button\n          onClick={onBack}\n          className=\"flex items-center gap-2 text-[#667085] hover:text-[#5046E5] transition-colors duration-300 w-fit\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          Back\n        </button>\n        <button\n          onClick={handleCreateVideo}\n          className={`px-8 py-[11.3px] font-semibold text-[20px] rounded-full transition-colors duration-300 cursor-pointer w-full bg-[#5046E5] text-white hover:text-[#5046E5] hover:bg-transparent border-2 border-[#5046E5] `}\n        >\n          Create\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAae,SAAS,iBAAiB,EAAE,MAAM,EAAE,MAAM,EAAwB;IAC/E,MAAM,oBAAoB;QACxB,qFAAqF;QACrF;IACF;IAEA,qBACE,iNAAC;QAAI,WAAU;;0BAEb,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAG,WAAU;8BAAgD;;;;;;;;;;;0BAMhE,iNAAC;gBAAI,WAAU;0BACX,cAAA,iNAAC,+JAAK;oBAAC,KAAI;oBAAiC,KAAI;oBAAS,OAAO;oBAAM,QAAQ;oBAC7E,WAAU;;;;;;;;;;;0BAIf,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,iNAAC,oPAAS;gCAAC,WAAU;;;;;;4BAAY;;;;;;;kCAGnC,iNAAC;wBACC,SAAS;wBACT,WAAW,CAAC,yMAAyM,CAAC;kCACvN;;;;;;;;;;;;;;;;;;AAMT;KAvCwB"}},
    {"offset": {"line": 2244, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/Step1Intro.tsx"],"sourcesContent":["'use client'\n\nimport Image from 'next/image'\n\ninterface Step1IntroProps {\n  onNext: () => void\n}\n\nexport default function Step1Intro({ onNext }: Step1IntroProps) {\n  const instructions = [\n    {\n      icon: <svg width=\"11\" height=\"16\" viewBox=\"0 0 11 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M10.5 6H10C9.72375 6 9.5 6.22375 9.5 6.5V8C9.5 10.3375 7.48469 12.2131 5.10031 11.9806C3.02219 11.7778 1.5 9.90969 1.5 7.82188V6.5C1.5 6.22375 1.27625 6 1 6H0.5C0.22375 6 0 6.22375 0 6.5V7.755C0 10.5562 1.99906 13.0534 4.75 13.4328V14.5H3C2.72375 14.5 2.5 14.7238 2.5 15V15.5C2.5 15.7762 2.72375 16 3 16H8C8.27625 16 8.5 15.7762 8.5 15.5V15C8.5 14.7238 8.27625 14.5 8 14.5H6.25V13.4447C8.92844 13.0772 11 10.7781 11 8V6.5C11 6.22375 10.7762 6 10.5 6ZM5.5 11C7.15688 11 8.5 9.65687 8.5 8H5.83344C5.64937 8 5.5 7.88812 5.5 7.75V7.25C5.5 7.11188 5.64937 7 5.83344 7H8.5V6H5.83344C5.64937 6 5.5 5.88812 5.5 5.75V5.25C5.5 5.11188 5.64937 5 5.83344 5H8.5V4H5.83344C5.64937 4 5.5 3.88812 5.5 3.75V3.25C5.5 3.11188 5.64937 3 5.83344 3H8.5C8.5 1.34312 7.15688 0 5.5 0C3.84312 0 2.5 1.34312 2.5 3V8C2.5 9.65687 3.84312 11 5.5 11Z\" fill=\"#2A2F3A\"/>\n      </svg>,\n      title: \"Use the right equipment\",\n      description: \"Submit 2-5 min (at least 30 sec) of unedited footage with a professional camera or smartphone.\"\n    },\n    {\n      icon: <svg width=\"16\" height=\"12\" viewBox=\"0 0 16 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M14.5 12H1.5C0.671562 12 0 11.3284 0 10.5V1.5C0 0.671562 0.671562 0 1.5 0H14.5C15.3284 0 16 0.671562 16 1.5V10.5C16 11.3284 15.3284 12 14.5 12ZM3.5 1.75C2.5335 1.75 1.75 2.5335 1.75 3.5C1.75 4.4665 2.5335 5.25 3.5 5.25C4.4665 5.25 5.25 4.4665 5.25 3.5C5.25 2.5335 4.4665 1.75 3.5 1.75ZM2 10H14V6.5L11.2652 3.76516C11.1187 3.61872 10.8813 3.61872 10.7348 3.76516L6.5 8L4.76516 6.26516C4.61872 6.11872 4.38128 6.11872 4.23481 6.26516L2 8.5V10Z\" fill=\"#2A2F3A\"/>\n      </svg>,\n      title: \"Set the right environment\",\n      description: \"Look straight ahead and keep your head level\"\n    },\n    {\n      icon: <svg width=\"11\" height=\"16\" viewBox=\"0 0 11 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M10.5 6H10C9.72375 6 9.5 6.22375 9.5 6.5V8C9.5 10.3375 7.48469 12.2131 5.10031 11.9806C3.02219 11.7778 1.5 9.90969 1.5 7.82188V6.5C1.5 6.22375 1.27625 6 1 6H0.5C0.22375 6 0 6.22375 0 6.5V7.755C0 10.5562 1.99906 13.0534 4.75 13.4328V14.5H3C2.72375 14.5 2.5 14.7238 2.5 15V15.5C2.5 15.7762 2.72375 16 3 16H8C8.27625 16 8.5 15.7762 8.5 15.5V15C8.5 14.7238 8.27625 14.5 8 14.5H6.25V13.4447C8.92844 13.0772 11 10.7781 11 8V6.5C11 6.22375 10.7762 6 10.5 6ZM5.5 11C7.15688 11 8.5 9.65687 8.5 8H5.83344C5.64937 8 5.5 7.88812 5.5 7.75V7.25C5.5 7.11188 5.64937 7 5.83344 7H8.5V6H5.83344C5.64937 6 5.5 5.88812 5.5 5.75V5.25C5.5 5.11188 5.64937 5 5.83344 5H8.5V4H5.83344C5.64937 4 5.5 3.88812 5.5 3.75V3.25C5.5 3.11188 5.64937 3 5.83344 3H8.5C8.5 1.34312 7.15688 0 5.5 0C3.84312 0 2.5 1.34312 2.5 3V8C2.5 9.65687 3.84312 11 5.5 11Z\" fill=\"#2A2F3A\"/>\n      </svg>,\n      title: \"Speak naturally and clearly\",\n      description: \"Maintain a steady pace, pausing 1-2 seconds between sentences with lips closed.\"\n    },\n    {\n      icon: <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M0 6H6V0H0V6ZM2 2H4V4H2V2ZM8 0V6H14V0H8ZM12 4H10V2H12V4ZM0 14H6V8H0V14ZM2 10H4V12H2V10ZM13 8H14V12H11V11H10V14H8V8H11V9H13V8ZM13 13H14V14H13V13ZM11 13H12V14H11V13Z\" fill=\"#2A2F3A\"/>\n      </svg>,\n      title: \"Subtle movement, clear expression\",\n      description: \"Sit, stand, or walk with subtle hand movements kept below the chest. Vary facial expressions and look into the camera.\"\n    },\n    {\n      icon: \"ðŸ‘‹\",\n      title: \"Want large or distinct gesture?\",\n      description: \"You can include these after 30 seconds, spaced at least 2 seconds apart. They'll be excluded from your avatar's default behavior and only used when trigged.\"\n    }\n  ]\n\n  return (\n    <div className=\"space-y-3 flex flex-col h-full justify-between\">\n      {/* Two Column Layout */}\n      <div className=\"flex gap-0 flex-wrap gap-y-10 w-full items-start\">\n        {/* Left Section - Instructions */}\n        <div className=\"space-y-9 md:w-[56%] w-full pr-7\">\n          {/* First 4 Instructions */}\n          <div className=\"space-y-9\">\n            {instructions.slice(0, 4).map((instruction, index) => (\n              <div key={index} className=\"flex items-start gap-3\">\n                <div className=\"flex-shrink-0 mt-[9px]\">\n                  {instruction.icon}\n                </div>\n                <div>\n                  <h4 className=\"md:text-[24px] text-[18px] font-semibold text-[#101010]\">\n                    {instruction.title}\n                  </h4>\n                  <p className=\"md:text-[18px] max-w-[520px] text-[14px] text-[#5F5F5F] font-normal leading-[24px]\">\n                    {instruction.description}\n                  </p>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Separator Line */}\n          <div className=\"bg-[#101010] h-[1px]\"></div>\n\n          {/* Final Instruction */}\n          <div className=\"flex items-start gap-3\">\n            <div className=\"flex-shrink-0 mt-[9px\">\n              <p className=\"text-[24px]\">{instructions[4].icon}</p>\n            </div>\n            <div>\n              <h4 className=\"md:text-[24px] text-[18px] font-semibold text-[#101010]\">\n                {instructions[4].title}\n              </h4>\n              <p className=\"md:text-[18px] max-w-[520px] leading-[24px] text-[14px] text-[#5F5F5F] font-normal\">\n                {instructions[4].description}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Right Section - Visual Examples */}\n        <div className=\"space-y-8 md:w-[44%] w-full flex flex-col justify-end md:items-end items-center pr-1\">\n          {/* Top Image - Good Example */}\n          <Image src=\"/images/avatars/right.png\" alt=\"Good Example\" width={400} height={296} />\n\n          {/* Bottom Image - Bad Example */}\n          <Image src=\"/images/avatars/wrong.png\" alt=\"Bad Example\" width={400} height={296} />\n        </div>\n      </div>\n\n      {/* Next Button */}\n      <div className=\"flex justify-center pt-0 pb-2\">\n        <button\n          onClick={onNext}\n          className=\"px-8 py-[11.3px] bg-[#5046E5] text-white font-semibold text-[20px]\n           hover:bg-transparent hover:text-[#5046E5] border-2 border-[#5046E5] rounded-full transition-colors duration-300 cursor-pointer w-full\"\n        >\n          Next\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAQe,SAAS,WAAW,EAAE,MAAM,EAAmB;IAC5D,MAAM,eAAe;QACnB;YACE,oBAAM,iNAAC;gBAAI,OAAM;gBAAK,QAAO;gBAAK,SAAQ;gBAAY,MAAK;gBAAO,OAAM;0BACxE,cAAA,iNAAC;oBAAK,GAAE;oBAAszB,MAAK;;;;;;;;;;;YAEn0B,OAAO;YACP,aAAa;QACf;QACA;YACE,oBAAM,iNAAC;gBAAI,OAAM;gBAAK,QAAO;gBAAK,SAAQ;gBAAY,MAAK;gBAAO,OAAM;0BACxE,cAAA,iNAAC;oBAAK,GAAE;oBAA4b,MAAK;;;;;;;;;;;YAEzc,OAAO;YACP,aAAa;QACf;QACA;YACE,oBAAM,iNAAC;gBAAI,OAAM;gBAAK,QAAO;gBAAK,SAAQ;gBAAY,MAAK;gBAAO,OAAM;0BACxE,cAAA,iNAAC;oBAAK,GAAE;oBAAszB,MAAK;;;;;;;;;;;YAEn0B,OAAO;YACP,aAAa;QACf;QACA;YACE,oBAAM,iNAAC;gBAAI,OAAM;gBAAK,QAAO;gBAAK,SAAQ;gBAAY,MAAK;gBAAO,OAAM;0BACxE,cAAA,iNAAC;oBAAK,GAAE;oBAAsK,MAAK;;;;;;;;;;;YAEnL,OAAO;YACP,aAAa;QACf;QACA;YACE,MAAM;YACN,OAAO;YACP,aAAa;QACf;KACD;IAED,qBACE,iNAAC;QAAI,WAAU;;0BAEb,iNAAC;gBAAI,WAAU;;kCAEb,iNAAC;wBAAI,WAAU;;0CAEb,iNAAC;gCAAI,WAAU;0CACZ,aAAa,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,aAAa,sBAC1C,iNAAC;wCAAgB,WAAU;;0DACzB,iNAAC;gDAAI,WAAU;0DACZ,YAAY,IAAI;;;;;;0DAEnB,iNAAC;;kEACC,iNAAC;wDAAG,WAAU;kEACX,YAAY,KAAK;;;;;;kEAEpB,iNAAC;wDAAE,WAAU;kEACV,YAAY,WAAW;;;;;;;;;;;;;uCATpB;;;;;;;;;;0CAiBd,iNAAC;gCAAI,WAAU;;;;;;0CAGf,iNAAC;gCAAI,WAAU;;kDACb,iNAAC;wCAAI,WAAU;kDACb,cAAA,iNAAC;4CAAE,WAAU;sDAAe,YAAY,CAAC,EAAE,CAAC,IAAI;;;;;;;;;;;kDAElD,iNAAC;;0DACC,iNAAC;gDAAG,WAAU;0DACX,YAAY,CAAC,EAAE,CAAC,KAAK;;;;;;0DAExB,iNAAC;gDAAE,WAAU;0DACV,YAAY,CAAC,EAAE,CAAC,WAAW;;;;;;;;;;;;;;;;;;;;;;;;kCAOpC,iNAAC;wBAAI,WAAU;;0CAEb,iNAAC,+JAAK;gCAAC,KAAI;gCAA4B,KAAI;gCAAe,OAAO;gCAAK,QAAQ;;;;;;0CAG9E,iNAAC,+JAAK;gCAAC,KAAI;gCAA4B,KAAI;gCAAc,OAAO;gCAAK,QAAQ;;;;;;;;;;;;;;;;;;0BAKjF,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBACC,SAAS;oBACT,WAAU;8BAEX;;;;;;;;;;;;;;;;;AAMT;KAvGwB"}},
    {"offset": {"line": 2539, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/videoAvatarStep4.tsx"],"sourcesContent":["'use client'\n\nimport { ArrowUpRight, ArrowLeft } from 'lucide-react'\n\ninterface VideoAvatarStep4Props {\n  onNext: () => void\n  onBack?: () => void\n}\n\nexport default function VideoAvatarStep4({ onNext, onBack }: VideoAvatarStep4Props) {\n  return (\n    <div className=\"bg-white flex flex-col h-full\">\n      {/* Main Content */}\n      <div className=\"flex-1 flex flex-col items-center justify-center px-6\">\n        {/* Title Section */}\n        <div className=\"text-center mb-10\">\n          <h2 className=\"text-[32px] font-bold text-[#282828]\">\n            Get to Heygen\n          </h2>\n          <p className=\"text-[18px] text-[#667085]\">\n            Put these credentials on Hygen\n          </p>\n        </div>\n\n        {/* Credentials Card */}\n        <div className=\"w-full max-w-md mb-8\">\n          <div className=\"bg-[#E5E7EB] border border-[#E5E7EB] rounded-lg p-6\">\n            {/* Email Field */}\n            <div className=\"flex items-center gap-3 mb-4\">\n              <img\n                src=\"/email.svg\"\n                alt=\"Email\"\n                className=\"w-5 h-5\"\n              />\n              <p className=\"text-[14px] text-[#667085] mb-1\">Email ID</p>\n              <p className=\"text-[16px] font-medium text-[#282828]\">hygen.ai.com</p>\n            </div>\n\n            {/* Password Field */}\n            <div className=\"flex items-center gap-3\">\n              <img\n                src=\"/password.svg\"\n                alt=\"Password\"\n                className=\"w-5 h-5\"\n              />\n               <p className=\"text-[14px] text-[#667085] mb-1\">Password</p>\n               <p className=\"text-[16px] font-medium text-[#282828]\">54dewfwf54883</p>\n              \n            </div>\n          </div>\n        </div>\n        <div className=\"flex flex-col gap-2 w-full mt-5\">\n          {onBack && (\n            <button\n              onClick={onBack}\n              className=\"flex items-center gap-2 text-[#667085] hover:text-[#5046E5] transition-colors duration-300 w-fit\"\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n              Back\n            </button>\n          )}\n          <button\n            onClick={() => window.open('https://app.heygen.com/', '_blank')}\n            className=\"w-full bg-[#5046E5] text-white px-5 py-3 rounded-full font-semibold text-[18px] hover:bg-[#4338CA] transition-colors duration-300 flex items-center justify-center gap-2\"\n          >\n            Visit Hygen\n            <ArrowUpRight className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAFA;;;AASe,SAAS,iBAAiB,EAAE,MAAM,EAAE,MAAM,EAAyB;IAChF,qBACE,iNAAC;QAAI,WAAU;kBAEb,cAAA,iNAAC;YAAI,WAAU;;8BAEb,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAG,WAAU;sCAAuC;;;;;;sCAGrD,iNAAC;4BAAE,WAAU;sCAA6B;;;;;;;;;;;;8BAM5C,iNAAC;oBAAI,WAAU;8BACb,cAAA,iNAAC;wBAAI,WAAU;;0CAEb,iNAAC;gCAAI,WAAU;;kDACb,iNAAC;wCACC,KAAI;wCACJ,KAAI;wCACJ,WAAU;;;;;;kDAEZ,iNAAC;wCAAE,WAAU;kDAAkC;;;;;;kDAC/C,iNAAC;wCAAE,WAAU;kDAAyC;;;;;;;;;;;;0CAIxD,iNAAC;gCAAI,WAAU;;kDACb,iNAAC;wCACC,KAAI;wCACJ,KAAI;wCACJ,WAAU;;;;;;kDAEX,iNAAC;wCAAE,WAAU;kDAAkC;;;;;;kDAC/C,iNAAC;wCAAE,WAAU;kDAAyC;;;;;;;;;;;;;;;;;;;;;;;8BAK7D,iNAAC;oBAAI,WAAU;;wBACZ,wBACC,iNAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,iNAAC,oPAAS;oCAAC,WAAU;;;;;;gCAAY;;;;;;;sCAIrC,iNAAC;4BACC,SAAS,IAAM,OAAO,IAAI,CAAC,2BAA2B;4BACtD,WAAU;;gCACX;8CAEC,iNAAC,iQAAY;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMpC;KA/DwB"}},
    {"offset": {"line": 2731, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/videoAvatarStep5.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { ArrowLeft, Check, AlertCircle } from 'lucide-react'\nimport { IoMdArrowDropdown } from \"react-icons/io\"\nimport { useSelector } from 'react-redux'\nimport { RootState } from '@/store'\nimport { apiService } from '@/lib/api-service'\nimport { useUnifiedSocketContext } from '@/components/providers/UnifiedSocketProvider'\nimport Checkbox from '../../checkbox'\nimport { AvatarData } from '../AvatarCreationModal'\n\ninterface VideoAvatarStep5Props {\n  onBack: () => void\n  avatarData: AvatarData\n  setAvatarData: (data: AvatarData) => void\n  onSkipBackToUpload?: () => void\n  onClose?: () => void\n  onShowToast?: (message: string, type: 'success' | 'error' | 'info') => void\n}\n\nexport default function VideoAvatarStep5({ onBack, avatarData, setAvatarData, onSkipBackToUpload, onClose, onShowToast }: VideoAvatarStep5Props) {\n  const { user } = useSelector((state: RootState) => state.user)\n  const { clearAvatarUpdates } = useUnifiedSocketContext()\n  const [agreedToTerms, setAgreedToTerms] = useState(false)\n  const [openDropdown, setOpenDropdown] = useState<string | null>(null)\n  const [errors, setErrors] = useState<Partial<Record<keyof AvatarData | 'terms' | 'general', string>>>({})\n  const [showErrors, setShowErrors] = useState(false)\n  const [isCreating, setIsCreating] = useState(false)\n  const [isGenerating, setIsGenerating] = useState(false)\n  const [generationStatus, setGenerationStatus] = useState<string>('')\n\n  const ageOptions = [\n    { value: '18-24', label: '18-24' },\n    { value: '25-34', label: '25-34' },\n    { value: '35-44', label: '35-44' },\n    { value: '45-54', label: '45-54' },\n    { value: '55-64', label: '55-64' },\n    { value: '65+', label: '65+' }\n  ]\n\n  const genderOptions = [\n    { value: 'Male', label: 'Male' },\n    { value: 'Female', label: 'Female' },\n  ]\n\n  const ethnicityOptions = [\n    { value: 'Asian', label: 'Asian' },\n    { value: 'Black or African American', label: 'Black or African American' },\n    { value: 'Hispanic or Latino', label: 'Hispanic or Latino' },\n    { value: 'Native American or Alaska Native', label: 'Native American or Alaska Native' },\n    { value: 'Native Hawaiian or Pacific Islander', label: 'Native Hawaiian or Pacific Islander' },\n    { value: 'White', label: 'White' },\n    { value: 'Middle Eastern or North African', label: 'Middle Eastern or North African' },\n    { value: 'Mixed', label: 'Mixed' },\n    { value: 'Prefer not to say', label: 'Prefer not to say' }\n  ]\n\n  const handleInputChange = (field: keyof AvatarData, value: string) => {\n    setAvatarData({ ...avatarData, [field]: value })\n    if (errors[field]) {\n      setErrors({ ...errors, [field]: undefined })\n    }\n  }\n\n  const handleDropdownSelect = (field: keyof AvatarData, value: string) => {\n    setAvatarData({ ...avatarData, [field]: value })\n    setOpenDropdown(null)\n    // Clear error for this field when user selects a value\n    if (errors[field]) {\n      setErrors({ ...errors, [field]: undefined })\n    }\n  }\n\n  const handleDropdownToggle = (field: keyof AvatarData) => {\n    setOpenDropdown(openDropdown === field ? null : field)\n  }\n\n  const renderDropdown = (\n    field: keyof AvatarData,\n    options: { value: string; label: string }[],\n    placeholder: string\n  ) => {\n    const currentValue = avatarData[field] as string\n    const selectedOption = options.find(option => option.value === currentValue)\n    const isOpen = openDropdown === field\n    const hasError = showErrors && errors[field]\n\n    return (\n      <div className=\"relative\">\n        <button\n          type=\"button\"\n          onClick={() => handleDropdownToggle(field)}\n          className={`w-full px-4 py-[10.5px] text-[18px] font-normal bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-left transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white flex items-center justify-between cursor-pointer ${\n            selectedOption ? 'text-gray-800 bg-[#F5F5F5]' : 'text-[#11101066]'\n          } ${hasError ? 'ring-2 ring-red-500' : ''}`}\n        >\n          <span>{selectedOption ? selectedOption.label : placeholder}</span>\n          <IoMdArrowDropdown \n            className={`w-4 h-4 transition-transform duration-300 ${isOpen ? 'rotate-180' : ''}`} \n          />\n        </button>\n        \n        {isOpen && (\n          <div className=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-[8px] shadow-lg max-h-60 overflow-y-auto\">\n            {options.map((option) => (\n              <button\n                key={option.value}\n                type=\"button\"\n                onClick={() => handleDropdownSelect(field, option.value)}\n                className=\"w-full px-4 py-3 text-left hover:bg-[#F5F5F5] transition-colors duration-200 flex items-center justify-between text-[#282828] cursor-pointer\"\n              >\n                <span>{option.label}</span>\n                {currentValue === option.value && (\n                  <Check className=\"w-4 h-4 text-[#5046E5]\" />\n                )}\n              </button>\n            ))}\n          </div>\n        )}\n        \n        {hasError && (\n          <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\" role=\"alert\">\n            <AlertCircle className=\"w-4 h-4\" />\n            {errors[field]}\n          </p>\n        )}\n      </div>\n    )\n  }\n\n  const validateForm = () => {\n    const newErrors: typeof errors = {}\n    \n    if (!avatarData.name || avatarData.name.trim() === '') {\n      newErrors.name = 'Name is required'\n    }\n    \n    if (!avatarData.age || avatarData.age.trim() === '') {\n      newErrors.age = 'Age is required'\n    }\n    \n    if (!avatarData.gender || avatarData.gender.trim() === '') {\n      newErrors.gender = 'Gender is required'\n    }\n    \n    if (!avatarData.ethnicity || avatarData.ethnicity.trim() === '') {\n      newErrors.ethnicity = 'Ethnicity is required'\n    }\n    \n    if (!agreedToTerms) {\n      newErrors.terms = 'You must agree to the terms and conditions'\n    }\n    \n    setErrors(newErrors)\n    return Object.keys(newErrors).length === 0\n  }\n\n  const handleCreate = async () => {\n    setShowErrors(true)\n    const isValid = validateForm()\n    \n    if (isValid) {\n      // Check if user is logged in\n      if (!user?.id) {\n        setErrors({ ...errors, general: 'Please log in to create an avatar' })\n        return\n      }\n\n      // Check if both videos are uploaded\n      if (!avatarData.videoFile) {\n        setErrors({ ...errors, general: 'Please upload a training video first' })\n        return\n      }\n\n      if (!avatarData.consentVideoFile) {\n        setErrors({ ...errors, general: 'Please record a consent video first' })\n        return\n      }\n\n      // Allow multiple avatar creation - removed global processing check\n      // Each avatar creation is independent and can run simultaneously\n\n      setIsCreating(true)\n      clearAvatarUpdates() // Clear any previous notifications\n\n      try {\n        console.log('ðŸŽ¬ Creating video avatar with HeyGen API')\n        console.log('ðŸ“¹ Training video file:', avatarData.videoFile)\n        console.log('ðŸ“¹ Consent video file:', avatarData.consentVideoFile)\n        console.log('ðŸ‘¤ Avatar name:', avatarData.name)\n        \n        // Call HeyGen API with actual File objects\n        const result = await apiService.createVideoAvatar(\n          avatarData.videoFile,\n          avatarData.consentVideoFile,\n          avatarData.name\n        )\n        \n        if (result.success) {\n          // Store the avatar_id for status checking\n          console.log('âœ… Video avatar created successfully:', result.data)\n          const avatarId = result.data?.avatar_id\n          if (!avatarId) {\n            setErrors({ ...errors, general: 'No avatar ID received from server' })\n            return\n          }\n          console.log('ðŸ†” Avatar ID:', avatarId)\n          \n          // Start polling for avatar status\n          console.log('ðŸ”„ Starting status polling...')\n          setIsGenerating(true)\n          setGenerationStatus('Avatar generation started... This process may take 5-10 minutes. Please keep this page open.')\n          \n          const statusResult = await apiService.pollVideoAvatarStatus(\n            avatarId,\n            (status, data) => {\n              console.log(`ðŸ“Š Status update: ${status}`, data)\n              // Update UI with status and show notifications for all statuses\n              if (status === 'in_progress') {\n                setGenerationStatus('Generating your avatar... This may take a few minutes.')\n                // Show processing notification (non-dismissible)\n                if (onShowToast) {\n                  onShowToast('Avatar is being generated... Please wait', 'info')\n                }\n              } else if (status === 'completed') {\n                setGenerationStatus('Avatar generation completed!')\n                // Show success notification\n                if (onShowToast) {\n                  onShowToast('Avatar generated successfully!', 'success')\n                }\n              } else if (status === 'failed') {\n                setGenerationStatus('Avatar generation failed.')\n                // Show error notification\n                if (onShowToast) {\n                  onShowToast('Avatar generation failed. Please try again.', 'error')\n                }\n              }\n            }\n          )\n          \n          if (statusResult.success) {\n            console.log('ðŸŽ‰ Avatar generation completed!', statusResult.data)\n            // Close modal on success\n            if (onClose) {\n              onClose()\n            }\n          } else {\n            console.error('âŒ Avatar generation failed:', statusResult.message)\n            setErrors({ ...errors, general: statusResult.message || 'Avatar generation failed' })\n          }\n        } else {\n          setErrors({ ...errors, general: result.message || 'Failed to create video avatar' })\n        }\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : 'Failed to create avatar'\n        setErrors({ ...errors, general: errorMessage })\n      } finally {\n        setIsCreating(false)\n        setIsGenerating(false)\n      }\n    } else {\n      // Scroll to top to show errors\n      const container = document.querySelector('.flex-1.overflow-y-auto')\n      if (container) {\n        container.scrollTo({ top: 0, behavior: 'smooth' })\n      }\n    }\n  }\n\n  const handleBack = () => {\n    // Skip back to upload step (Step 3) instead of going through intermediate steps\n    if (onSkipBackToUpload) {\n      onSkipBackToUpload()\n    } else {\n      onBack()\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"text-left px-2\">\n        <p className=\"text-[18px] font-normal text-[#5F5F5F]\">\n        Now, let&apos;s add some details to bring your avatar to life.\n        </p>\n        \n      </div>\n\n      {/* General Error Message */}\n      {showErrors && errors.general && (\n        <div className=\"px-2 mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2\">\n          <AlertCircle className=\"w-5 h-5 text-red-500 flex-shrink-0\" />\n          <p className=\"text-red-700 text-sm\">{errors.general}</p>\n        </div>\n      )}\n\n      {/* Generation Status Message */}\n      {isGenerating && generationStatus && (\n        <div className=\"px-2 mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-center gap-2\">\n          <div className=\"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin flex-shrink-0\"></div>\n          <p className=\"text-blue-700 text-sm\">{generationStatus}</p>\n        </div>\n      )}\n\n      {/* Form Fields */}\n      <div className=\"space-y-4 px-2\">\n        {/* Name */}\n        <div>\n          <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">\n            Name <span className=\"text-red-500\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={avatarData.name}\n            onChange={(e) => handleInputChange('name', e.target.value)}\n            placeholder=\"Enter avatar name\"\n            className={`w-full px-4 py-[10.5px] text-[18px] font-normal placeholder:text-[#11101066] bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-gray-800 transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white ${\n              showErrors && errors.name ? 'ring-2 ring-red-500' : ''\n            }`}\n          />\n          {showErrors && errors.name && (\n            <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\" role=\"alert\">\n              <AlertCircle className=\"w-4 h-4\" />\n              {errors.name}\n            </p>\n          )}\n        </div>\n\n        {/* Age */}\n        <div>\n          <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">\n            Age <span className=\"text-red-500\">*</span>\n          </label>\n          {renderDropdown('age', ageOptions, 'Select age range')}\n          {showErrors && errors.age && (\n            <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\" role=\"alert\">\n              <AlertCircle className=\"w-4 h-4\" />\n              {errors.age}\n            </p>\n          )}\n        </div>\n\n        {/* Gender */}\n        <div>\n          <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">\n            Gender <span className=\"text-red-500\">*</span>\n          </label>\n          {renderDropdown('gender', genderOptions, 'Select gender')}\n          {showErrors && errors.gender && (\n            <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\" role=\"alert\">\n              <AlertCircle className=\"w-4 h-4\" />\n              {errors.gender}\n            </p>\n          )}\n        </div>\n\n        {/* Ethnicity */}\n        <div>\n          <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">\n            Ethnicity <span className=\"text-red-500\">*</span>\n          </label>\n          {renderDropdown('ethnicity', ethnicityOptions, 'Select ethnicity')}\n          {showErrors && errors.ethnicity && (\n            <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\" role=\"alert\">\n              <AlertCircle className=\"w-4 h-4\" />\n              {errors.ethnicity}\n            </p>\n          )}\n        </div>\n      </div>\n\n      {/* Terms & Privacy */}\n      <div>\n        <div className=\"flex items-start gap-3 mt-5\">\n          <Checkbox \n            checked={agreedToTerms} \n            onChange={(e) => {\n              const checked = e?.target?.checked || false\n              setAgreedToTerms(checked)\n              // Clear terms error when user checks the box\n              if (checked && errors.terms) {\n                setErrors({ ...errors, terms: undefined })\n              }\n            }} \n            label=\"By creating an avatar, I confirm that I am over 18 years of age (or the legal age in my country) and that the photos used belong to me or I have obtained explicit permission from the individual represented. I understand that I am solely responsible for the content I upload and that the use of these images must comply with all applicable laws and regulations. Additionally, I agree not to upload any photos that infringe on others rights or that I do not have permission to use. By proceeding, I accept the Terms of Service and Privacy Policy.\"\n            id=\"terms-agreement\"\n          />\n        </div>\n        {showErrors && errors.terms && (\n          <p className=\"text-red-500 text-sm mt-2 flex items-center gap-1\" role=\"alert\">\n            <AlertCircle className=\"w-4 h-4\" />\n            {errors.terms}\n          </p>\n        )}\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex flex-col gap-2 justify-between pt-0\">\n        <button\n          onClick={handleBack}\n          className=\"flex items-center gap-2 text-[#667085] hover:text-[#5046E5] transition-colors duration-300 w-fit\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          Back\n        </button>\n        <button\n          onClick={handleCreate}\n          disabled={isCreating || isGenerating}\n          className={`px-8 py-[11.3px] font-semibold text-[20px] rounded-full transition-colors duration-300 cursor-pointer w-full bg-[#5046E5] text-white hover:text-[#5046E5] hover:bg-transparent border-2 border-[#5046E5] ${(isCreating || isGenerating) ? 'opacity-50 cursor-not-allowed' : ''}`}\n        >\n          {isCreating ? (\n            <div className=\"flex items-center justify-center gap-2\">\n              <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n              Creating Avatar...\n            </div>\n          ) : isGenerating ? (\n            <div className=\"flex items-center justify-center gap-2\">\n              <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n              Generating...\n            </div>\n          ) : (\n            'Create'\n          )}\n        </button>\n      </div>\n\n      {/* Click outside to close dropdowns */}\n      {openDropdown && (\n        <div \n          className=\"fixed inset-0 z-40\" \n          onClick={() => setOpenDropdown(null)}\n        />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;;;AATA;;;;;;;;AAqBe,SAAS,iBAAiB,EAAE,MAAM,EAAE,UAAU,EAAE,aAAa,EAAE,kBAAkB,EAAE,OAAO,EAAE,WAAW,EAAyB;;IAC7I,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,+LAAW;wCAAC,CAAC,QAAqB,MAAM,IAAI;;IAC7D,MAAM,EAAE,kBAAkB,EAAE,GAAG,IAAA,0MAAuB;IACtD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,6LAAQ,EAAC;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,6LAAQ,EAAgB;IAChE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,6LAAQ,EAAkE,CAAC;IACvG,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,6LAAQ,EAAC;IAC7C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,6LAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,6LAAQ,EAAC;IACjD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,6LAAQ,EAAS;IAEjE,MAAM,aAAa;QACjB;YAAE,OAAO;YAAS,OAAO;QAAQ;QACjC;YAAE,OAAO;YAAS,OAAO;QAAQ;QACjC;YAAE,OAAO;YAAS,OAAO;QAAQ;QACjC;YAAE,OAAO;YAAS,OAAO;QAAQ;QACjC;YAAE,OAAO;YAAS,OAAO;QAAQ;QACjC;YAAE,OAAO;YAAO,OAAO;QAAM;KAC9B;IAED,MAAM,gBAAgB;QACpB;YAAE,OAAO;YAAQ,OAAO;QAAO;QAC/B;YAAE,OAAO;YAAU,OAAO;QAAS;KACpC;IAED,MAAM,mBAAmB;QACvB;YAAE,OAAO;YAAS,OAAO;QAAQ;QACjC;YAAE,OAAO;YAA6B,OAAO;QAA4B;QACzE;YAAE,OAAO;YAAsB,OAAO;QAAqB;QAC3D;YAAE,OAAO;YAAoC,OAAO;QAAmC;QACvF;YAAE,OAAO;YAAuC,OAAO;QAAsC;QAC7F;YAAE,OAAO;YAAS,OAAO;QAAQ;QACjC;YAAE,OAAO;YAAmC,OAAO;QAAkC;QACrF;YAAE,OAAO;YAAS,OAAO;QAAQ;QACjC;YAAE,OAAO;YAAqB,OAAO;QAAoB;KAC1D;IAED,MAAM,oBAAoB,CAAC,OAAyB;QAClD,cAAc;YAAE,GAAG,UAAU;YAAE,CAAC,MAAM,EAAE;QAAM;QAC9C,IAAI,MAAM,CAAC,MAAM,EAAE;YACjB,UAAU;gBAAE,GAAG,MAAM;gBAAE,CAAC,MAAM,EAAE;YAAU;QAC5C;IACF;IAEA,MAAM,uBAAuB,CAAC,OAAyB;QACrD,cAAc;YAAE,GAAG,UAAU;YAAE,CAAC,MAAM,EAAE;QAAM;QAC9C,gBAAgB;QAChB,uDAAuD;QACvD,IAAI,MAAM,CAAC,MAAM,EAAE;YACjB,UAAU;gBAAE,GAAG,MAAM;gBAAE,CAAC,MAAM,EAAE;YAAU;QAC5C;IACF;IAEA,MAAM,uBAAuB,CAAC;QAC5B,gBAAgB,iBAAiB,QAAQ,OAAO;IAClD;IAEA,MAAM,iBAAiB,CACrB,OACA,SACA;QAEA,MAAM,eAAe,UAAU,CAAC,MAAM;QACtC,MAAM,iBAAiB,QAAQ,IAAI,CAAC,CAAA,SAAU,OAAO,KAAK,KAAK;QAC/D,MAAM,SAAS,iBAAiB;QAChC,MAAM,WAAW,cAAc,MAAM,CAAC,MAAM;QAE5C,qBACE,iNAAC;YAAI,WAAU;;8BACb,iNAAC;oBACC,MAAK;oBACL,SAAS,IAAM,qBAAqB;oBACpC,WAAW,CAAC,gQAAgQ,EAC1Q,iBAAiB,+BAA+B,mBACjD,CAAC,EAAE,WAAW,wBAAwB,IAAI;;sCAE3C,iNAAC;sCAAM,iBAAiB,eAAe,KAAK,GAAG;;;;;;sCAC/C,iNAAC,0LAAiB;4BAChB,WAAW,CAAC,0CAA0C,EAAE,SAAS,eAAe,IAAI;;;;;;;;;;;;gBAIvF,wBACC,iNAAC;oBAAI,WAAU;8BACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,iNAAC;4BAEC,MAAK;4BACL,SAAS,IAAM,qBAAqB,OAAO,OAAO,KAAK;4BACvD,WAAU;;8CAEV,iNAAC;8CAAM,OAAO,KAAK;;;;;;gCAClB,iBAAiB,OAAO,KAAK,kBAC5B,iNAAC,oOAAK;oCAAC,WAAU;;;;;;;2BAPd,OAAO,KAAK;;;;;;;;;;gBAcxB,0BACC,iNAAC;oBAAE,WAAU;oBAAoD,MAAK;;sCACpE,iNAAC,0PAAW;4BAAC,WAAU;;;;;;wBACtB,MAAM,CAAC,MAAM;;;;;;;;;;;;;IAKxB;IAEA,MAAM,eAAe;QACnB,MAAM,YAA2B,CAAC;QAElC,IAAI,CAAC,WAAW,IAAI,IAAI,WAAW,IAAI,CAAC,IAAI,OAAO,IAAI;YACrD,UAAU,IAAI,GAAG;QACnB;QAEA,IAAI,CAAC,WAAW,GAAG,IAAI,WAAW,GAAG,CAAC,IAAI,OAAO,IAAI;YACnD,UAAU,GAAG,GAAG;QAClB;QAEA,IAAI,CAAC,WAAW,MAAM,IAAI,WAAW,MAAM,CAAC,IAAI,OAAO,IAAI;YACzD,UAAU,MAAM,GAAG;QACrB;QAEA,IAAI,CAAC,WAAW,SAAS,IAAI,WAAW,SAAS,CAAC,IAAI,OAAO,IAAI;YAC/D,UAAU,SAAS,GAAG;QACxB;QAEA,IAAI,CAAC,eAAe;YAClB,UAAU,KAAK,GAAG;QACpB;QAEA,UAAU;QACV,OAAO,OAAO,IAAI,CAAC,WAAW,MAAM,KAAK;IAC3C;IAEA,MAAM,eAAe;QACnB,cAAc;QACd,MAAM,UAAU;QAEhB,IAAI,SAAS;YACX,6BAA6B;YAC7B,IAAI,CAAC,MAAM,IAAI;gBACb,UAAU;oBAAE,GAAG,MAAM;oBAAE,SAAS;gBAAoC;gBACpE;YACF;YAEA,oCAAoC;YACpC,IAAI,CAAC,WAAW,SAAS,EAAE;gBACzB,UAAU;oBAAE,GAAG,MAAM;oBAAE,SAAS;gBAAuC;gBACvE;YACF;YAEA,IAAI,CAAC,WAAW,gBAAgB,EAAE;gBAChC,UAAU;oBAAE,GAAG,MAAM;oBAAE,SAAS;gBAAsC;gBACtE;YACF;YAEA,mEAAmE;YACnE,iEAAiE;YAEjE,cAAc;YACd,sBAAqB,mCAAmC;YAExD,IAAI;gBACF,QAAQ,GAAG,CAAC;gBACZ,QAAQ,GAAG,CAAC,2BAA2B,WAAW,SAAS;gBAC3D,QAAQ,GAAG,CAAC,0BAA0B,WAAW,gBAAgB;gBACjE,QAAQ,GAAG,CAAC,mBAAmB,WAAW,IAAI;gBAE9C,2CAA2C;gBAC3C,MAAM,SAAS,MAAM,iKAAU,CAAC,iBAAiB,CAC/C,WAAW,SAAS,EACpB,WAAW,gBAAgB,EAC3B,WAAW,IAAI;gBAGjB,IAAI,OAAO,OAAO,EAAE;oBAClB,0CAA0C;oBAC1C,QAAQ,GAAG,CAAC,wCAAwC,OAAO,IAAI;oBAC/D,MAAM,WAAW,OAAO,IAAI,EAAE;oBAC9B,IAAI,CAAC,UAAU;wBACb,UAAU;4BAAE,GAAG,MAAM;4BAAE,SAAS;wBAAoC;wBACpE;oBACF;oBACA,QAAQ,GAAG,CAAC,iBAAiB;oBAE7B,kCAAkC;oBAClC,QAAQ,GAAG,CAAC;oBACZ,gBAAgB;oBAChB,oBAAoB;oBAEpB,MAAM,eAAe,MAAM,iKAAU,CAAC,qBAAqB,CACzD,UACA,CAAC,QAAQ;wBACP,QAAQ,GAAG,CAAC,CAAC,kBAAkB,EAAE,QAAQ,EAAE;wBAC3C,gEAAgE;wBAChE,IAAI,WAAW,eAAe;4BAC5B,oBAAoB;4BACpB,iDAAiD;4BACjD,IAAI,aAAa;gCACf,YAAY,4CAA4C;4BAC1D;wBACF,OAAO,IAAI,WAAW,aAAa;4BACjC,oBAAoB;4BACpB,4BAA4B;4BAC5B,IAAI,aAAa;gCACf,YAAY,kCAAkC;4BAChD;wBACF,OAAO,IAAI,WAAW,UAAU;4BAC9B,oBAAoB;4BACpB,0BAA0B;4BAC1B,IAAI,aAAa;gCACf,YAAY,+CAA+C;4BAC7D;wBACF;oBACF;oBAGF,IAAI,aAAa,OAAO,EAAE;wBACxB,QAAQ,GAAG,CAAC,mCAAmC,aAAa,IAAI;wBAChE,yBAAyB;wBACzB,IAAI,SAAS;4BACX;wBACF;oBACF,OAAO;wBACL,QAAQ,KAAK,CAAC,+BAA+B,aAAa,OAAO;wBACjE,UAAU;4BAAE,GAAG,MAAM;4BAAE,SAAS,aAAa,OAAO,IAAI;wBAA2B;oBACrF;gBACF,OAAO;oBACL,UAAU;wBAAE,GAAG,MAAM;wBAAE,SAAS,OAAO,OAAO,IAAI;oBAAgC;gBACpF;YACF,EAAE,OAAO,OAAO;gBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG;gBAC9D,UAAU;oBAAE,GAAG,MAAM;oBAAE,SAAS;gBAAa;YAC/C,SAAU;gBACR,cAAc;gBACd,gBAAgB;YAClB;QACF,OAAO;YACL,+BAA+B;YAC/B,MAAM,YAAY,SAAS,aAAa,CAAC;YACzC,IAAI,WAAW;gBACb,UAAU,QAAQ,CAAC;oBAAE,KAAK;oBAAG,UAAU;gBAAS;YAClD;QACF;IACF;IAEA,MAAM,aAAa;QACjB,gFAAgF;QAChF,IAAI,oBAAoB;YACtB;QACF,OAAO;YACL;QACF;IACF;IAEA,qBACE,iNAAC;QAAI,WAAU;;0BAEb,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAE,WAAU;8BAAyC;;;;;;;;;;;YAOvD,cAAc,OAAO,OAAO,kBAC3B,iNAAC;gBAAI,WAAU;;kCACb,iNAAC,0PAAW;wBAAC,WAAU;;;;;;kCACvB,iNAAC;wBAAE,WAAU;kCAAwB,OAAO,OAAO;;;;;;;;;;;;YAKtD,gBAAgB,kCACf,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAI,WAAU;;;;;;kCACf,iNAAC;wBAAE,WAAU;kCAAyB;;;;;;;;;;;;0BAK1C,iNAAC;gBAAI,WAAU;;kCAEb,iNAAC;;0CACC,iNAAC;gCAAM,WAAU;;oCAAoD;kDAC9D,iNAAC;wCAAK,WAAU;kDAAe;;;;;;;;;;;;0CAEtC,iNAAC;gCACC,MAAK;gCACL,OAAO,WAAW,IAAI;gCACtB,UAAU,CAAC,IAAM,kBAAkB,QAAQ,EAAE,MAAM,CAAC,KAAK;gCACzD,aAAY;gCACZ,WAAW,CAAC,gPAAgP,EAC1P,cAAc,OAAO,IAAI,GAAG,wBAAwB,IACpD;;;;;;4BAEH,cAAc,OAAO,IAAI,kBACxB,iNAAC;gCAAE,WAAU;gCAAoD,MAAK;;kDACpE,iNAAC,0PAAW;wCAAC,WAAU;;;;;;oCACtB,OAAO,IAAI;;;;;;;;;;;;;kCAMlB,iNAAC;;0CACC,iNAAC;gCAAM,WAAU;;oCAAoD;kDAC/D,iNAAC;wCAAK,WAAU;kDAAe;;;;;;;;;;;;4BAEpC,eAAe,OAAO,YAAY;4BAClC,cAAc,OAAO,GAAG,kBACvB,iNAAC;gCAAE,WAAU;gCAAoD,MAAK;;kDACpE,iNAAC,0PAAW;wCAAC,WAAU;;;;;;oCACtB,OAAO,GAAG;;;;;;;;;;;;;kCAMjB,iNAAC;;0CACC,iNAAC;gCAAM,WAAU;;oCAAoD;kDAC5D,iNAAC;wCAAK,WAAU;kDAAe;;;;;;;;;;;;4BAEvC,eAAe,UAAU,eAAe;4BACxC,cAAc,OAAO,MAAM,kBAC1B,iNAAC;gCAAE,WAAU;gCAAoD,MAAK;;kDACpE,iNAAC,0PAAW;wCAAC,WAAU;;;;;;oCACtB,OAAO,MAAM;;;;;;;;;;;;;kCAMpB,iNAAC;;0CACC,iNAAC;gCAAM,WAAU;;oCAAoD;kDACzD,iNAAC;wCAAK,WAAU;kDAAe;;;;;;;;;;;;4BAE1C,eAAe,aAAa,kBAAkB;4BAC9C,cAAc,OAAO,SAAS,kBAC7B,iNAAC;gCAAE,WAAU;gCAAoD,MAAK;;kDACpE,iNAAC,0PAAW;wCAAC,WAAU;;;;;;oCACtB,OAAO,SAAS;;;;;;;;;;;;;;;;;;;0BAOzB,iNAAC;;kCACC,iNAAC;wBAAI,WAAU;kCACb,cAAA,iNAAC,sKAAQ;4BACP,SAAS;4BACT,UAAU,CAAC;gCACT,MAAM,UAAU,GAAG,QAAQ,WAAW;gCACtC,iBAAiB;gCACjB,6CAA6C;gCAC7C,IAAI,WAAW,OAAO,KAAK,EAAE;oCAC3B,UAAU;wCAAE,GAAG,MAAM;wCAAE,OAAO;oCAAU;gCAC1C;4BACF;4BACA,OAAM;4BACN,IAAG;;;;;;;;;;;oBAGN,cAAc,OAAO,KAAK,kBACzB,iNAAC;wBAAE,WAAU;wBAAoD,MAAK;;0CACpE,iNAAC,0PAAW;gCAAC,WAAU;;;;;;4BACtB,OAAO,KAAK;;;;;;;;;;;;;0BAMnB,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,iNAAC,oPAAS;gCAAC,WAAU;;;;;;4BAAY;;;;;;;kCAGnC,iNAAC;wBACC,SAAS;wBACT,UAAU,cAAc;wBACxB,WAAW,CAAC,yMAAyM,EAAE,AAAC,cAAc,eAAgB,kCAAkC,IAAI;kCAE3R,2BACC,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;oCAAI,WAAU;;;;;;gCAAqF;;;;;;mCAGpG,6BACF,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;oCAAI,WAAU;;;;;;gCAAqF;;;;;;mCAItG;;;;;;;;;;;;YAML,8BACC,iNAAC;gBACC,WAAU;gBACV,SAAS,IAAM,gBAAgB;;;;;;;;;;;;AAKzC;GA/ZwB;;QACL,+LAAW;QACG,0MAAuB;;;KAFhC"}},
    {"offset": {"line": 3524, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/VideoCard.tsx"],"sourcesContent":["'use client'\n\nimport { Play, Pause, CheckCircle } from 'lucide-react'\n\ninterface VideoCardProps {\n  video: {\n    id: number\n    title: string\n    description: string\n    videoUrl: string\n    thumbnail: string\n    duration: string\n    progress: number\n  }\n  videoState: {\n    isPlaying: boolean\n    isMuted: boolean\n    currentTime: number\n    duration: number\n  }\n  isWatched: boolean\n  progress: number\n  onVideoPlay: (videoId: number) => void\n  onVideoMute: (videoId: number) => void\n  onVideoTimeUpdate: (videoId: number, currentTime: number, duration: number) => void\n  onVideoLoadedMetadata: (videoId: number, duration: number) => void\n  onVideoPlayStateChange: (videoId: number, isPlaying: boolean) => void\n  formatDuration: (seconds: number) => string\n}\n\nexport default function VideoCard({\n  video,\n  videoState,\n  isWatched,\n  progress,\n  onVideoPlay,\n  onVideoMute,\n  onVideoTimeUpdate,\n  onVideoLoadedMetadata,\n  onVideoPlayStateChange,\n  formatDuration\n}: VideoCardProps) {\n  return (\n    <div className=\"bg-[#F2F2F2] rounded-[8px] overflow-hidden\">\n      <div className=\"p-4\">\n        <h3 className=\"text-[18px] font-semibold text-[#101010] mb-4\">\n          {video.title}\n        </h3>\n        \n        <div className=\"relative rounded-[8px] overflow-hidden bg-black mb-4\">\n          <video\n            data-video-id={video.id}\n            className=\"w-full h-[230px] object-cover\"\n            poster={video.thumbnail}\n            preload=\"metadata\"\n            controls={true}\n            muted={videoState.isMuted}\n            onTimeUpdate={(e) => {\n              const target = e.target as HTMLVideoElement\n              onVideoTimeUpdate(video.id, target.currentTime, target.duration)\n            }}\n            onLoadedMetadata={(e) => {\n              const target = e.target as HTMLVideoElement\n              onVideoLoadedMetadata(video.id, target.duration)\n            }}\n            onPlay={() => {\n              onVideoPlayStateChange(video.id, true)\n            }}\n            onPause={() => {\n              onVideoPlayStateChange(video.id, false)\n            }}\n          >\n            <source src={video.videoUrl} type=\"video/mp4\" />\n            Your browser does not support the video tag.\n          </video>\n          \n          {/* Play Button Overlay */}\n          {/* <div className=\"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center\">\n            <button\n              onClick={() => onVideoPlay(video.id)}\n              className=\"w-12 h-12 bg-red-600 rounded-full flex items-center justify-center hover:bg-red-700 transition-all duration-200\"\n            >\n              {videoState.isPlaying ? (\n                <Pause className=\"w-6 h-6 text-white\" />\n              ) : (\n                <Play className=\"w-6 h-6 text-white ml-1\" />\n              )}\n            </button>\n          </div> */}\n          \n          {/* Progress Bar at Bottom */}\n          <div className=\"absolute bottom-0 left-0 right-0 h-1 bg-black bg-opacity-30\">\n            <div\n              className=\"h-full bg-[#5046E5] transition-all duration-300\"\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n          \n          {/* Progress Percentage */}\n          <div className=\"absolute bottom-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded\">\n            {Math.round(progress)}%\n          </div>\n          \n          {/* Duration Display */}\n          <div className=\"absolute top-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded\">\n            {videoState.duration > 0 ? formatDuration(videoState.duration) : 'Loading...'}\n          </div>\n          \n          {/* Watched Indicator */}\n          {isWatched && (\n            <div className=\"absolute top-2 left-2 bg-green-500 text-white p-1 rounded-full\">\n              <CheckCircle className=\"w-4 h-4\" />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AA8Be,SAAS,UAAU,EAChC,KAAK,EACL,UAAU,EACV,SAAS,EACT,QAAQ,EACR,WAAW,EACX,WAAW,EACX,iBAAiB,EACjB,qBAAqB,EACrB,sBAAsB,EACtB,cAAc,EACC;IACf,qBACE,iNAAC;QAAI,WAAU;kBACb,cAAA,iNAAC;YAAI,WAAU;;8BACb,iNAAC;oBAAG,WAAU;8BACX,MAAM,KAAK;;;;;;8BAGd,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BACC,iBAAe,MAAM,EAAE;4BACvB,WAAU;4BACV,QAAQ,MAAM,SAAS;4BACvB,SAAQ;4BACR,UAAU;4BACV,OAAO,WAAW,OAAO;4BACzB,cAAc,CAAC;gCACb,MAAM,SAAS,EAAE,MAAM;gCACvB,kBAAkB,MAAM,EAAE,EAAE,OAAO,WAAW,EAAE,OAAO,QAAQ;4BACjE;4BACA,kBAAkB,CAAC;gCACjB,MAAM,SAAS,EAAE,MAAM;gCACvB,sBAAsB,MAAM,EAAE,EAAE,OAAO,QAAQ;4BACjD;4BACA,QAAQ;gCACN,uBAAuB,MAAM,EAAE,EAAE;4BACnC;4BACA,SAAS;gCACP,uBAAuB,MAAM,EAAE,EAAE;4BACnC;;8CAEA,iNAAC;oCAAO,KAAK,MAAM,QAAQ;oCAAE,MAAK;;;;;;gCAAc;;;;;;;sCAmBlD,iNAAC;4BAAI,WAAU;sCACb,cAAA,iNAAC;gCACC,WAAU;gCACV,OAAO;oCAAE,OAAO,GAAG,SAAS,CAAC,CAAC;gCAAC;;;;;;;;;;;sCAKnC,iNAAC;4BAAI,WAAU;;gCACZ,KAAK,KAAK,CAAC;gCAAU;;;;;;;sCAIxB,iNAAC;4BAAI,WAAU;sCACZ,WAAW,QAAQ,GAAG,IAAI,eAAe,WAAW,QAAQ,IAAI;;;;;;wBAIlE,2BACC,iNAAC;4BAAI,WAAU;sCACb,cAAA,iNAAC,iQAAW;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOrC;KAxFwB"}},
    {"offset": {"line": 3665, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/DigitalTwinGuidelines.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { Play, Pause, Volume2, VolumeX, ArrowRight, CheckCircle, Mic, Camera, Grid3X3, Hand, ArrowLeft } from 'lucide-react'\nimport VideoCard from './VideoCard'\n\ninterface DigitalTwinGuidelinesProps {\n  onNext: () => void\n  onBack: () => void\n}\n\nexport default function DigitalTwinGuidelines({ onNext, onBack }: DigitalTwinGuidelinesProps) {\n  const [watchedVideos, setWatchedVideos] = useState<Set<number>>(new Set())\n  const [videoStates, setVideoStates] = useState<{\n    [key: number]: {\n      isPlaying: boolean\n      isMuted: boolean\n      currentTime: number\n      duration: number\n    }\n  }>({\n    1: { isPlaying: false, isMuted: false, currentTime: 0, duration: 0 },\n    2: { isPlaying: false, isMuted: false, currentTime: 0, duration: 0 }\n  })\n\n  const guidelines = [\n    {\n      icon: Mic,\n      title: \"Use the right equipment\",\n      description: \"Submit 2-5 min of unedited footage with a professional camera or smartphone.\"\n    },\n    {\n      icon: Camera,\n      title: \"Set the right environment\",\n      description: \"Look straight ahead and keep your head level\"\n    },\n    {\n      icon: Mic,\n      title: \"Speak naturally and clearly\",\n      description: \"Maintain a steady pace, pausing 1-2 seconds between sentences with lips closed.\"\n    },\n    {\n      icon: Grid3X3,\n      title: \"Subtle movement, clear expression\",\n      description: \"Sit, stand, or walk with subtle hand movements kept below the chest. Vary facial expressions and look into the camera.\"\n    },\n    {\n      icon: Hand,\n      title: \"Want large or distinct gesture?\",\n      description: \"You can include these after 30 seconds, spaced at least 2 seconds apart. They'll be excluded from your avatar's default behavior and only used when triggered.\"\n    }\n  ]\n\n  const guidelineVideos = [\n    {\n      id: 1,\n      title: \"Avatar Training Video\",\n      description: \"\",\n      videoUrl: \"/videos/guidelines/heygen_lifestyle_instruction_rebrand_low.mp4\",\n      thumbnail: \"/videos/guidelines/heygen_lifestyle_instruction_rebrand_low.mp4\",\n      duration: \"\",\n      progress: 45\n    },\n    {\n      id: 2,\n      title: \"Consent Video Guidelines\",\n      description: \"\",\n      videoUrl: \"/videos/guidelines/lighting-guide.mov\",\n      thumbnail: \"/videos/guidelines/lighting-guide.mov\",\n      duration: \"\",\n      progress: 45\n    }\n  ]\n\n  const handleVideoPlay = (videoId: number) => {\n    const videoElement = document.querySelector(`video[data-video-id=\"${videoId}\"]`) as HTMLVideoElement\n    if (videoElement) {\n      if (videoStates[videoId].isPlaying) {\n        videoElement.pause()\n      } else {\n        videoElement.play()\n      }\n    }\n  }\n\n  const handleVideoMute = (videoId: number) => {\n    const videoElement = document.querySelector(`video[data-video-id=\"${videoId}\"]`) as HTMLVideoElement\n    if (videoElement) {\n      videoElement.muted = !videoElement.muted\n      setVideoStates(prev => ({\n        ...prev,\n        [videoId]: { ...prev[videoId], isMuted: videoElement.muted }\n      }))\n    }\n  }\n\n  const handleVideoLoadedMetadata = (videoId: number, duration: number) => {\n    setVideoStates(prev => ({\n      ...prev,\n      [videoId]: { ...prev[videoId], duration }\n    }))\n  }\n\n  const handleVideoPlayStateChange = (videoId: number, isPlaying: boolean) => {\n    setVideoStates(prev => ({\n      ...prev,\n      [videoId]: { ...prev[videoId], isPlaying }\n    }))\n  }\n\n  const handleVideoTimeUpdate = (videoId: number, currentTime: number, duration: number) => {\n    setVideoStates(prev => ({\n      ...prev,\n      [videoId]: { ...prev[videoId], currentTime, duration }\n    }))\n\n    // Mark video as watched when 90% complete\n    if (currentTime / duration >= 0.9) {\n      setWatchedVideos(prev => new Set([...prev, videoId]))\n    }\n  }\n\n  const formatDuration = (seconds: number): string => {\n    const minutes = Math.floor(seconds / 60)\n    const remainingSeconds = Math.floor(seconds % 60)\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`\n  }\n\n  const allVideosWatched = watchedVideos.size === guidelineVideos.length\n\n  return (\n    <div className=\"bg-white flex flex-col h-full max-w-7xl mx-auto w-full\">\n      <div className=\"flex-1 flex flex-col lg:flex-row overflow-y-auto\">\n        <div className=\"w-full lg:w-1/2 p-4 lg:p-8 space-y-6 order-1 lg:order-2\">\n          {guidelineVideos.map((video) => {\n            const videoState = videoStates[video.id]\n            const isWatched = watchedVideos.has(video.id)\n            const progress = videoState.duration > 0 ? (videoState.currentTime / videoState.duration) * 100 : video.progress\n\n            return (\n              <VideoCard\n                key={video.id}\n                video={video}\n                videoState={videoState}\n                isWatched={isWatched}\n                progress={progress}\n                onVideoPlay={handleVideoPlay}\n                onVideoMute={handleVideoMute}\n                onVideoTimeUpdate={handleVideoTimeUpdate}\n                onVideoLoadedMetadata={handleVideoLoadedMetadata}\n                onVideoPlayStateChange={handleVideoPlayStateChange}\n                formatDuration={formatDuration}\n              />\n            )\n          })}\n        </div>\n        <div className=\"w-full lg:w-1/2 order-2 lg:order-1\">\n          <div className=\"space-y-6\">\n            {guidelines.map((guideline, index) => {\n              const IconComponent = guideline.icon\n              return (\n                <div key={index} className=\"space-y-3\">\n                  <div className=\"flex items-start gap-4\">\n                    <div className=\"flex-shrink-0 w-8 h-8 flex items-center justify-center\">\n                      <IconComponent className=\"w-6 h-6 text-gray-700\" />\n                    </div>\n                    <div className=\"flex-1\">\n                      <h3 className=\"md:text-[24px] text-[18px] font-semibold text-[#101010] mb-2\">\n                        {guideline.title}\n                      </h3>\n                      <p className=\"md:text-[18px] max-w-[520px] text-[14px] text-[#5F5F5F] font-normal leading-[24px]\">\n                        {guideline.description}\n                      </p>\n                    </div>\n                  </div>\n                  {index === 3 && (\n                    <div className=\"border-t border-gray-200 my-4\"></div>\n                  )}\n                </div>\n              )\n            })}\n          </div>\n        </div>\n      </div>\n      <div className=\"px-6 pt-4\">\n        <div className=\"flex flex-col gap-2 justify-between\">\n          <button\n            onClick={onBack}\n            className=\"flex items-center gap-2 text-[#667085] hover:text-[#5046E5] transition-colors duration-300 w-fit\"\n          >\n            <ArrowLeft className=\"w-4 h-4\" />\n            Back\n          </button>\n          <button\n            onClick={onNext}\n            // disabled={!allVideosWatched}\n            className={`px-8 py-[11.3px] font-semibold text-[20px] rounded-full transition-colors duration-300 w-full bg-[#5046E5] text-white hover:bg-transparent hover:text-[#5046E5] border-2 border-[#5046E5] cursor-pointer\n            `}\n          >\n            Next\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3995, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/TrainingVideoUpload.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from \"react\";\nimport { X, CheckCircle, AlertCircle, ArrowLeft } from \"lucide-react\";\nimport { useVideoUpload } from \"../../../../hooks/useVideoUpload\";\nimport { AvatarData } from '../AvatarCreationModal'\n\ninterface TrainingVideoUploadProps {\n  onNext: () => void\n  onBack: () => void\n  avatarData: AvatarData\n  setAvatarData: (data: AvatarData) => void\n}\nexport const trainingVideoNameRef = { current: '' };\n\nexport default function TrainingVideoUpload({ onNext, onBack, avatarData, setAvatarData }: TrainingVideoUploadProps) {\n  const [avatarName, setAvatarName] = useState(trainingVideoNameRef.current || '');\n  const trainingUpload = useVideoUpload();\n\n  useEffect(() => {\n    if (avatarData.videoFile && !trainingUpload.uploadState.preview) {\n      trainingUpload.handleFileSelect(avatarData.videoFile, 'training');\n    }\n  }, [avatarData.videoFile]);\n\n  useEffect(() => {\n    if (trainingVideoNameRef.current) {\n      setAvatarName(trainingVideoNameRef.current);\n    }\n  }, []);\n\n  const handleAvatarNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const name = e.target.value;\n    setAvatarName(name);\n    trainingVideoNameRef.current = name;\n  };\n\n  const handleTrainingInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    trainingUpload.handleInputChange(e, 'training');\n    if (e.target.files && e.target.files[0]) {\n      setAvatarData({ ...avatarData, videoFile: e.target.files[0] });\n    }\n  };\n\n  const handleTrainingDrop = async (e: React.DragEvent) => {\n    trainingUpload.handleDrop(e, 'training');\n    const files = e.dataTransfer.files;\n    if (files && files[0]) {\n      setAvatarData({ ...avatarData, videoFile: files[0] });\n    }\n  };\n\n  const clearTrainingSelection = () => {\n    trainingUpload.clearSelection();\n    setAvatarData({ ...avatarData, videoFile: null });\n  };\n\n  const canProceed = avatarData.videoFile && trainingUpload.uploadState.isValid && !trainingUpload.uploadState.isValidating && avatarName.trim().length > 0;\n\n  return (\n    <div className=\"bg-white flex flex-col h-full\">\n\n      <div className=\"flex-1 flex flex-col items-center justify-center px-6\">\n        <div className=\"text-center mb-10 w-full max-w-2xl mx-auto\">\n          \n          <h2 className=\"text-[24px] font-semibold text-[#101010] mb-6 tracking-[-2%] leading-[120%]\">\n            Upload your footage\n          </h2>\n          <p className=\"text-[18px] text-[#5F5F5F] max-w-[710px] mx-auto leading-[24px]\">\n            For optimal, most test realistic results, we recommend uploading a video between 2 minutes to 4 minutes recorded with a high-resolution for optimal avatar creation.\n          </p>\n        </div>\n\n        <div className=\"w-full mb-8\">\n          <label htmlFor=\"avatarName\" className=\"block text-[14px] font-medium text-[#101010] mb-2\">\n            Avatar Name\n          </label>\n          <input\n            id=\"avatarName\"\n            type=\"text\"\n            value={avatarName}\n            onChange={handleAvatarNameChange}\n            placeholder=\"Enter your avatar name\"\n            className=\"w-full px-4 py-3 border border-[#D1D5DB] rounded-lg text-[14px] text-[#101010] placeholder-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[#5046E5] focus:border-transparent transition-all duration-200\"\n          />\n        </div>\n\n        <div className=\"w-full\">\n          <h3 className=\"text-[18px] font-semibold text-[#101010] mb-4\">Drag and drop training video</h3>\n          <div\n            className={`border-[2px] rounded-[8px] p-8 border-dashed transition-all min-h-[300px] duration-300 ${trainingUpload.getBorderClasses('training')}`}\n            onDragEnter={(e) => trainingUpload.handleDragEnter(e, 'training')}\n            onDragLeave={(e) => trainingUpload.handleDragLeave(e, 'training')}\n            onDragOver={trainingUpload.handleDragOver}\n            onDrop={handleTrainingDrop}\n          >\n            {!avatarData.videoFile ? (\n              <div className=\"flex flex-col items-center justify-center gap-6 h-full\">\n                <div className=\"text-center\">\n                  <h4 className=\"text-[20px] font-semibold text-[#101010] mb-4\">\n                    Drag and drop training video\n                  </h4>\n                  <p className=\"text-[14px] text-[#5F5F5F] text-center mb-6\">\n                    MP4 or MOV format, training footage must be between 30 seconds to 4 minutes\n                  </p>\n                  <button\n                    onClick={() => trainingUpload.fileInputRef.current?.click()}\n                    className=\"text-[#6366F1] font-normal transition-colors duration-300 hover:text-[#5046E5] text-[16px]\"\n                  >\n                    Browse local files\n                  </button>\n                </div>\n                <input\n                  ref={trainingUpload.fileInputRef}\n                  type=\"file\"\n                  accept=\"video/mp4,video/quicktime,.mp4,.mov\"\n                  onChange={handleTrainingInputChange}\n                  className=\"hidden\"\n                />\n              </div>\n            ) : (\n              <div className=\"flex flex-col gap-4\">\n                {(trainingUpload.uploadState.preview || avatarData.videoFile) && (\n                  <div className=\"relative rounded-lg overflow-hidden bg-black\">\n                    <video\n                      ref={trainingUpload.videoRef}\n                      src={trainingUpload.uploadState.preview || (avatarData.videoFile ? URL.createObjectURL(avatarData.videoFile) : '')}\n                      controls\n                      className=\"w-full max-h-[200px] object-contain\"\n                    />\n                  </div>\n                )}\n\n                <div className=\"flex items-start justify-between gap-3\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <p className=\"text-[14px] font-medium text-[#101010] truncate\">\n                        {avatarData.videoFile.name}\n                      </p>\n                      {trainingUpload.uploadState.isValidating && (\n                        <span className=\"text-[10px] text-[#6366F1]\">Validating...</span>\n                      )}\n                      {trainingUpload.uploadState.isValid && !trainingUpload.uploadState.isValidating && (\n                        <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                      )}\n                      {trainingUpload.uploadState.errors.length > 0 && !trainingUpload.uploadState.isValidating && (\n                        <AlertCircle className=\"w-4 h-4 text-red-500\" />\n                      )}\n                    </div>\n                    <p className=\"text-[12px] text-[#5F5F5F]\">\n                      {(avatarData.videoFile.size / (1024 * 1024)).toFixed(2)} MB\n                    </p>\n\n                    {trainingUpload.uploadState.errors.length > 0 && (\n                      <div className=\"mt-2 space-y-1\">\n                        {trainingUpload.uploadState.errors.map((error, index) => (\n                          <div key={index} className=\"flex items-start gap-1 text-red-600 text-[12px]\">\n                            <AlertCircle className=\"w-3 h-3 mt-0.5 flex-shrink-0\" />\n                            <span>{error.message}</span>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n\n                    {trainingUpload.uploadState.isValid && !trainingUpload.uploadState.isValidating && (\n                      <div className=\"mt-2 flex items-start gap-1 text-green-600 text-[12px]\">\n                        <CheckCircle className=\"w-3 h-3 mt-0.5 flex-shrink-0\" />\n                        <span>Training video is valid</span>\n                      </div>\n                    )}\n                  </div>\n\n                  <button\n                    onClick={clearTrainingSelection}\n                    className=\"p-1 hover:bg-[#F3F4F6] rounded-lg transition-colors duration-300\"\n                    title=\"Clear selection\"\n                  >\n                    <X className=\"w-4 h-4 text-[#5F5F5F]\" />\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n        <div className=\"w-full flex flex-col gap-4 mt-12\">\n          <button\n            onClick={onBack}\n            className=\"flex items-center gap-2 text-[#5F5F5F] hover:text-[#101010] transition-colors duration-200 font-medium text-[14px] self-start\"\n          >\n            <ArrowLeft className=\"w-4 h-4\" />\n            Back\n          </button>\n          <button\n            onClick={() => {\n              if (avatarData.avatarType === 'digital-twin' && avatarName.trim()) {\n                setAvatarData({ ...avatarData, name: avatarName.trim() });\n              }\n              onNext();\n            }}\n            disabled={!canProceed}\n            className={`px-8 py-[11.3px] font-semibold text-[20px] rounded-full transition-all duration-300 w-full border-2 ${\n              canProceed\n                ? 'bg-[#5046E5] text-white hover:text-[#5046E5] hover:bg-transparent border-[#5046E5] cursor-pointer'\n                : 'bg-[#D1D5DB] text-[#9CA3AF] border-[#D1D5DB] cursor-not-allowed'\n            }`}\n          >\n            {trainingUpload.uploadState.isValidating ? 'Validating...' : 'Next'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;;;AAJA;;;;AAaO,MAAM,uBAAuB;IAAE,SAAS;AAAG;AAEnC,SAAS,oBAAoB,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,aAAa,EAA4B;;IACjH,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,6LAAQ,EAAC,qBAAqB,OAAO,IAAI;IAC7E,MAAM,iBAAiB,IAAA,uKAAc;IAErC,IAAA,8LAAS;yCAAC;YACR,IAAI,WAAW,SAAS,IAAI,CAAC,eAAe,WAAW,CAAC,OAAO,EAAE;gBAC/D,eAAe,gBAAgB,CAAC,WAAW,SAAS,EAAE;YACxD;QACF;wCAAG;QAAC,WAAW,SAAS;KAAC;IAEzB,IAAA,8LAAS;yCAAC;YACR,IAAI,qBAAqB,OAAO,EAAE;gBAChC,cAAc,qBAAqB,OAAO;YAC5C;QACF;wCAAG,EAAE;IAEL,MAAM,yBAAyB,CAAC;QAC9B,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK;QAC3B,cAAc;QACd,qBAAqB,OAAO,GAAG;IACjC;IAEA,MAAM,4BAA4B,CAAC;QACjC,eAAe,iBAAiB,CAAC,GAAG;QACpC,IAAI,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE;YACvC,cAAc;gBAAE,GAAG,UAAU;gBAAE,WAAW,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;YAAC;QAC9D;IACF;IAEA,MAAM,qBAAqB,OAAO;QAChC,eAAe,UAAU,CAAC,GAAG;QAC7B,MAAM,QAAQ,EAAE,YAAY,CAAC,KAAK;QAClC,IAAI,SAAS,KAAK,CAAC,EAAE,EAAE;YACrB,cAAc;gBAAE,GAAG,UAAU;gBAAE,WAAW,KAAK,CAAC,EAAE;YAAC;QACrD;IACF;IAEA,MAAM,yBAAyB;QAC7B,eAAe,cAAc;QAC7B,cAAc;YAAE,GAAG,UAAU;YAAE,WAAW;QAAK;IACjD;IAEA,MAAM,aAAa,WAAW,SAAS,IAAI,eAAe,WAAW,CAAC,OAAO,IAAI,CAAC,eAAe,WAAW,CAAC,YAAY,IAAI,WAAW,IAAI,GAAG,MAAM,GAAG;IAExJ,qBACE,iNAAC;QAAI,WAAU;kBAEb,cAAA,iNAAC;YAAI,WAAU;;8BACb,iNAAC;oBAAI,WAAU;;sCAEb,iNAAC;4BAAG,WAAU;sCAA8E;;;;;;sCAG5F,iNAAC;4BAAE,WAAU;sCAAkE;;;;;;;;;;;;8BAKjF,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAM,SAAQ;4BAAa,WAAU;sCAAoD;;;;;;sCAG1F,iNAAC;4BACC,IAAG;4BACH,MAAK;4BACL,OAAO;4BACP,UAAU;4BACV,aAAY;4BACZ,WAAU;;;;;;;;;;;;8BAId,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAG,WAAU;sCAAgD;;;;;;sCAC9D,iNAAC;4BACC,WAAW,CAAC,uFAAuF,EAAE,eAAe,gBAAgB,CAAC,aAAa;4BAClJ,aAAa,CAAC,IAAM,eAAe,eAAe,CAAC,GAAG;4BACtD,aAAa,CAAC,IAAM,eAAe,eAAe,CAAC,GAAG;4BACtD,YAAY,eAAe,cAAc;4BACzC,QAAQ;sCAEP,CAAC,WAAW,SAAS,iBACpB,iNAAC;gCAAI,WAAU;;kDACb,iNAAC;wCAAI,WAAU;;0DACb,iNAAC;gDAAG,WAAU;0DAAgD;;;;;;0DAG9D,iNAAC;gDAAE,WAAU;0DAA8C;;;;;;0DAG3D,iNAAC;gDACC,SAAS,IAAM,eAAe,YAAY,CAAC,OAAO,EAAE;gDACpD,WAAU;0DACX;;;;;;;;;;;;kDAIH,iNAAC;wCACC,KAAK,eAAe,YAAY;wCAChC,MAAK;wCACL,QAAO;wCACP,UAAU;wCACV,WAAU;;;;;;;;;;;qDAId,iNAAC;gCAAI,WAAU;;oCACZ,CAAC,eAAe,WAAW,CAAC,OAAO,IAAI,WAAW,SAAS,mBAC1D,iNAAC;wCAAI,WAAU;kDACb,cAAA,iNAAC;4CACC,KAAK,eAAe,QAAQ;4CAC5B,KAAK,eAAe,WAAW,CAAC,OAAO,IAAI,CAAC,WAAW,SAAS,GAAG,IAAI,eAAe,CAAC,WAAW,SAAS,IAAI,EAAE;4CACjH,QAAQ;4CACR,WAAU;;;;;;;;;;;kDAKhB,iNAAC;wCAAI,WAAU;;0DACb,iNAAC;gDAAI,WAAU;;kEACb,iNAAC;wDAAI,WAAU;;0EACb,iNAAC;gEAAE,WAAU;0EACV,WAAW,SAAS,CAAC,IAAI;;;;;;4DAE3B,eAAe,WAAW,CAAC,YAAY,kBACtC,iNAAC;gEAAK,WAAU;0EAA6B;;;;;;4DAE9C,eAAe,WAAW,CAAC,OAAO,IAAI,CAAC,eAAe,WAAW,CAAC,YAAY,kBAC7E,iNAAC,iQAAW;gEAAC,WAAU;;;;;;4DAExB,eAAe,WAAW,CAAC,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC,eAAe,WAAW,CAAC,YAAY,kBACvF,iNAAC,0PAAW;gEAAC,WAAU;;;;;;;;;;;;kEAG3B,iNAAC;wDAAE,WAAU;;4DACV,CAAC,WAAW,SAAS,CAAC,IAAI,GAAG,CAAC,OAAO,IAAI,CAAC,EAAE,OAAO,CAAC;4DAAG;;;;;;;oDAGzD,eAAe,WAAW,CAAC,MAAM,CAAC,MAAM,GAAG,mBAC1C,iNAAC;wDAAI,WAAU;kEACZ,eAAe,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,sBAC7C,iNAAC;gEAAgB,WAAU;;kFACzB,iNAAC,0PAAW;wEAAC,WAAU;;;;;;kFACvB,iNAAC;kFAAM,MAAM,OAAO;;;;;;;+DAFZ;;;;;;;;;;oDAQf,eAAe,WAAW,CAAC,OAAO,IAAI,CAAC,eAAe,WAAW,CAAC,YAAY,kBAC7E,iNAAC;wDAAI,WAAU;;0EACb,iNAAC,iQAAW;gEAAC,WAAU;;;;;;0EACvB,iNAAC;0EAAK;;;;;;;;;;;;;;;;;;0DAKZ,iNAAC;gDACC,SAAS;gDACT,WAAU;gDACV,OAAM;0DAEN,cAAA,iNAAC,wNAAC;oDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAOzB,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,iNAAC,oPAAS;oCAAC,WAAU;;;;;;gCAAY;;;;;;;sCAGnC,iNAAC;4BACC,SAAS;gCACP,IAAI,WAAW,UAAU,KAAK,kBAAkB,WAAW,IAAI,IAAI;oCACjE,cAAc;wCAAE,GAAG,UAAU;wCAAE,MAAM,WAAW,IAAI;oCAAG;gCACzD;gCACA;4BACF;4BACA,UAAU,CAAC;4BACX,WAAW,CAAC,oGAAoG,EAC9G,aACI,sGACA,mEACJ;sCAED,eAAe,WAAW,CAAC,YAAY,GAAG,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;AAMzE;GArMwB;;QAEC,uKAAc;;;KAFf"}},
    {"offset": {"line": 4445, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/ConsentVideoUpload.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from \"react\";\nimport { X, CheckCircle, AlertCircle, ArrowLeft } from \"lucide-react\";\nimport { useVideoUpload } from \"../../../../hooks/useVideoUpload\";\nimport { apiService } from \"../../../../lib/api-service\";\nimport { AvatarData } from '../AvatarCreationModal'\nimport { trainingVideoNameRef } from './TrainingVideoUpload'\nimport { useUnifiedSocketContext } from \"../../../../components/providers/UnifiedSocketProvider\";\n\ninterface ConsentVideoUploadProps {\n  onNext: () => void\n  onBack: () => void\n  onClose?: () => void\n  avatarData: AvatarData\n  setAvatarData: (data: AvatarData) => void\n  onCreateStart?: () => void\n}\n\nexport default function ConsentVideoUpload({ onNext, onBack, onClose, avatarData, setAvatarData, onCreateStart }: ConsentVideoUploadProps) {\n  const [isCreating, setIsCreating] = useState(false);\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n  const consentUpload = useVideoUpload();\n  const { videoAvatarUpdates } = useUnifiedSocketContext();\n\n  useEffect(() => {\n    if (avatarData.consentVideoFile && !consentUpload.uploadState.preview) {\n      consentUpload.handleFileSelect(avatarData.consentVideoFile, 'consent');\n    }\n  }, [avatarData.consentVideoFile]);\n\n  useEffect(() => {\n    if (isCreating && videoAvatarUpdates.length > 0) {\n      const latestUpdate = videoAvatarUpdates[videoAvatarUpdates.length - 1];\n      if (latestUpdate.status === 'progress' || latestUpdate.status === 'error') {\n        console.log('ðŸŽ¬ Video avatar status update, closing modal:', latestUpdate.status);\n        if (onClose) {\n          onClose();\n        }\n      }\n    }\n  }, [videoAvatarUpdates, isCreating, onClose]);\n\n  const handleConsentInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    consentUpload.handleInputChange(e, 'consent');\n    if (e.target.files && e.target.files[0]) {\n      setAvatarData({ ...avatarData, consentVideoFile: e.target.files[0] });\n    }\n  };\n\n  const handleConsentDrop = async (e: React.DragEvent) => {\n    consentUpload.handleDrop(e, 'consent');\n    const files = e.dataTransfer.files;\n    if (files && files[0]) {\n      setAvatarData({ ...avatarData, consentVideoFile: files[0] });\n    }\n  };\n\n  const clearConsentSelection = () => {\n    consentUpload.clearSelection();\n    setAvatarData({ ...avatarData, consentVideoFile: null });\n  };\n\n  const handleCreate = async () => {\n    if (!avatarData.consentVideoFile || !avatarData.videoFile) {\n      return;\n    }\n\n    setIsCreating(true);\n    setErrorMessage(null);\n    \n    if (onCreateStart) {\n      onCreateStart();\n    }\n    \n    const avatarName = trainingVideoNameRef.current || avatarData.name || '';\n    try {\n      const result = await apiService.createVideoAvatar(\n        avatarData.videoFile,\n        avatarData.consentVideoFile,\n        avatarName\n      );\n      \n      if (!result.success) {\n        console.error('âŒ Video avatar creation failed:', result.message);\n        if (onClose) {\n          onClose();\n        }\n      }\n    } catch (error) {\n      console.error('âŒ Exception creating video avatar:', error);\n      if (onClose) {\n        onClose();\n      }\n    }\n  };\n\n  const canProceedConsent = avatarData.consentVideoFile && consentUpload.uploadState.isValid && !consentUpload.uploadState.isValidating;\n\n  return (\n    <div className=\"bg-white flex flex-col h-full\">\n      <div className=\"flex-1 flex flex-col items-center justify-center px-6\">\n        <div className=\"text-center mb-10 w-full max-w-[900px] mx-auto\">\n          <h2 className=\"text-[24px] font-semibold text-[#101010] mb-6 tracking-[-2%] leading-[120%]\">\n            Upload your footage\n          </h2>\n          <p className=\"text-[18px] text-[#5F5F5F] max-w-[710px] mx-auto leading-[24px]\">\n            Record a consent video to authorize the use of your footage for avatar creation.\n          </p>\n        </div>\n\n        <div className=\"w-full max-w-[900px] space-y-6\">\n          {/* Record Consent Section */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-[18px] font-semibold text-[#101010]\">Record Consent</h3>\n            <div className=\"bg-gray-50 rounded-lg p-6 border border-gray-200\">\n              <p className=\"text-[16px] text-[#5F5F5F] leading-[24px]\">\n                I, <strong>{trainingVideoNameRef.current || avatarData.name || '[full name]'}</strong>, hereby allow HeyGen to use the footage of me to build a HeyGen Avatar for use on the HeyGen platform.\n              </p>\n            </div>\n          </div>\n\n          {/* Drag and drop consent video */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-[18px] font-semibold text-[#101010]\">Drag and drop consent video</h3>\n            <div\n              className={`border-[2px] rounded-[8px] p-8 border-dashed transition-all min-h-[300px] duration-300 ${consentUpload.getBorderClasses('consent')}`}\n              onDragEnter={(e) => consentUpload.handleDragEnter(e, 'consent')}\n              onDragLeave={(e) => consentUpload.handleDragLeave(e, 'consent')}\n              onDragOver={consentUpload.handleDragOver}\n              onDrop={handleConsentDrop}\n            >\n              {!avatarData.consentVideoFile ? (\n                <div className=\"flex flex-col items-center justify-center gap-6 h-full\">\n                  <div className=\"text-center\">\n                    <h4 className=\"text-[20px] font-semibold text-[#101010] mb-4\">\n                      Drag and drop consent video\n                    </h4>\n                    <p className=\"text-[14px] text-[#5F5F5F] text-center mb-6\">\n                      MP4 or MOV format, max 20 seconds, minimum 720p\n                    </p>\n                    <button\n                      onClick={() => consentUpload.fileInputRef.current?.click()}\n                      className=\"text-[#6366F1] font-normal transition-colors duration-300 hover:text-[#5046E5] text-[16px]\"\n                    >\n                      Browse local files\n                    </button>\n                  </div>\n                  <input\n                    ref={consentUpload.fileInputRef}\n                    type=\"file\"\n                    accept=\"video/mp4,video/quicktime,.mp4,.mov\"\n                    onChange={handleConsentInputChange}\n                    className=\"hidden\"\n                  />\n                </div>\n              ) : (\n                <div className=\"flex flex-col gap-4\">\n                  {(consentUpload.uploadState.preview || avatarData.consentVideoFile) && (\n                    <div className=\"relative rounded-lg overflow-hidden bg-black\">\n                      <video\n                        ref={consentUpload.videoRef}\n                        src={consentUpload.uploadState.preview || (avatarData.consentVideoFile ? URL.createObjectURL(avatarData.consentVideoFile) : '')}\n                        controls\n                        className=\"w-full max-h-[200px] object-contain\"\n                      />\n                    </div>\n                  )}\n\n                  <div className=\"flex items-start justify-between gap-3\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <p className=\"text-[14px] font-medium text-[#101010] truncate\">\n                          {avatarData.consentVideoFile.name}\n                        </p>\n                        {consentUpload.uploadState.isValidating && (\n                          <span className=\"text-[10px] text-[#6366F1]\">Validating...</span>\n                        )}\n                        {consentUpload.uploadState.isValid && !consentUpload.uploadState.isValidating && (\n                          <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                        )}\n                        {consentUpload.uploadState.errors.length > 0 && !consentUpload.uploadState.isValidating && (\n                          <AlertCircle className=\"w-4 h-4 text-red-500\" />\n                        )}\n                      </div>\n                      <p className=\"text-[12px] text-[#5F5F5F]\">\n                        {(avatarData.consentVideoFile.size / (1024 * 1024)).toFixed(2)} MB\n                      </p>\n\n                      {consentUpload.uploadState.errors.length > 0 && (\n                        <div className=\"mt-2 space-y-1\">\n                          {consentUpload.uploadState.errors.map((error, index) => (\n                            <div key={index} className=\"flex items-start gap-1 text-red-600 text-[12px]\">\n                              <AlertCircle className=\"w-3 h-3 mt-0.5 flex-shrink-0\" />\n                              <span>{error.message}</span>\n                            </div>\n                          ))}\n                        </div>\n                      )}\n\n                      {consentUpload.uploadState.isValid && !consentUpload.uploadState.isValidating && (\n                        <div className=\"mt-2 flex items-start gap-1 text-green-600 text-[12px]\">\n                          <CheckCircle className=\"w-3 h-3 mt-0.5 flex-shrink-0\" />\n                          <span>Consent video is valid</span>\n                        </div>\n                      )}\n                    </div>\n\n                    <button\n                      onClick={clearConsentSelection}\n                      className=\"p-1 hover:bg-[#F3F4F6] rounded-lg transition-colors duration-300\"\n                      title=\"Clear selection\"\n                    >\n                      <X className=\"w-4 h-4 text-[#5F5F5F]\" />\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Error Message */}\n        {errorMessage && (\n          <div className=\"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\n            <p className=\"text-red-600 text-[14px]\">{errorMessage}</p>\n          </div>\n        )}\n        <div className=\"w-full flex flex-col gap-4 mt-12 max-w-[900px]\">\n          {isCreating ? (\n            <p className=\"px-8 py-[11.3px] font-semibold text-[20px] text-center text-[#5F5F5F]\">\n              Your avatar is being created! Usually takes 2-3 minutes.\n            </p>\n          ) : (\n            <>\n              <button\n                onClick={onBack}\n                className=\"flex items-center gap-2 text-[#5F5F5F] hover:text-[#101010] transition-colors duration-200 font-medium text-[14px] self-start\"\n              >\n                <ArrowLeft className=\"w-4 h-4\" />\n                Back\n              </button>\n              <button\n                onClick={handleCreate}\n                disabled={!canProceedConsent}\n                className={`px-8 py-[11.3px] font-semibold text-[20px] rounded-full transition-all duration-300 w-full border-2 ${canProceedConsent\n                    ? 'bg-[#5046E5] text-white hover:text-[#5046E5] hover:bg-transparent border-[#5046E5] cursor-pointer'\n                    : 'bg-[#D1D5DB] text-[#9CA3AF] border-[#D1D5DB] cursor-not-allowed'\n                  }`}\n              >\n                {consentUpload.uploadState.isValidating ? 'Validating...' : 'Create'}\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4966, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/constants.ts"],"sourcesContent":["export const MAX_VIDEO_SIZE = 500 * 1024 * 1024; // 500MB\nexport const MIN_VIDEO_DURATION = 3; // 3 seconds minimum\nexport const MAX_VIDEO_DURATION = 120; // 2 minutes maximum\nexport const SUPPORTED_FORMATS = [\n  'video/mp4', \n  'video/webm', \n  'video/webm;codecs=vp8',\n  'video/webm;codecs=vp9',\n  'video/quicktime', \n  'video/x-msvideo'\n];\n\n// Audio constants for voice avatar\nexport const MAX_AUDIO_SIZE = 10 * 1024 * 1024; // 10MB\nexport const MIN_AUDIO_DURATION = 30; // 30 seconds minimum (for recording)\nexport const MAX_AUDIO_DURATION = 180; // 3 minutes maximum (for recording)\nexport const SUPPORTED_AUDIO_FORMATS = [\n  'audio/mpeg',\n  'audio/mp3'\n];\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAO,MAAM,iBAAiB,MAAM,OAAO,MAAM,QAAQ;AAClD,MAAM,qBAAqB,GAAG,oBAAoB;AAClD,MAAM,qBAAqB,KAAK,oBAAoB;AACpD,MAAM,oBAAoB;IAC/B;IACA;IACA;IACA;IACA;IACA;CACD;AAGM,MAAM,iBAAiB,KAAK,OAAO,MAAM,OAAO;AAChD,MAAM,qBAAqB,IAAI,qCAAqC;AACpE,MAAM,qBAAqB,KAAK,oCAAoC;AACpE,MAAM,0BAA0B;IACrC;IACA;CACD"}},
    {"offset": {"line": 5009, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/hooks/useAudioRecording.ts"],"sourcesContent":["import { useRef, useState, useEffect } from 'react';\nimport { MIN_AUDIO_DURATION, MAX_AUDIO_DURATION } from '../constants';\n\nexport const useAudioRecording = () => {\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null);\n  const streamRef = useRef<MediaStream | null>(null);\n  const recordingIntervalRef = useRef<NodeJS.Timeout | null>(null);\n  const recordingTimeRef = useRef<number>(0); // Use ref to track current time for closures\n  \n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (isRecording) {\n      recordingIntervalRef.current = setInterval(() => {\n        setRecordingTime(prev => {\n          const newTime = prev + 1;\n          recordingTimeRef.current = newTime; // Update ref with latest time\n          if (newTime >= MAX_AUDIO_DURATION) {\n            // Auto-stop at exactly 3 minutes - stop recording and save file\n            stopRecording(newTime);\n            return newTime; // Return newTime so it shows 3:00 before stopping\n          }\n          return newTime;\n        });\n      }, 1000);\n    } else {\n      if (recordingIntervalRef.current) {\n        clearInterval(recordingIntervalRef.current);\n        recordingIntervalRef.current = null;\n      }\n    }\n    return () => {\n      if (recordingIntervalRef.current) clearInterval(recordingIntervalRef.current);\n    };\n  }, [isRecording]);\n\n  useEffect(() => {\n    return () => {\n      if (streamRef.current) streamRef.current.getTracks().forEach(track => track.stop());\n      if (recordingIntervalRef.current) clearInterval(recordingIntervalRef.current);\n      if (mediaRecorderRef.current && mediaRecorderRef.current.state !== 'inactive') {\n        mediaRecorderRef.current.stop();\n      }\n    };\n  }, []);\n\n  const stopRecording = (currentTime?: number) => {\n    // Use provided currentTime or get from state (may be stale due to closure)\n    const durationToCheck = currentTime !== undefined ? currentTime : recordingTime;\n    \n    // Allow auto-stop at exactly 3 minutes (MAX_AUDIO_DURATION) without minimum check\n    const isAutoStopAtMax = durationToCheck >= MAX_AUDIO_DURATION;\n    \n    // Check minimum duration before stopping (unless it's auto-stop at max duration)\n    if (!isAutoStopAtMax && durationToCheck < MIN_AUDIO_DURATION) {\n      setError(`Recording is too short (${durationToCheck}s). Minimum duration is ${MIN_AUDIO_DURATION} seconds. Please continue recording.`);\n      return;\n    }\n    \n    if (mediaRecorderRef.current && mediaRecorderRef.current.state !== 'inactive') {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n    }\n  };\n\n  const startRecording = (onAudioRecorded: (file: File) => void, onError: (error: string) => void) => {\n    if (!streamRef.current) {\n      onError('Microphone access is not available.');\n      return;\n    }\n\n    try {\n      setError('')\n      const mimeType = MediaRecorder.isTypeSupported('audio/webm') ? 'audio/webm'\n        : MediaRecorder.isTypeSupported('audio/mp4') ? 'audio/mp4'\n        : MediaRecorder.isTypeSupported('audio/ogg') ? 'audio/ogg' : '';\n      \n      if (!mimeType) {\n        onError('Your browser does not support audio recording. Please upload an audio file instead.');\n        return;\n      }\n\n      const mediaRecorder = new MediaRecorder(streamRef.current, { mimeType });\n      mediaRecorderRef.current = mediaRecorder;\n      setRecordingTime(0);\n      recordingTimeRef.current = 0; // Reset ref\n      setError(null);\n\n      const chunks: Blob[] = [];\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data?.size > 0) chunks.push(event.data);\n      };\n\n      mediaRecorder.onstop = () => {\n        if (chunks.length === 0) {\n          onError('Recording failed. No data was captured.');\n          return;\n        }\n        const blob = new Blob(chunks, { type: mimeType });\n        if (blob.size === 0) {\n          onError('Recording failed. The audio file is empty.');\n          return;\n        }\n        \n        // Validate recording duration - use ref to get latest value (recordingTime state may be stale in closure)\n        const currentDuration = recordingTimeRef.current;\n        if (currentDuration < MIN_AUDIO_DURATION) {\n          onError(`Recording is too short (${currentDuration}s). Minimum duration is ${MIN_AUDIO_DURATION} seconds.`);\n          stopMicrophone();\n          return;\n        }\n        // Allow exactly MAX_AUDIO_DURATION (3 minutes) - auto-stop saves the file\n        if (currentDuration > MAX_AUDIO_DURATION) {\n          onError(`Recording is too long (${currentDuration}s). Maximum duration is ${MAX_AUDIO_DURATION} seconds (3 minutes).`);\n          stopMicrophone();\n          return;\n        }\n        // If duration is exactly MAX_AUDIO_DURATION, it means auto-stop at 3 minutes - save the file\n        \n        const file = new File([blob], `voice-recording-${Date.now()}.webm`, { type: mimeType });\n        onAudioRecorded(file);\n        stopMicrophone();\n      };\n\n      mediaRecorder.onerror = () => {\n        onError('An error occurred during recording.');\n        setIsRecording(false);\n      };\n\n      mediaRecorder.start(100);\n      setIsRecording(true);\n    } catch {\n      onError('Failed to start recording. Please try again or upload an audio file instead.');\n    }\n  };\n\n  const requestMicrophone = async () => {\n    setError(null);\n    try {\n      if (!navigator.mediaDevices?.getUserMedia) {\n        setError('Your browser does not support microphone access.');\n        return false;\n      }\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      streamRef.current = stream;\n      return true;\n    } catch (err: any) {\n      const errorMessages: Record<string, string> = {\n        'NotAllowedError': 'Microphone access was denied. Please allow permissions.',\n        'PermissionDeniedError': 'Microphone access was denied. Please allow permissions.',\n        'NotFoundError': 'No microphone found.',\n        'NotReadableError': 'Microphone is already in use.'\n      };\n      setError(errorMessages[err.name] || 'Unable to access microphone.');\n      return false;\n    }\n  };\n\n  const stopMicrophone = () => {\n    if (streamRef.current) streamRef.current.getTracks().forEach(track => track.stop());\n    if (recordingIntervalRef.current) clearInterval(recordingIntervalRef.current);\n    setIsRecording(false);\n    setRecordingTime(0);\n    recordingTimeRef.current = 0; // Reset ref\n    setError(null);\n  };\n\n  const formatTime = (seconds: number) => {\n    const hrs = Math.floor(seconds / 3600);\n    const mins = Math.floor((seconds % 3600) / 60);\n    const secs = seconds % 60;\n    return `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  return { isRecording, recordingTime, error, startRecording, stopRecording, requestMicrophone, stopMicrophone, formatTime };\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5214, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/hooks/useBlobUrls.ts"],"sourcesContent":["import { useState, useEffect, useRef } from 'react'\n\nexport const useBlobUrls = (files: (File | null)[]) => {\n  const [blobUrls, setBlobUrls] = useState<{ [key: number]: string }>({})\n  const blobUrlRefs = useRef<{ [key: number]: string }>({})\n\n  useEffect(() => {\n    const newUrls: { [key: number]: string } = {}\n    \n    files.forEach((file, index) => {\n      if (file !== null) {\n        const existingUrl = blobUrlRefs.current[index]\n        \n        if (!existingUrl) {\n          const url = URL.createObjectURL(file)\n          blobUrlRefs.current[index] = url\n          newUrls[index] = url\n        } else {\n          newUrls[index] = existingUrl\n        }\n      } else {\n        if (blobUrlRefs.current[index]) {\n          URL.revokeObjectURL(blobUrlRefs.current[index])\n          delete blobUrlRefs.current[index]\n        }\n      }\n    })\n    \n    setBlobUrls(newUrls)\n  }, [files])\n\n  useEffect(() => {\n    const currentBlobUrls = blobUrlRefs.current\n    return () => {\n      Object.values(currentBlobUrls).forEach(url => {\n        URL.revokeObjectURL(url)\n      })\n      blobUrlRefs.current = {}\n    }\n  }, [])\n\n  const revokeBlobUrl = (index: number) => {\n    if (blobUrlRefs.current[index]) {\n      URL.revokeObjectURL(blobUrlRefs.current[index])\n      delete blobUrlRefs.current[index]\n      setBlobUrls(prev => {\n        const updated = { ...prev }\n        delete updated[index]\n        return updated\n      })\n    }\n  }\n\n  return { blobUrls, revokeBlobUrl }\n}\n\n"],"names":[],"mappings":";;;;AAAA;;;AAEO,MAAM,cAAc,CAAC;;IAC1B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6LAAQ,EAA4B,CAAC;IACrE,MAAM,cAAc,IAAA,2LAAM,EAA4B,CAAC;IAEvD,IAAA,8LAAS;iCAAC;YACR,MAAM,UAAqC,CAAC;YAE5C,MAAM,OAAO;yCAAC,CAAC,MAAM;oBACnB,IAAI,SAAS,MAAM;wBACjB,MAAM,cAAc,YAAY,OAAO,CAAC,MAAM;wBAE9C,IAAI,CAAC,aAAa;4BAChB,MAAM,MAAM,IAAI,eAAe,CAAC;4BAChC,YAAY,OAAO,CAAC,MAAM,GAAG;4BAC7B,OAAO,CAAC,MAAM,GAAG;wBACnB,OAAO;4BACL,OAAO,CAAC,MAAM,GAAG;wBACnB;oBACF,OAAO;wBACL,IAAI,YAAY,OAAO,CAAC,MAAM,EAAE;4BAC9B,IAAI,eAAe,CAAC,YAAY,OAAO,CAAC,MAAM;4BAC9C,OAAO,YAAY,OAAO,CAAC,MAAM;wBACnC;oBACF;gBACF;;YAEA,YAAY;QACd;gCAAG;QAAC;KAAM;IAEV,IAAA,8LAAS;iCAAC;YACR,MAAM,kBAAkB,YAAY,OAAO;YAC3C;yCAAO;oBACL,OAAO,MAAM,CAAC,iBAAiB,OAAO;iDAAC,CAAA;4BACrC,IAAI,eAAe,CAAC;wBACtB;;oBACA,YAAY,OAAO,GAAG,CAAC;gBACzB;;QACF;gCAAG,EAAE;IAEL,MAAM,gBAAgB,CAAC;QACrB,IAAI,YAAY,OAAO,CAAC,MAAM,EAAE;YAC9B,IAAI,eAAe,CAAC,YAAY,OAAO,CAAC,MAAM;YAC9C,OAAO,YAAY,OAAO,CAAC,MAAM;YACjC,YAAY,CAAA;gBACV,MAAM,UAAU;oBAAE,GAAG,IAAI;gBAAC;gBAC1B,OAAO,OAAO,CAAC,MAAM;gBACrB,OAAO;YACT;QACF;IACF;IAEA,OAAO;QAAE;QAAU;IAAc;AACnC;GApDa"}},
    {"offset": {"line": 5293, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/utils/voiceRecordingUtils.ts"],"sourcesContent":["export const ensureFilesArrayLength = (files: (File | null)[], length: number = 3): (File | null)[] => {\n  const result = [...files]\n  while (result.length < length) {\n    result.push(null)\n  }\n  return result.slice(0, length)\n}\n\nexport const updateFileInArray = (\n  files: (File | null)[],\n  index: number,\n  file: File | null\n): (File | null)[] => {\n  const updated = [...files]\n  updated[index] = file\n  return ensureFilesArrayLength(updated)\n}\n\nexport const formatFileSize = (bytes: number): string => {\n  return (bytes / 1024 / 1024).toFixed(2) + ' MB'\n}\n\nexport const getRecordedCount = (files: (File | null)[]): number => {\n  return files.filter(f => f !== null).length\n}\n\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,yBAAyB,CAAC,OAAwB,SAAiB,CAAC;IAC/E,MAAM,SAAS;WAAI;KAAM;IACzB,MAAO,OAAO,MAAM,GAAG,OAAQ;QAC7B,OAAO,IAAI,CAAC;IACd;IACA,OAAO,OAAO,KAAK,CAAC,GAAG;AACzB;AAEO,MAAM,oBAAoB,CAC/B,OACA,OACA;IAEA,MAAM,UAAU;WAAI;KAAM;IAC1B,OAAO,CAAC,MAAM,GAAG;IACjB,OAAO,uBAAuB;AAChC;AAEO,MAAM,iBAAiB,CAAC;IAC7B,OAAO,CAAC,QAAQ,OAAO,IAAI,EAAE,OAAO,CAAC,KAAK;AAC5C;AAEO,MAAM,mBAAmB,CAAC;IAC/B,OAAO,MAAM,MAAM,CAAC,CAAA,IAAK,MAAM,MAAM,MAAM;AAC7C"}},
    {"offset": {"line": 5332, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/VoiceRecordingSlot.tsx"],"sourcesContent":["'use client'\n\nimport { useRef } from 'react'\nimport { Mic, X, CheckCircle2 } from 'lucide-react'\nimport { MIN_AUDIO_DURATION, MAX_AUDIO_DURATION } from './constants'\nimport { formatFileSize } from './utils/voiceRecordingUtils'\n\ninterface VoiceRecordingSlotProps {\n  slotIndex: number\n  file: File | null\n  blobUrl: string | undefined\n  isRecording: boolean\n  recordingTime: number\n  formatTime: (seconds: number) => string\n  onRecord: () => void\n  onStop: () => void\n  onCancel: () => void\n  onDelete: () => void\n  disabled?: boolean\n}\n\nexport default function VoiceRecordingSlot({\n  slotIndex,\n  file,\n  blobUrl,\n  isRecording,\n  recordingTime,\n  formatTime,\n  onRecord,\n  onStop,\n  onCancel,\n  onDelete,\n  disabled = false\n}: VoiceRecordingSlotProps) {\n  const audioRef = useRef<HTMLAudioElement>(null)\n  const isRecorded = file !== null && !isRecording\n\n  return (\n    <div className={`border transition-all duration-300 ${isRecorded ? 'border-green-500' : 'border-gray-200'} rounded-lg p-4 space-y-4 ${isRecorded ? 'bg-green-50/50' : 'hover:bg-gray-50'}`}>\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <h3 className=\"text-[16px] font-semibold text-[#101010]\">\n            Voice Sample {slotIndex + 1}\n            {slotIndex === 0 && <span className=\"text-red-500 ml-1\">*</span>}\n            {slotIndex > 0 && <span className=\"text-[#5F5F5F] text-sm font-normal ml-2\">(Optional)</span>}\n          </h3>\n          {isRecorded && <CheckCircle2 className=\"w-5 h-5 text-green-500\" />}\n        </div>\n        {isRecorded && (\n          <button \n            onClick={onDelete} \n            className=\"text-red-500 hover:text-red-700 transition-colors\"\n            aria-label=\"Delete recording\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        )}\n      </div>\n\n      {!file && !isRecording && (\n        <div className=\"flex flex-col items-center justify-center py-6\">\n          <button \n            onClick={onRecord} \n            disabled={disabled}\n            className=\"bg-[#5046E5] hover:bg-transparent hover:text-[#5046E5] text-white px-8 py-3 rounded-full font-medium hover:bg-[#4338CA] transition-colors duration-300 flex items-center gap-3 justify-center text-base disabled:opacity-50 disabled:cursor-not-allowed border-2 border-[#5046E5]\"\n          >\n            <Mic className=\"w-5 h-5\" />\n            Start Recording\n          </button>\n        </div>\n      )}\n\n      {isRecording && (\n        <div className=\"flex flex-col items-center gap-4 p-4\">\n          <p className=\"text-[16px] font-semibold text-[#101010]\">\n            Recording Voice {slotIndex + 1} â€¢ {formatTime(recordingTime)}\n          </p>\n          {recordingTime < MIN_AUDIO_DURATION && recordingTime < MAX_AUDIO_DURATION && (\n            <p className=\"text-[14px] text-orange-600 font-normal\">\n              Continue recording... Minimum {MIN_AUDIO_DURATION} seconds required ({recordingTime}s)\n            </p>\n          )}\n          {recordingTime >= MAX_AUDIO_DURATION && (\n            <p className=\"text-[14px] text-green-600 font-normal\">\n              Recording complete! Saving audio file...\n            </p>\n          )}\n          <div className=\"flex items-center gap-4\">\n            <button \n              onClick={onCancel} \n              className=\"bg-gray-500 text-white px-4 py-2 rounded-full hover:bg-gray-600 transition-colors\"\n              aria-label=\"Cancel recording\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n            <button \n              onClick={onStop} \n              disabled={recordingTime < MIN_AUDIO_DURATION}\n              className={`px-6 py-2 rounded-full transition-colors ${\n                recordingTime >= MIN_AUDIO_DURATION \n                  ? 'bg-red-500 text-white hover:bg-red-600' \n                  : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n              }`}\n              aria-label=\"Stop recording\"\n            >\n              <div className=\"w-4 h-4 bg-white rounded-full\"></div>\n            </button>\n          </div>\n        </div>\n      )}\n\n      {isRecorded && file && (\n        <div className=\"space-y-3\">\n          <div className=\"flex items-center justify-between p-3 bg-green-50/50 rounded-lg\">\n            <div>\n              <p className=\"font-semibold text-[#101010] text-sm\">{file.name}</p>\n              <p className=\"text-xs text-[#5F5F5F]\">{formatFileSize(file.size)}</p>\n            </div>\n          </div>\n          {blobUrl && (\n            <audio \n              ref={audioRef} \n              src={blobUrl} \n              controls \n              className=\"w-full\"\n              preload=\"metadata\"\n            />\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;;;AALA;;;;;AAqBe,SAAS,mBAAmB,EACzC,SAAS,EACT,IAAI,EACJ,OAAO,EACP,WAAW,EACX,aAAa,EACb,UAAU,EACV,QAAQ,EACR,MAAM,EACN,QAAQ,EACR,QAAQ,EACR,WAAW,KAAK,EACQ;;IACxB,MAAM,WAAW,IAAA,2LAAM,EAAmB;IAC1C,MAAM,aAAa,SAAS,QAAQ,CAAC;IAErC,qBACE,iNAAC;QAAI,WAAW,CAAC,mCAAmC,EAAE,aAAa,qBAAqB,kBAAkB,0BAA0B,EAAE,aAAa,mBAAmB,oBAAoB;;0BACxL,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCAAG,WAAU;;oCAA2C;oCACzC,YAAY;oCACzB,cAAc,mBAAK,iNAAC;wCAAK,WAAU;kDAAoB;;;;;;oCACvD,YAAY,mBAAK,iNAAC;wCAAK,WAAU;kDAA0C;;;;;;;;;;;;4BAE7E,4BAAc,iNAAC,4PAAY;gCAAC,WAAU;;;;;;;;;;;;oBAExC,4BACC,iNAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEX,cAAA,iNAAC,wNAAC;4BAAC,WAAU;;;;;;;;;;;;;;;;;YAKlB,CAAC,QAAQ,CAAC,6BACT,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBACC,SAAS;oBACT,UAAU;oBACV,WAAU;;sCAEV,iNAAC,8NAAG;4BAAC,WAAU;;;;;;wBAAY;;;;;;;;;;;;YAMhC,6BACC,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAE,WAAU;;4BAA2C;4BACrC,YAAY;4BAAE;4BAAI,WAAW;;;;;;;oBAE/C,gBAAgB,gNAAkB,IAAI,gBAAgB,gNAAkB,kBACvE,iNAAC;wBAAE,WAAU;;4BAA0C;4BACtB,gNAAkB;4BAAC;4BAAoB;4BAAc;;;;;;;oBAGvF,iBAAiB,gNAAkB,kBAClC,iNAAC;wBAAE,WAAU;kCAAyC;;;;;;kCAIxD,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCACC,SAAS;gCACT,WAAU;gCACV,cAAW;0CAEX,cAAA,iNAAC,wNAAC;oCAAC,WAAU;;;;;;;;;;;0CAEf,iNAAC;gCACC,SAAS;gCACT,UAAU,gBAAgB,gNAAkB;gCAC5C,WAAW,CAAC,yCAAyC,EACnD,iBAAiB,gNAAkB,GAC/B,2CACA,gDACJ;gCACF,cAAW;0CAEX,cAAA,iNAAC;oCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;YAMtB,cAAc,sBACb,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAI,WAAU;kCACb,cAAA,iNAAC;;8CACC,iNAAC;oCAAE,WAAU;8CAAwC,KAAK,IAAI;;;;;;8CAC9D,iNAAC;oCAAE,WAAU;8CAA0B,IAAA,+NAAc,EAAC,KAAK,IAAI;;;;;;;;;;;;;;;;;oBAGlE,yBACC,iNAAC;wBACC,KAAK;wBACL,KAAK;wBACL,QAAQ;wBACR,WAAU;wBACV,SAAQ;;;;;;;;;;;;;;;;;;AAOtB;GA/GwB;KAAA"}},
    {"offset": {"line": 5606, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/VoiceAudioUpload.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useMemo } from 'react'\nimport { ArrowLeft } from 'lucide-react'\nimport { MIN_AUDIO_DURATION, MAX_AUDIO_DURATION } from './constants'\nimport { useAudioRecording } from './hooks/useAudioRecording'\nimport { useBlobUrls } from './hooks/useBlobUrls'\nimport { AvatarData } from '../AvatarCreationModal'\nimport VoiceRecordingSlot from './VoiceRecordingSlot'\nimport { ensureFilesArrayLength, updateFileInArray, getRecordedCount } from './utils/voiceRecordingUtils'\n\ninterface VoiceAudioUploadProps { \n  onNext: () => void\n  onBack: () => void\n  avatarData: AvatarData\n  setAvatarData: (data: AvatarData) => void\n}\n\nexport default function VoiceAudioUpload({ onNext, onBack, avatarData, setAvatarData }: VoiceAudioUploadProps) {\n  const [error, setError] = useState<string | null>(null)\n  const [activeRecordingSlot, setActiveRecordingSlot] = useState<number | null>(null)\n  const SLOT_COUNT = 3\n  const paddedFiles = useMemo(() => {\n    const audioFiles = avatarData.audioFiles || []\n    return ensureFilesArrayLength(audioFiles, SLOT_COUNT)\n  }, [avatarData.audioFiles])\n\n  const { blobUrls, revokeBlobUrl } = useBlobUrls(paddedFiles)\n  const { isRecording, recordingTime, error: recordingError, startRecording, stopRecording, requestMicrophone, stopMicrophone, formatTime } = useAudioRecording()\n\n  useEffect(() => {\n    if (recordingError) {\n      setError(recordingError)\n      setActiveRecordingSlot(null)\n    }\n  }, [recordingError])\n\n  useEffect(() => {\n    if (error) {\n      const timer = setTimeout(() => {\n        setError(null)\n      }, 10000)\n      return () => clearTimeout(timer)\n    }\n  }, [error])\n\n  const handleRecordClick = async (slotIndex: number) => {\n    setError(null)\n    setActiveRecordingSlot(slotIndex)\n    const hasAccess = await requestMicrophone()\n    \n    if (hasAccess) {\n      startRecording(\n        (file) => {\n          const updatedFiles = updateFileInArray(paddedFiles, slotIndex, file)\n          setAvatarData({ ...avatarData, audioFiles: updatedFiles.filter(f => f !== null) as File[] })\n          setActiveRecordingSlot(null)\n        },\n        (err) => {\n          setError(err)\n          setActiveRecordingSlot(null)\n        }\n      )\n    } else {\n      setActiveRecordingSlot(null)\n    }\n  }\n\n  const handleStopRecording = () => {\n    if (activeRecordingSlot !== null) {\n      stopRecording(recordingTime)\n      setActiveRecordingSlot(null)\n    }\n  }\n\n  const handleCancelRecording = () => {\n    stopMicrophone()\n    setActiveRecordingSlot(null)\n  }\n\n  const handleDeleteRecording = (slotIndex: number) => {\n    revokeBlobUrl(slotIndex)\n    const updatedFiles = updateFileInArray(paddedFiles, slotIndex, null)\n    setAvatarData({ ...avatarData, audioFiles: updatedFiles.filter(f => f !== null) as File[] })\n  }\n\n  const recordedCount = getRecordedCount(paddedFiles)\n  const hasMinimumRequired = recordedCount >= 1\n\n  return (\n    <div className=\"flex flex-col h-full\">\n      <div className=\"flex-1 overflow-y-auto pr-2 space-y-4\">\n        <div className=\"text-left\">\n          <p className=\"text-[16px] text-[#5F5F5F] font-normal leading-[24px]\">\n          Record at least 1 voice sample (required) to create a high-quality voice clone. You can optionally record up to 2 additional samples for better quality. The speaking style in the samples you provide will be replicated in the output, so depending on what delivery you are looking for, the training data should correspond to that style (e.g. if you want a more engaging, up-beat vocalization, make sure your voice reflects the tones and inflections that reflect that style). It is better to just include one style in the uploaded samples for consistencies sake.\n          </p>\n          <p className=\"text-[14px] text-[#5F5F5F] font-normal leading-[18px] mt-2\">\n            Recording duration: minimum {MIN_AUDIO_DURATION} seconds, maximum {MAX_AUDIO_DURATION / 60} minutes per sample\n          </p>\n          {recordedCount > 0 && (\n            <p className=\"text-[14px] text-[#5046E5] font-medium mt-2\">\n              Progress: {recordedCount}/{SLOT_COUNT} voice samples recorded (minimum 1 required)\n            </p>\n          )}\n        </div>\n\n        <div className=\"space-y-4\">\n          {Array.from({ length: SLOT_COUNT }, (_, index) => (\n            <VoiceRecordingSlot\n              key={index}\n              slotIndex={index}\n              file={paddedFiles[index]}\n              blobUrl={blobUrls[index]}\n              isRecording={activeRecordingSlot === index && isRecording}\n              recordingTime={recordingTime}\n              formatTime={formatTime}\n              onRecord={() => handleRecordClick(index)}\n              onStop={handleStopRecording}\n              onCancel={handleCancelRecording}\n              onDelete={() => handleDeleteRecording(index)}\n              disabled={activeRecordingSlot !== null && activeRecordingSlot !== index}\n            />\n          ))}\n        </div>\n\n        {/* {error && (\n          <div className=\"p-3 bg-red-50 border border-red-200 rounded-lg\">\n            <p className=\"text-red-600 text-sm\">{error}</p>\n          </div>\n        )} */}\n      </div>\n\n      <div className=\"flex flex-col gap-2 pt-4 mt-auto\">\n        <button onClick={onBack} className=\"flex items-center gap-2 text-[#667085] hover:text-[#5046E5] transition-colors duration-300 w-fit\">\n          <ArrowLeft className=\"w-4 h-4\" />\n          Back\n        </button>\n        <button \n          onClick={onNext} \n          disabled={!hasMinimumRequired}\n          className={`px-8 py-[11.3px] font-semibold text-[20px] rounded-full transition-colors duration-300 w-full ${\n            hasMinimumRequired \n              ? 'bg-[#5046E5] text-white hover:text-[#5046E5] hover:bg-transparent border-2 border-[#5046E5]' \n              : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n          }`}\n        >\n          {hasMinimumRequired \n            ? 'Continue' \n            : recordedCount === 0 \n              ? 'Record at least 1 voice sample' \n              : `Record ${SLOT_COUNT - recordedCount} more sample${SLOT_COUNT - recordedCount !== 1 ? 's' : ''} (optional)`\n          }\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5852, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/VoiceAvatarDetails.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { ArrowLeft, AlertCircle } from 'lucide-react'\nimport { IoMdArrowDropdown } from 'react-icons/io'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '@/store'\nimport { apiService } from '@/lib/api-service'\nimport { useUnifiedSocketContext } from '@/components/providers/UnifiedSocketProvider'\nimport Checkbox from '../../checkbox'\nimport { AvatarData } from '../AvatarCreationModal'\nimport { useNotificationStore } from '../../global-notification'\n\ninterface VoiceAvatarDetailsProps {\n  onBack: () => void\n  avatarData: AvatarData\n  setAvatarData: (data: AvatarData) => void\n  onClose?: () => void\n  onHideCloseButton?: () => void\n}\n\nexport default function VoiceAvatarDetails({ onBack, avatarData, setAvatarData, onClose, onHideCloseButton }: VoiceAvatarDetailsProps) {\n  const { user } = useSelector((state: RootState) => state.user)\n  const { clearAvatarUpdates } = useUnifiedSocketContext()\n  const { showNotification } = useNotificationStore()\n  const [agreedToTerms, setAgreedToTerms] = useState(false)\n  const [openDropdown, setOpenDropdown] = useState<string | null>(null)\n  const [errors, setErrors] = useState<Partial<Record<keyof AvatarData | 'terms' | 'general', string>>>({})\n  const [showErrors, setShowErrors] = useState(false)\n  const [isCreating, setIsCreating] = useState(false)\n\n  const genderOptions = [{ value: 'Male', label: 'Male' }, { value: 'Female', label: 'Female' }]\n  const languageOptions = [{ value: 'en', label: 'English' }]\n\n  useEffect(() => {\n    if (errors.general) {\n      const timer = setTimeout(() => {\n        setErrors(prev => ({ ...prev, general: undefined }))\n      }, 10000)\n\n      return () => clearTimeout(timer)\n    }\n  }, [errors.general])\n\n  const handleInputChange = (field: keyof AvatarData, value: string) => {\n    setAvatarData({ ...avatarData, [field]: value });\n    if (errors[field]) setErrors({ ...errors, [field]: undefined });\n  }\n\n  const handleDropdownSelect = (field: keyof AvatarData, value: string) => {\n    setAvatarData({ ...avatarData, [field]: value });\n    setOpenDropdown(null);\n    if (errors[field]) setErrors({ ...errors, [field]: undefined });\n  }\n\n  const validateForm = () => {\n    const newErrors: Partial<Record<keyof AvatarData | 'terms' | 'general', string>> = {}\n    if (!avatarData.name.trim()) newErrors.name = 'Name is required'\n    if (!avatarData.description.trim()) newErrors.description = 'Description is required'\n    if (!avatarData.gender) newErrors.gender = 'Gender is required'\n    if (!avatarData.language) newErrors.language = 'Language is required'\n    if (!agreedToTerms) newErrors.terms = 'You must agree to the terms'\n    if (!avatarData.audioFiles || avatarData.audioFiles.length < 1) {\n      newErrors.general = 'Please record at least 1 voice sample (first sample is required)'\n    }\n    setErrors(newErrors)\n    return Object.keys(newErrors).length === 0\n  }\n\n  const handleCreate = async () => {\n    setShowErrors(true)\n    if (!validateForm() || !avatarData.audioFiles || avatarData.audioFiles.length < 1) return\n\n    setIsCreating(true)\n    if (onHideCloseButton) onHideCloseButton()\n    clearAvatarUpdates()\n\n    const formData = new FormData()\n    avatarData.audioFiles.forEach(file => {\n      if (file !== null) {\n        formData.append('files', file)\n      }\n    })\n    formData.append('name', avatarData.name)\n    formData.append('description', avatarData.description)\n    formData.append('gender', avatarData.gender.toLowerCase())\n    formData.append('language', avatarData.language)\n\n    try {\n      const result = await apiService.createVoiceAvatar(formData)\n      if (result.success) {\n        showNotification(result.message || 'Custom voice added successfully', 'success')\n        if (onClose) onClose()\n      } else {\n        const errorMessage = result.message || 'Failed to create voice avatar'\n        showNotification(errorMessage, 'error')\n        setErrors({ ...errors, general: errorMessage })\n        setIsCreating(false)\n      }\n    } catch (error) {\n      console.error('Error creating voice avatar:', error)\n      const errorMessage = 'Failed to create voice avatar'\n      showNotification(errorMessage, 'error')\n      setErrors({ ...errors, general: errorMessage })\n      setIsCreating(false)\n    }\n  }\n\n  const renderDropdown = (field: keyof AvatarData, options: { value: string; label: string }[], placeholder: string) => {\n    const currentValue = avatarData[field] as string\n    const selectedOption = options.find(option => option.value === currentValue)\n    const isOpen = openDropdown === field\n    const hasError = showErrors && errors[field]\n\n    return (\n      <div className=\"relative\">\n        <button type=\"button\" onClick={() => setOpenDropdown(isOpen ? null : field)}\n          className={`w-full px-4 py-[10.5px] text-[18px] font-normal bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-left transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white flex items-center justify-between cursor-pointer ${selectedOption ? 'text-gray-800 bg-[#F5F5F5]' : 'text-[#11101066]'} ${hasError ? 'ring-2 ring-red-500' : ''}`}>\n          <span>{selectedOption ? selectedOption.label : placeholder}</span>\n          <IoMdArrowDropdown className={`w-4 h-4 transition-transform duration-300 ${isOpen ? 'rotate-180' : ''}`} />\n        </button>\n        {isOpen && (\n          <div className=\"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-[8px] shadow-lg max-h-60 overflow-y-auto\">\n            {options.map((option) => (\n              <button key={option.value} type=\"button\" onClick={() => handleDropdownSelect(field, option.value)}\n                className=\"w-full px-4 py-2 text-left hover:bg-gray-100 text-gray-800\">\n                {option.label}\n              </button>\n            ))}\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"text-left px-2\">\n        <p className=\"text-[18px] font-normal text-[#5F5F5F]\">Now, let&apos;s add some details to bring your avatar to life.</p>\n      </div>\n\n      {showErrors && errors.general && (\n        <div className=\"px-2 mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2\">\n          <AlertCircle className=\"w-5 h-5 text-red-500 flex-shrink-0\" />\n          <p className=\"text-red-700 text-sm\">{errors.general}</p>\n        </div>\n      )}\n\n      <div className=\"space-y-4 px-2\">\n        <div>\n          <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">Name <span className=\"text-red-500\">*</span></label>\n          <input type=\"text\" value={avatarData.name} onChange={(e) => handleInputChange('name', e.target.value)} placeholder=\"Enter Name\" className={`w-full px-4 py-[10.5px] text-[18px] font-normal placeholder:text-[#11101066] bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-gray-800 transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white ${showErrors && errors.name ? 'ring-2 ring-red-500' : ''}`} />\n          {showErrors && errors.name && <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\"><AlertCircle className=\"w-4 h-4\" />{errors.name}</p>}\n        </div>\n        <div>\n          <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">Description <span className=\"text-red-500\">*</span></label>\n          <textarea value={avatarData.description} onChange={(e) => handleInputChange('description', e.target.value)} placeholder=\"Enter Description\" rows={4} className={`w-full px-4 py-[10.5px] text-[18px] font-normal placeholder:text-[#11101066] bg-[#EEEEEE] hover:bg-[#F5F5F5] border-0 rounded-[8px] text-gray-800 transition-all duration-300 focus:outline-none focus:ring focus:ring-[#5046E5] focus:bg-white resize-none ${showErrors && errors.description ? 'ring-2 ring-red-500' : ''}`} />\n          {showErrors && errors.description && <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\"><AlertCircle className=\"w-4 h-4\" />{errors.description}</p>}\n        </div>\n        <div>\n          <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">Gender <span className=\"text-red-500\">*</span></label>\n          {renderDropdown('gender', genderOptions, 'Select Gender')}\n          {showErrors && errors.gender && <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\"><AlertCircle className=\"w-4 h-4\" />{errors.gender}</p>}\n        </div>\n        <div>\n          <label className=\"block text-[16px] font-normal text-[#5F5F5F] mb-1\">Language <span className=\"text-red-500\">*</span></label>\n          {renderDropdown('language', languageOptions, 'Select')}\n          {showErrors && errors.language && <p className=\"text-red-500 text-sm mt-1 flex items-center gap-1\"><AlertCircle className=\"w-4 h-4\" />{errors.language}</p>}\n        </div>\n      </div>\n\n      <div className=\"flex items-start gap-3 mt-5\">\n        <Checkbox checked={agreedToTerms} onChange={(e) => {\n          const checked = e?.target?.checked || false\n          setAgreedToTerms(checked)\n          if (checked && errors.terms) setErrors({ ...errors, terms: undefined })\n        }} label=\"By creating an avatar, I confirm that I am over 18 years of age (or the legal age in my country) and that the audio files used belong to me or I have obtained explicit permission from the individual represented. I understand that I am solely responsible for the content I upload and that the use of these audio files must comply with all applicable laws and regulations. Additionally, I agree not to upload any audio that infringes on others rights or that I do not have permission to use. By proceeding, I accept the Terms of Service and Privacy Policy.\" id=\"voice-terms-agreement\" />\n      </div>\n      {showErrors && errors.terms && <p className=\"text-red-500 text-sm mt-2 flex items-center gap-1\"><AlertCircle className=\"w-4 h-4\" />{errors.terms}</p>}\n\n      <div className=\"flex flex-col gap-2 pt-0\">\n        {!isCreating && <button onClick={onBack} className=\"flex items-center gap-2 text-[#667085] hover:text-[#5046E5] transition-colors duration-300 w-fit\">\n          <ArrowLeft className=\"w-4 h-4\" />\n          Back\n        </button>}\n        <button onClick={handleCreate} disabled={isCreating}\n          className={`px-8 py-[11.3px] font-semibold text-[20px] rounded-full transition-colors duration-300 cursor-pointer w-full bg-[#5046E5] text-white hover:text-[#5046E5] hover:bg-transparent border-2 border-[#5046E5] ${isCreating ? 'opacity-50 cursor-not-allowed' : ''}`}>\n          {isCreating ? 'Creating...' : 'Create'}\n        </button>\n      </div>\n\n      {openDropdown && <div className=\"fixed inset-0 z-40\" onClick={() => setOpenDropdown(null)} />}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6415, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/AvatarCreationModal.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useModalScrollLock } from '@/hooks/useModalScrollLock'\nimport Step2ChooseType from './steps/Step2ChooseType'\nimport Step6PhotoInstructions from './steps/Step6PhotoInstructions'\nimport Step7PhotoUpload from './steps/Step7PhotoUpload'\nimport Step8Details from './steps/Step8Details'\nimport Step9AvatarReady from './steps/Step9AvatarReady'\nimport Step1Intro from './steps/Step1Intro'\nimport VideoAvatarStep4 from './steps/videoAvatarStep4'\nimport VideoAvatarStep5 from './steps/videoAvatarStep5'\nimport DigitalTwinGuidelines from './steps/DigitalTwinGuidelines'\nimport TrainingVideoUpload from './steps/TrainingVideoUpload'\nimport ConsentVideoUpload from './steps/ConsentVideoUpload'\nimport VoiceAudioUpload from './steps/VoiceAudioUpload'\nimport VoiceAvatarDetails from './steps/VoiceAvatarDetails'\n\nexport type AvatarType = 'digital-twin' | 'photo-avatar' | 'voice-avatar'\n\nexport interface AvatarData {\n  name: string\n  age: string\n  gender: string\n  ethnicity: string\n  description: string\n  language: string\n  videoFile: File | null\n  consentVideoFile: File | null\n  photoFiles: File[]\n  audioFiles: (File | null)[]\n  avatarType: AvatarType | null\n}\n\ninterface AvatarCreationModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onShowToast?: (message: string, type: 'success' | 'error' | 'info') => void\n}\n\nexport default function AvatarCreationModal({ isOpen, onClose, onShowToast }: AvatarCreationModalProps) {\n  const [currentStep, setCurrentStep] = useState(2)\n  const [selectedAvatarType, setSelectedAvatarType] = useState<AvatarType | null>(null)\n  const [hideCloseButton, setHideCloseButton] = useState(false)\n  const [avatarData, setAvatarData] = useState<AvatarData>({\n    name: '',\n    age: '',\n    gender: '',\n    ethnicity: '',\n    description: '',\n    language: '',\n    videoFile: null,\n    consentVideoFile: null,\n    photoFiles: [],\n    audioFiles: [null, null, null],\n    avatarType: null\n  })\n\n  // Lock body scroll when modal is open (handles multiple modals globally)\n  useModalScrollLock(isOpen)\n\n  const handleNext = () => {\n    // For digital-twin: Progress normally through steps 4 (TrainingVideoUpload) â†’ 5 (ConsentVideoUpload)\n    // The modal will close after consent video is uploaded and avatar is created\n    setCurrentStep(prev => prev + 1)\n  }\n\n\n  const handleSkipBackToUpload = () => {\n    // Skip back to step 3 (Upload options)\n    // This skips step 4 (WebcamRecord) and step 5 (QRCode) when going backward\n    setCurrentStep(3)\n  }\n\n  const handleBack = () => {\n    // Reset hideCloseButton when navigating back\n    setHideCloseButton(false)\n    setCurrentStep(prev => prev - 1)\n  }\n\n  const handleAvatarTypeSelect = (type: AvatarType) => {\n    setSelectedAvatarType(type)\n    setAvatarData(prev => ({ ...prev, avatarType: type }))\n    // Don't auto-advance - user needs to click Next\n  }\n\n  const handleAvatarTypeNext = () => {\n    if (selectedAvatarType) {\n      handleNext()\n    }\n  }\n\n  const handleClose = () => {\n    setCurrentStep(2)\n    setSelectedAvatarType(null)\n    setHideCloseButton(false)\n    setAvatarData({\n      name: '',\n      age: '',\n      gender: '',\n      ethnicity: '',\n      description: '',\n      language: '',\n      videoFile: null,\n      consentVideoFile: null,\n      photoFiles: [],\n      audioFiles: [null, null, null],\n      avatarType: null\n    })\n    onClose()\n  }\n\n  const handleAvatarCreationSuccess = () => {\n    // Close modal immediately - WebSocket will handle progress notifications\n    handleClose()\n  }\n\n  const handleSetAvatarData = (data: AvatarData) => {\n    setAvatarData(data)\n  }\n\n  // Helper function to check if current step needs narrow width\n  const isNarrowWidth = () => {\n    return (currentStep === 3 && selectedAvatarType === 'photo-avatar') ||\n           (currentStep === 4 && selectedAvatarType === 'photo-avatar') ||\n           (currentStep === 5 && selectedAvatarType === 'photo-avatar') ||\n           (currentStep === 5 && selectedAvatarType === 'digital-twin') ||\n           (currentStep === 6 && selectedAvatarType === 'photo-avatar') ||\n           (currentStep === 9 && selectedAvatarType === 'digital-twin') ||\n           (currentStep === 3 && selectedAvatarType === 'voice-avatar') ||\n           (currentStep === 4 && selectedAvatarType === 'voice-avatar')\n  }\n\n  const renderStep = () => {\n    switch (currentStep) {\n      case 1:\n        return <Step1Intro onNext={handleNext} />\n      \n      case 2:\n        return <Step2ChooseType \n          onAvatarTypeSelect={handleAvatarTypeSelect} \n          onAvatarTypeNext={handleAvatarTypeNext}\n          selectedType={selectedAvatarType}\n        />\n      \n      case 3:\n        if (selectedAvatarType === 'digital-twin') {\n          return <DigitalTwinGuidelines onNext={handleNext} onBack={handleBack} />\n        } else if (selectedAvatarType === 'voice-avatar') {\n          return <VoiceAudioUpload onNext={handleNext} onBack={handleBack} avatarData={avatarData} setAvatarData={handleSetAvatarData} />\n        } else {\n          return (\n            <Step6PhotoInstructions \n              onNext={handleNext}\n              onBack={handleBack}\n            />\n          )\n        }\n      \n      case 4:\n        if (selectedAvatarType === 'digital-twin') {\n          return <TrainingVideoUpload onNext={handleNext} onBack={handleBack} avatarData={avatarData} setAvatarData={handleSetAvatarData} />\n        } else if (selectedAvatarType === 'voice-avatar') {\n          return <VoiceAvatarDetails onBack={handleBack} avatarData={avatarData} setAvatarData={handleSetAvatarData} onClose={handleAvatarCreationSuccess} onHideCloseButton={() => setHideCloseButton(true)} />\n        } else {\n          return (\n            <Step7PhotoUpload \n              onNext={handleNext}\n              onBack={handleBack}\n              avatarData={avatarData}\n              setAvatarData={handleSetAvatarData}\n            />\n          )\n        }\n      \n      case 5:\n        if (selectedAvatarType === 'digital-twin') {\n          return <ConsentVideoUpload onNext={handleNext} onBack={handleBack} onClose={handleAvatarCreationSuccess} avatarData={avatarData} setAvatarData={handleSetAvatarData} onCreateStart={() => setHideCloseButton(true)} />\n        } else {\n          return (\n            <Step8Details \n              onBack={handleBack}\n              avatarData={avatarData}\n              setAvatarData={handleSetAvatarData}\n              onClose={handleAvatarCreationSuccess}\n            />\n          )\n        }\n      \n      case 6:\n        if (selectedAvatarType === 'digital-twin') {\n          return (\n            <VideoAvatarStep4\n              onNext={handleNext}\n              onBack={handleBack}\n            />\n          )\n        } else {\n          return (\n            <Step9AvatarReady \n              onNext={handleNext}\n              onBack={handleBack}\n              avatarData={avatarData}\n              setAvatarData={handleSetAvatarData}\n            />\n          )\n        }\n      \n      case 7:\n        if (selectedAvatarType === 'digital-twin') {\n          return (\n            <VideoAvatarStep5\n              onBack={handleBack}\n              avatarData={avatarData}\n              setAvatarData={handleSetAvatarData}\n              onSkipBackToUpload={handleSkipBackToUpload}\n              onClose={handleAvatarCreationSuccess}\n              onShowToast={onShowToast}\n            />\n          )\n        } else {\n          return null\n        }\n\n      case 9:\n        if (selectedAvatarType === 'digital-twin') {\n          return <VideoAvatarStep4 onNext={handleAvatarCreationSuccess} onBack={handleBack} />\n        }\n        break\n      \n      default:\n        return <Step1Intro onNext={handleNext} />\n    }\n  }\n\n\n  // Dynamic modal sizing based on current step\n  const getModalDimensions = () => {\n    if (selectedAvatarType == 'digital-twin' && currentStep == 3) {\n      return {\n        maxWidth: 'max-w-[1100px]',\n        maxHeight: 'max-h-[900px]',\n        padding: ''\n      }\n    }\n    if (selectedAvatarType == 'digital-twin' && (currentStep == 4 || currentStep == 5)) {\n      return {\n        maxWidth: isNarrowWidth() ? 'max-w-[900px]' : 'max-w-[900px]',\n        maxHeight: 'max-h-[650px]',\n        padding: ''\n      }\n    }\n    if (selectedAvatarType == 'voice-avatar' && currentStep == 3) {\n      return {\n        maxWidth: isNarrowWidth() ? 'max-w-[760px]' : 'max-w-[760px]',\n        maxHeight: 'max-h-[650px]',\n        padding: 'p-3'\n      }\n    }\n    return {\n      maxWidth: isNarrowWidth() ? 'max-w-[760px]' : 'max-w-[1100px]',\n      maxHeight: 'max-h-[840px]',\n      padding: 'p-3'\n    }\n  }\n\n  const modalDimensions = getModalDimensions()\n\n\n  if (!isOpen) return null\n\n  return (\n    <div className={`fixed inset-0 bg-black/80 py-3 flex items-center justify-center z-50 ${modalDimensions.padding}`}>\n      <div className={`bg-white rounded-[12px] md:px-8 px-4 pb-6 md:pt-6 pt-4 ${modalDimensions.maxWidth} w-full ${modalDimensions.maxHeight} h-full flex flex-col relative ${selectedAvatarType === 'digital-twin' ? 'avatar-dropdown-shadow' : ''}`}>\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-5\">\n          <h2 className=\"md:text-[32px] text-[24px] font-semibold text-[#282828]\">\n            {selectedAvatarType === 'voice-avatar' && (currentStep === 3 || currentStep === 4) ? 'Create Voice Clone' : 'Create Avatar'}\n          </h2>\n          {!hideCloseButton && (\n            <button\n              onClick={handleClose}\n              className=\"cursor-pointer\"\n              aria-label=\"Close avatar creation modal\"\n            >\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M22.5 1.5L1.5 22.5M1.5 1.5L22.5 22.5\" stroke=\"black\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n              </svg>\n            </button>\n          )}\n        </div>\n\n        {/* Step Content */}\n        <div className=\"flex-1 overflow-y-auto\">\n          {renderStep()}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6832, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/Step3VideoUpload.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef } from 'react'\nimport { Upload, Video, Camera, Smartphone, ArrowLeft } from 'lucide-react'\nimport Image from 'next/image'\nimport Clipboard from '../../clipboard'\n\ninterface AvatarData {\n  name: string\n  age: string\n  gender: string\n  ethnicity: string\n  videoFile: File | null\n  photoFiles: File[]\n  avatarType: 'digital-twin' | 'photo-avatar' | null\n}\n\ninterface Step3VideoUploadProps {\n  onNext: () => void\n  onBack: () => void\n  avatarData: AvatarData\n  setAvatarData: (data: AvatarData) => void\n  onSkipToDetails?: () => void // Add optional prop to skip to details\n}\n\ntype UploadTab = 'upload' | 'webcam' | 'phone'\n\nexport default function Step3VideoUpload({ onNext, onBack, avatarData, setAvatarData, onSkipToDetails }: Step3VideoUploadProps) {\n  const [activeTab, setActiveTab] = useState<UploadTab>('upload')\n  const [dragActive, setDragActive] = useState(false)\n  const fileInputRef = useRef<HTMLInputElement>(null)\n\n  const tabs = [\n    { id: 'upload', label: 'Upload footage', icon: <Upload className=\"w-4 h-4\" /> },\n    { id: 'webcam', label: 'Record via webcam', icon: <Camera className=\"w-4 h-4\" /> },\n    { id: 'phone', label: 'Record via phone', icon: <Smartphone className=\"w-4 h-4\" /> }\n  ]\n\n  const handleDrag = (e: React.DragEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true)\n    } else if (e.type === 'dragleave') {\n      setDragActive(false)\n    }\n  }\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setDragActive(false)\n\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      const file = e.dataTransfer.files[0]\n      if (file.type.startsWith('video/')) {\n        setAvatarData({ ...avatarData, videoFile: file })\n      }\n    }\n  }\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0]\n      setAvatarData({ ...avatarData, videoFile: file })\n    }\n  }\n\n  const handleCreate = () => {\n    // Skip webcam and phone recording steps - go directly to avatar details\n    if (activeTab === 'upload' && avatarData.videoFile) {\n      // For upload tab, we have a video file, so skip to avatar details\n      if (onSkipToDetails) {\n        onSkipToDetails()\n      } else {\n        onNext()\n      }\n    } else if (activeTab === 'webcam' || activeTab === 'phone') {\n      // For webcam and phone tabs, skip directly to avatar details without requiring video\n      if (onSkipToDetails) {\n        onSkipToDetails()\n      } else {\n        onNext()\n      }\n    }\n  }\n\n  return (\n    <div className=\" pr-2\">\n      {/* Header */}\n      <div className=\"text-center\">\n        <h3 className=\"text-[24px] font-semibold text-[#101010] mb-3\">\n          Upload your footage\n        </h3>\n        <p className=\"text-[18px] text-[#5F5F5F] max-w-[710px] mx-auto leading-[24px]\">\n        For optimal, most realistic results, we recommend uploading a 2 min video recorded with a high-resolution camera or smartphone.If you&apos;re just testing the product, feel free to submit a 30s recording using your webcam.\n        </p>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"flex justify-between max-w-[435px] px-1 py-1 mt-10 mb-8 mx-auto bg-[#F3F4F6] rounded-[6px] border border-[#E5E7EB]\">\n        {tabs.map((tab) => (\n          <button\n            key={tab.id}\n            onClick={() => setActiveTab(tab.id as UploadTab)}\n            className={`text-[14px] text-center py-[6.6px] px-3 font-medium transition-colors duration-300 ${\n              activeTab === tab.id\n                ? 'text-[#6366F1] bg-[#FFFFFF] rounded-[6px]'\n                : 'text-[#1F2937] hover:text-[#6366F1] rounded-[6px]'\n            }`}\n          >\n            {tab.label}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"max-w-[724px] mx-auto\">\n\n        {/* Tab Content */}\n        {activeTab === 'upload' && (\n          <div className=\"space-y-4 mb-[10px]\">\n            {/* Upload Area */}\n            <div\n              className={`border border-dashed rounded-[8px] md:p-8 p-4 text-center transition-colors duration-300 cursor-pointer ${\n                dragActive\n                  ? 'border-[#6366F1] bg-[#F0F0FF]'\n                  : 'border-[#D1D5DB] hover:border-[#6366F1]'\n              }`}\n              onDragEnter={handleDrag}\n              onDragLeave={handleDrag}\n              onDragOver={handleDrag}\n              onDrop={handleDrop}\n            >\n              <h4 className=\"text-[20px] font-semibold text-[#101010] mb-5\">\n                Drag and drop video, or click to upload\n              </h4>\n              <p className=\"text-[14px] text-[#5F5F5F] mb-6 leading-[18px]\">\n                landscape or portrait video, mp4/mov/webm format <br className='md:block hidden' />\n                at least 30s, 2-10min recommended, 360p-4K resolution, { \"<\" } 10GB \n              </p>\n\n              <button\n                onClick={() => fileInputRef.current?.click()}\n                className=\"text-[#6366F1] font-normal transition-colors duration-300 hover:text-[#5046E5] text-[14px]\"\n              >\n                Browse local files\n              </button>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\"video/*\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n              />\n\n              {/* Google HardDriveUpload Option */}\n              <div className=\"text-center mt-6 bg-[#F3F4F6] rounded-[12px] px-4 py-[22.2px] max-w-[654px] mx-auto\">\n                <p className=\"text-[16px] text-[#1F2937] mb-2 font-semibold\">Or upload via Google Drive</p>\n\n                <div className=\"relative flex items-center pt-2\">\n                <input type='text' placeholder='Paste video URL here (up to 50GB)'\n                  className=\"pr-4 pl-12 py-3 text-sm text-[#1F2937] rounded-[8px] bg-[#FFFFFF] border border-[#E5E7EB] hover:border-[#6366F1] w-full outline-none placeholder:text-[#6B7280] transition-colors duration-300\" />\n\n                <div className=\"absolute left-4\">\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\">\n                  <rect width=\"20\" height=\"20\" fill=\"url(#pattern0_7905_1130)\"/>\n                  <defs>\n                  <pattern id=\"pattern0_7905_1130\" patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\n                  <use xlinkHref=\"#image0_7905_1130\" transform=\"scale(0.05)\"/>\n                  </pattern>\n                  <image id=\"image0_7905_1130\" width=\"20\" height=\"20\" preserveAspectRatio=\"none\" xlinkHref=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAMtJREFUOE/tky8LhDAYxh8RbSIqBj+CVoPgdzc5w5rYBcFkME0mpsnedOGU6R2WuzeOvT+eP5vV973CF8f6Az9O8/kMl2XBNE2QUsJxHCRJAt/3D52cKpznGW3bIooigqzrCn1WliVs234LPQU2TYMgCJBlmXG2h8Bt21DXNfI8J6jpGAOFEOCcE7coCnied90yY4zyS9OUlpVSqKrqPlAX0HUdQbVtHcMwDPeBWpWGjONIDbuuiziOEYbhvWdjWsTrved/ylWVP6hwB3xoj81aSPfUAAAAAElFTkSuQmCC\"/></defs></svg>\n                </div>\n              </div>\n\n              </div>\n            </div>\n\n\n\n            {/* Selected File */}\n            {avatarData.videoFile && (\n              <div className=\"bg-[#F0F0FF] border border-[#6366F1] rounded-[8px] p-4\">\n                <div className=\"flex items-center gap-3\">\n                  <Video className=\"w-6 h-6 text-[#5046E5]\" />\n                  <div className=\"flex-1\">\n                    <p className=\"text-[14px] font-medium text-[#282828]\">\n                      {avatarData.videoFile.name}\n                    </p>\n                    <p className=\"text-[12px] text-[#667085]\">\n                      {(avatarData.videoFile.size / (1024 * 1024)).toFixed(2)} MB\n                    </p>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'webcam' && (\n          <>\n            <div className=\"text-center flex flex-col items-center justify-center py-8 bg-[#F5F7FC] rounded-[8px] min-h-[280px]\">\n              <button className=\"bg-transparent text-[#7C6FFF] px-2 py-2 rounded-[6px] hover:bg-[#7C6FFF] border hover:text-white border-[#7C6FFF] transition-colors duration-300 text-[16px] font-normal max-w-[188px] w-full mx-auto\">\n                Turn on Cam & Mic\n              </button>\n              <p className=\"text-[14px] text-[#5F5F5F] mt-7 leading-[18px]\">\n                Your browser may ask for permission to use your camera <br className='md:block hidden' /> and microphone.\n              </p>\n            </div>\n            <div className=\"flex justify-center mt-10\">\n              <button className=\"bg-[#B9B4F9] text-white px-2 py-[12px] rounded-[6px] hover:bg-[#7C6FFF] hover:text-white transition-colors duration-300 text-[16px] font-normal max-w-[120px] w-full mx-auto\">Record</button>\n            </div>\n          </>\n        )}\n\n        {activeTab === 'phone' && (\n          <div className=\"text-center pt-5 pb-2 px-5 max-w-[350px] mx-auto bg-[#F5F7FC] rounded-[16px]\">\n            <Image src=\"/images/avatars/qrcode.png\" alt=\"phone\" width={1000} height={1000} className=\"mx-auto mb-4 w-[270px] h-[270px]\" />\n            <Clipboard url=\"https://app.heygen.com/record...\" />\n            <p className=\"text-[14px] text-[#5F5F5F] mb-4 mt-4 leading-[18px]\">\n              QR code and URL will expire after <br />\n              19:58 Refresh now \n            </p>\n          </div>\n        )}\n\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex flex-col gap-2 justify-between pt-5\">\n        <button\n          onClick={onBack}\n          className=\"flex items-center gap-2 text-[#667085] hover:text-[#5046E5] transition-colors duration-300 w-fit\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          Back\n        </button>\n        <button\n          onClick={handleCreate}\n          className={`px-8 py-[11.3px] font-semibold text-[20px] rounded-full transition-colors duration-300 cursor-pointer w-full bg-[#5046E5] text-white hover:text-[#5046E5] hover:bg-transparent border-2 border-[#5046E5] `}\n        >\n          Create\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7369, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/Step4WebcamRecord.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport { Camera, ArrowLeft, Square, Play } from 'lucide-react'\n\ninterface AvatarData {\n  name: string\n  age: string\n  gender: string\n  ethnicity: string\n  videoFile: File | null\n  photoFiles: File[]\n  avatarType: 'digital-twin' | 'photo-avatar' | null\n}\n\ninterface Step4WebcamRecordProps {\n  onNext: () => void\n  onBack: () => void\n  avatarData: AvatarData\n  setAvatarData: (data: AvatarData) => void\n}\n\nexport default function Step4WebcamRecord({ onNext, onBack, avatarData, setAvatarData }: Step4WebcamRecordProps) {\n  const [isRecording, setIsRecording] = useState(false)\n  const [hasPermission, setHasPermission] = useState(false)\n  const [stream, setStream] = useState<MediaStream | null>(null)\n  const videoRef = useRef<HTMLVideoElement>(null)\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null)\n  const recordedChunksRef = useRef<Blob[]>([])\n\n  useEffect(() => {\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop())\n      }\n    }\n  }, [stream])\n\n  const startCamera = async () => {\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      })\n      setStream(mediaStream)\n      setHasPermission(true)\n      \n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream\n      }\n    } catch (error) {\n      console.error('Error accessing camera:', error)\n      setHasPermission(false)\n    }\n  }\n\n  const startRecording = () => {\n    if (!stream) return\n\n    recordedChunksRef.current = []\n    const mediaRecorder = new MediaRecorder(stream, {\n      mimeType: 'video/webm;codecs=vp9'\n    })\n\n    mediaRecorder.ondataavailable = (event) => {\n      if (event.data.size > 0) {\n        recordedChunksRef.current.push(event.data)\n      }\n    }\n\n    mediaRecorder.onstop = () => {\n      const blob = new Blob(recordedChunksRef.current, { type: 'video/webm' })\n      const file = new File([blob], 'webcam-recording.webm', { type: 'video/webm' })\n      setAvatarData({ ...avatarData, videoFile: file })\n    }\n\n    mediaRecorderRef.current = mediaRecorder\n    mediaRecorder.start()\n    setIsRecording(true)\n  }\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop()\n      setIsRecording(false)\n    }\n  }\n\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"text-center\">\n        <h3 className=\"text-[24px] font-semibold text-[#282828] mb-2\">\n          Record via webcam\n        </h3>\n        <p className=\"text-[16px] text-[#667085]\">\n          Record directly from your camera and microphone\n        </p>\n      </div>\n\n      {/* Camera View */}\n      <div className=\"flex justify-center\">\n        <div className=\"relative\">\n          {!hasPermission ? (\n            <div className=\"w-96 h-64 bg-[#EEEEEE] rounded-lg flex items-center justify-center\">\n              <div className=\"text-center\">\n                <Camera className=\"w-16 h-16 text-[#98A2B3] mx-auto mb-4\" />\n                <p className=\"text-[16px] text-[#667085] mb-4\">\n                  Camera not started\n                </p>\n                <button\n                  onClick={startCamera}\n                  className=\"bg-[#5046E5] text-white px-6 py-2 rounded-full font-medium hover:bg-[#4338CA] transition-colors duration-300\"\n                >\n                  Turn on Cam & Mic\n                </button>\n              </div>\n            </div>\n          ) : (\n            <div className=\"relative\">\n              <video\n                ref={videoRef}\n                autoPlay\n                playsInline\n                muted\n                className=\"w-96 h-64 bg-black rounded-lg\"\n              />\n              {isRecording && (\n                <div className=\"absolute top-4 right-4 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-medium\">\n                  REC\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Recording Controls */}\n      {hasPermission && (\n        <div className=\"flex justify-center gap-4\">\n          {!isRecording ? (\n            <button\n              onClick={startRecording}\n              className=\"flex items-center gap-2 bg-[#5046E5] text-white px-6 py-2 rounded-full font-medium hover:bg-[#4338CA] transition-colors duration-300\"\n            >\n              <Play className=\"w-4 h-4\" />\n              Start Recording\n            </button>\n          ) : (\n            <button\n              onClick={stopRecording}\n              className=\"flex items-center gap-2 bg-red-500 text-white px-6 py-2 rounded-full font-medium hover:bg-red-600 transition-colors duration-300\"\n            >\n              <Square className=\"w-4 h-4\" />\n              Stop Recording\n            </button>\n          )}\n        </div>\n      )}\n\n      {/* Permission Info */}\n      <div className=\"text-center\">\n        <p className=\"text-[12px] text-[#98A2B3]\">\n          Your browser may ask for permission to use your camera and microphone.\n        </p>\n      </div>\n\n      {/* Selected File */}\n      {avatarData.videoFile && (\n        <div className=\"bg-[#F0F0FF] border border-[#5046E5] rounded-lg p-4\">\n          <div className=\"flex items-center gap-3\">\n            <Camera className=\"w-6 h-6 text-[#5046E5]\" />\n            <div className=\"flex-1\">\n              <p className=\"text-[14px] font-medium text-[#282828]\">\n                {avatarData.videoFile.name}\n              </p>\n              <p className=\"text-[12px] text-[#667085]\">\n                {(avatarData.videoFile.size / (1024 * 1024)).toFixed(2)} MB\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Navigation Buttons */}\n      <div className=\"flex justify-between pt-4\">\n        <button\n          onClick={onBack}\n          className=\"flex items-center gap-2 text-[#667085] hover:text-[#5046E5] transition-colors duration-300 w-fit\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          Back\n        </button>\n        <div className=\"flex gap-3\">\n          <button\n            onClick={onNext}\n            className=\"px-6 py-[11.4px] bg-[#5046E5] text-white rounded-full font-semibold text-[18px] hover:bg-[#4338CA] transition-colors duration-300\"\n          >\n            Create\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7736, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/steps/Step5QRCode.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { QrCode, Smartphone, ArrowLeft, Clock } from 'lucide-react'\n\ninterface AvatarData {\n  name: string\n  age: string\n  gender: string\n  ethnicity: string\n  videoFile: File | null\n  consentVideoFile: File | null\n  photoFiles: File[]\n  avatarType: 'digital-twin' | 'photo-avatar' | null\n}\n\ninterface Step5QRCodeProps {\n  onNext: () => void\n  onBack: () => void\n  avatarData: AvatarData\n  setAvatarData: (data: AvatarData) => void\n}\n\nexport default function Step5QRCode({ onNext, onBack, avatarData, setAvatarData }: Step5QRCodeProps) {\n  const [timeLeft, setTimeLeft] = useState(600) // 10 minutes in seconds\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer)\n          return 0\n        }\n        return prev - 1\n      })\n    }, 1000)\n\n    return () => clearInterval(timer)\n  }, [])\n\n  const formatTime = (seconds: number) => {\n    const minutes = Math.floor(seconds / 60)\n    const remainingSeconds = seconds % 60\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`\n  }\n\n  const handleCreate = () => {\n    // In a real implementation, this would check if the mobile upload is complete\n    onNext()\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"text-center\">\n        <h3 className=\"text-[24px] font-semibold text-[#282828] mb-2\">\n          Record via phone\n        </h3>\n        <p className=\"text-[16px] text-[#667085]\">\n          Use your mobile device to record or upload footage\n        </p>\n      </div>\n\n      {/* QR Code Section */}\n      <div className=\"flex justify-center\">\n        <div className=\"text-center\">\n          {/* QR Code Placeholder */}\n          <div className=\"w-64 h-64 bg-[#EEEEEE] rounded-lg mx-auto mb-4 flex items-center justify-center\">\n            <QrCode className=\"w-32 h-32 text-[#98A2B3]\" />\n          </div>\n          \n          {/* QR Code Info */}\n          <div className=\"space-y-2\">\n            <p className=\"text-[16px] text-[#282828] font-medium\">\n              Scan QR code to upload or record from your phone\n            </p>\n            <div className=\"flex items-center justify-center gap-2 text-[#667085]\">\n              <Clock className=\"w-4 h-4\" />\n              <span className=\"text-[14px]\">\n                Expires at {formatTime(timeLeft)}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Instructions */}\n      <div className=\"bg-[#F9FAFB] rounded-lg p-6\">\n        <h4 className=\"text-[18px] font-semibold text-[#282828] mb-3\">\n          How to use:\n        </h4>\n        <ol className=\"list-decimal list-inside space-y-2 text-[14px] text-[#667085]\">\n          <li>Open your phone&apos;s camera app</li>\n          <li>Point it at the QR code above</li>\n          <li>Tap the notification that appears</li>\n          <li>Record your video or upload existing footage</li>\n          <li>Wait for the upload to complete</li>\n        </ol>\n      </div>\n\n      {/* Mobile Preview */}\n      <div className=\"flex justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-32 h-32 bg-[#EEEEEE] rounded-lg mx-auto mb-2 flex items-center justify-center\">\n            <Smartphone className=\"w-16 h-16 text-[#98A2B3]\" />\n          </div>\n          <p className=\"text-[12px] text-[#667085]\">Mobile recording</p>\n        </div>\n      </div>\n\n      {/* Upload Status */}\n      {avatarData.videoFile && (\n        <div className=\"bg-[#F0F0FF] border border-[#5046E5] rounded-lg p-4\">\n          <div className=\"flex items-center gap-3\">\n            <Smartphone className=\"w-6 h-6 text-[#5046E5]\" />\n            <div className=\"flex-1\">\n              <p className=\"text-[14px] font-medium text-[#282828]\">\n                {avatarData.videoFile.name}\n              </p>\n              <p className=\"text-[12px] text-[#667085]\">\n                {(avatarData.videoFile.size / (1024 * 1024)).toFixed(2)} MB\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Navigation Buttons */}\n      <div className=\"flex justify-between pt-4\">\n        <button\n          onClick={onBack}\n          className=\"flex items-center gap-2 text-[#667085] hover:text-[#5046E5] transition-colors duration-300 w-fit\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          Back\n        </button>\n        <button\n          onClick={handleCreate}\n          className=\"px-6 py-[11.4px] bg-[#5046E5] text-white rounded-full font-semibold text-[18px] hover:bg-[#4338CA] transition-colors duration-300\"\n        >\n          Create\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;;;AAHA;;;AAuBe,SAAS,YAAY,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,aAAa,EAAoB;;IACjG,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6LAAQ,EAAC,KAAK,wBAAwB;;IAEtE,IAAA,8LAAS;iCAAC;YACR,MAAM,QAAQ;+CAAY;oBACxB;uDAAY,CAAA;4BACV,IAAI,QAAQ,GAAG;gCACb,cAAc;gCACd,OAAO;4BACT;4BACA,OAAO,OAAO;wBAChB;;gBACF;8CAAG;YAEH;yCAAO,IAAM,cAAc;;QAC7B;gCAAG,EAAE;IAEL,MAAM,aAAa,CAAC;QAClB,MAAM,UAAU,KAAK,KAAK,CAAC,UAAU;QACrC,MAAM,mBAAmB,UAAU;QACnC,OAAO,GAAG,QAAQ,CAAC,EAAE,iBAAiB,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;IACrE;IAEA,MAAM,eAAe;QACnB,8EAA8E;QAC9E;IACF;IAEA,qBACE,iNAAC;QAAI,WAAU;;0BAEb,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAG,WAAU;kCAAgD;;;;;;kCAG9D,iNAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAM5C,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAI,WAAU;;sCAEb,iNAAC;4BAAI,WAAU;sCACb,cAAA,iNAAC,2OAAM;gCAAC,WAAU;;;;;;;;;;;sCAIpB,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;oCAAE,WAAU;8CAAyC;;;;;;8CAGtD,iNAAC;oCAAI,WAAU;;sDACb,iNAAC,oOAAK;4CAAC,WAAU;;;;;;sDACjB,iNAAC;4CAAK,WAAU;;gDAAc;gDAChB,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQjC,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAG,WAAU;kCAAgD;;;;;;kCAG9D,iNAAC;wBAAG,WAAU;;0CACZ,iNAAC;0CAAG;;;;;;0CACJ,iNAAC;0CAAG;;;;;;0CACJ,iNAAC;0CAAG;;;;;;0CACJ,iNAAC;0CAAG;;;;;;0CACJ,iNAAC;0CAAG;;;;;;;;;;;;;;;;;;0BAKR,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAI,WAAU;sCACb,cAAA,iNAAC,mPAAU;gCAAC,WAAU;;;;;;;;;;;sCAExB,iNAAC;4BAAE,WAAU;sCAA6B;;;;;;;;;;;;;;;;;YAK7C,WAAW,SAAS,kBACnB,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAI,WAAU;;sCACb,iNAAC,mPAAU;4BAAC,WAAU;;;;;;sCACtB,iNAAC;4BAAI,WAAU;;8CACb,iNAAC;oCAAE,WAAU;8CACV,WAAW,SAAS,CAAC,IAAI;;;;;;8CAE5B,iNAAC;oCAAE,WAAU;;wCACV,CAAC,WAAW,SAAS,CAAC,IAAI,GAAG,CAAC,OAAO,IAAI,CAAC,EAAE,OAAO,CAAC;wCAAG;;;;;;;;;;;;;;;;;;;;;;;;0BAQlE,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,iNAAC,oPAAS;gCAAC,WAAU;;;;;;4BAAY;;;;;;;kCAGnC,iNAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT;GA1HwB;KAAA"}},
    {"offset": {"line": 8090, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/task2/src/components/ui/avatar-creation/index.ts"],"sourcesContent":["export { default as AvatarCreationModal } from './AvatarCreationModal'\nexport { default as Step1Intro } from './steps/Step1Intro'\nexport { default as Step2ChooseType } from './steps/Step2ChooseType'\nexport { default as Step3VideoUpload } from './steps/Step3VideoUpload'\nexport { default as Step4WebcamRecord } from './steps/Step4WebcamRecord'\nexport { default as Step5QRCode } from './steps/Step5QRCode'\nexport { default as Step6PhotoInstructions } from './steps/Step6PhotoInstructions'\nexport { default as Step7PhotoUpload } from './steps/Step7PhotoUpload'\nexport { default as Step8Details } from './steps/Step8Details'\nexport { default as Step9AvatarReady } from './steps/Step9AvatarReady'\n\nexport type { AvatarType } from './AvatarCreationModal'\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}}]
}